if (self.CavalryLogger) { CavalryLogger.start_js(["7DfVz"]); }

__d("MComposerStoreToInputMap",[],(function(a,b,c,d,e,f){e.exports={CONFIG:{csid:"csid"},SHARE:{ID:"sid",SHARE_URI:"linkUrl",FEEDBACK_SOURCE:"fs",APP_ID:"appid",INTERNAL_EXTRA:"internal_extra",LINK_NO_CHANGE:"link_no_change"}}}),null);
__d("MTouchableArea.react",["MJSEnvironment","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=h.PropTypes;var k=g.IS_ANDROID&&g.OS_VERSION<4.1,l=3;b=h.createClass({displayName:"MTouchableArea",propTypes:{onTouchEnd:a.func,onTouchMove:a.func,onTouchStart:a.func},getInitialState:function(){return{touchStartX:0,touchStartY:0,isTouched:!1}},handleTouchEnd:function(event){this.setState(this.getInitialState()),this.props.onTouchEnd&&this.props.onTouchEnd(event)},handleTouchMove:function(event){var a=event.nativeEvent.touches[0].screenX-this.state.touchStartX,b=event.nativeEvent.touches[0].screenY-this.state.touchStartY;(a>l||b>l)&&this.setState(this.getInitialState());this.props.onTouchMove&&this.props.onTouchMove(event)},handleTouchStart:function(event){k?this.setState({isTouched:!0,touchStartX:event.nativeEvent.touches[0].screenX,touchStartY:event.nativeEvent.touches[0].screenY}):this.setState({isTouched:!0}),this.props.onTouchStart&&this.props.onTouchStart(event)},render:function(){var a=h.Children.only(this.props.children);return h.cloneElement(a,{className:j(a.props.className,this.state.isTouched?"touched":""),onTouchEnd:this.handleTouchEnd,onTouchMove:k?this.handleTouchMove:this.props.onTouchMove,onTouchStart:this.handleTouchStart})}});e.exports=b}),null);
__d("MCompositionFormatFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FORMAT_ID:"format_id",PREVIOUS_FORMAT_ID:"prev_format_id"})}),null);
__d("MCompositionFormatID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PHOTO:"photo",SLIDESHOW:"slideshow"})}),null);
__d("MCompositionFormatStore",["MCompositionFormatFields","MCompositionFormatID","MCompositionStore","MCompositionStoreID","emptyFunction","invariant","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();c=b("MCompositionConstants").ActionTypes;function a(a){if(a){var b=a[g.FORMAT_ID];Object.values(h).indexOf(b)!==-1||l(0);b=m.get(g.FORMAT_ID,null);a[g.PREVIOUS_FORMAT_ID]=b}return a}var m=new i(j.FORMAT,g).setRequiredFields(g.FORMAT_ID).setHandlerFor(c.COMPOSITION_FINALIZE,k.thatReturnsNull).setHandlerFor(c.COMPOSITION_INITIALIZE,a).setHandlerFor(c.FORMAT_CHANGE,a).register();e.exports=m}),null);
__d("MCompositionSlideshowFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IS_VALID:"is_valid"})}),null);
__d("MCompositionSlideshowStore",["MCompositionDispatcher","MCompositionPhotoFields","MCompositionPhotoStore","MCompositionSlideshowFields","MCompositionStore","MCompositionStoreID","MMultiPhotoUploaderAttachmentState","SlideshowConstants","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();c=b("MCompositionConstants").ActionTypes;function a(a){g.waitFor([i.toUpdate()]);a=i.get(h.PHOTO_INFO_LIST,null);var b=p.getAll(),c={};c[j.IS_VALID]=Boolean(a&&a.length>=n.min_photo_num&&a.length<=n.max_photo_num&&a.filter(function(a){return a.state!==m.UPLOADED}).length===0);return babelHelpers["extends"]({},b,c)}var p=new k(l.SLIDESHOW,j).setRequiredFields(j.IS_VALID).setHandlerFor(c.COMPOSITION_FINALIZE,o.thatReturnsNull).setHandlerFor(c.COMPOSITION_INITIALIZE,a).setHandlerFor(c.PHOTO_CHANGE,a).register();e.exports=p}),null);
__d("MTaggableActivityPreviewTemplate",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b}a.prototype.getTemplateArray=function(){"use strict";var a=0,b=this.$2.length,c,d=[];for(var e=0;e<=this.$2.length;e++)c=e!==b?this.$2[e].position:this.$1.length,d.push(this.$1.slice(a,c)),a=c;return d};a.prototype.getTokens=function(){"use strict";return this.$2};a.prototype.renderArray=function(a){"use strict";this.$2.length===a.length||g(0);var b=this.getTemplateArray().concat();for(var c=a.length;c>0;c--)b.splice(c,0,a[c-1]);return b};e.exports=a}),null);
__d("XTaggableActivityPreviewTemplateQueryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/intl/preview_template/",{action_type_id:{type:"Int",required:!0}})}),null);
__d("MTaggableActivityPreviewTemplateQuery",["Promise","ErrorUtils","MCache","MRequest","MTaggableActivityPreviewTemplate","MTaggableActivityPreviewTemplateConstants","XTaggableActivityPreviewTemplateQueryController","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o=l.TOKEN_TYPES,p=12096e5,q="__created_at";function r(a){return h.applyWithGuard(a,null,null,null,"MTaggableActivityPreviewTemplate")}function a(a){"use strict";this.$1=a,this.$2={has_place_type:"",has_users_type:""}}a.prototype.$3=function(a){"use strict";a[q]=Date.now();r(function(){return i.setItem(this.getCacheKey(),a)}.bind(this));return this.$4(a)};a.prototype.$4=function(a){"use strict";a=a[this.$5()];a||n(0);return new k(a.string,a.tokens)};a.prototype.getCacheKey=function(){"use strict";return[l.CACHE_PREFIX,l.VERSION,this.$1,l.LOCALE,l.GENDER].join("_")};a.prototype.$6=function(){"use strict";__p&&__p();var a=this.getCacheKey(),b=r(function(){return i.getItem(a)});if(!b)return null;if(Date.now()-b[q]>p){r(function(){return i.removeItem(a)});return null}return this.$4(b)};a.prototype.$5=function(){"use strict";return l.KEY_PREFIX+"_"+Object.keys(this.$2).sort().map(function(a){return this.$2[a]}.bind(this)).join("_")};a.prototype.getURI=function(){"use strict";return m.getURIBuilder().setInt("action_type_id",this.$1).getURI()};a.prototype.fetch=function(){"use strict";var a=this.$6();return a?g.resolve(a):this.$7()};a.prototype.$7=function(){"use strict";return new g(function(a){var b=new j(this.getURI()).setMethod("GET");b.listen("done",function(b){a(this.$3(b.payload.templates))}.bind(this));b.send()}.bind(this))};a.prototype.setHasPeople=function(){"use strict";this.$2.has_users_type=o.PEOPLE.MULTIPLE;return this};a.prototype.setHasPerson=function(){"use strict";this.$2.has_users_type=o.PEOPLE.SINGLE;return this};a.prototype.setHasPlace=function(){"use strict";this.$2.has_place_type=o.PLACE.SPECIFIC;return this};e.exports=a}),null);
__d("MComposerLoggerPublishingListeners",["MComposerLogger","MComposerWaterfallEvent"],(function(a,b,c,d,e,f,g,h){function a(a,b){"use strict";this.error=this.fail=function(){g.logWithSessionID(h.COMPOSER_POST_FAILURE,a,b)},this.done=function(){g.logWithSessionID(h.COMPOSER_POST_SUCCESS,a,b)}}e.exports=a}),null);
__d("SlideshowCreationWaterfallLogger",["MarauderLogger"],(function(a,b,c,d,e,f,g){a={logEvent:function(b,c,a){c=c||{},g.log(b,a,c,undefined,undefined,undefined)}};e.exports=a}),null);
__d("MComposerSlideshowLogger",["MCompositionConfigFields","MCompositionConfigStore","MCompositionPhotoFields","MCompositionPhotoStore","SlideshowCreationWaterfallLogger"],(function(a,b,c,d,e,f,g,h,i,j,k){a={log:function(a){var b=h.get(g.SESSION_ID,null),c=j.get(i.PHOTO_INFO_LIST,[]).length;k.logEvent(a,{photo_count:c,composer_session_id:b},"composer_slideshow")}};e.exports=a}),null);
__d("MComposerNavigationMixin",["MComposerNavigation","invariant"],(function(a,b,c,d,e,f,g,h){__p&&__p();a={__navigationPolicy:null,currentNavigationPolicy:function(){this.hasNavigationPolicy()||h(0);return this.__navigationPolicy},hasNavigationPolicy:function(){return!!this.__navigationPolicy},newNavigationPolicy:function(){this.hasNavigationPolicy()&&h(0);this.__navigationPolicy=g.newPolicy().addOnClose(function(){return this.__navigationPolicy=null}.bind(this));return this.__navigationPolicy},cleanupSoftState:function(){g.cleanupSoftState()}};e.exports=a}),null);
__d("MAlbumPicker",["CSS","DOM","MComposerNavigationMixin","MLegacyDataStore","Stratcom","$","eventsMixinDeprecated","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o;a=babelHelpers.inherits(p,n(i));o=a&&a.prototype;function p(a){"use strict";__p&&__p();o.constructor.call(this);this._root=a;this._albumList=h.scry(this._root,"div","album-list")[0];this._createAlbumRoot=h.scry(this._root,"div","create-album")[0];this._albumListInputs=this._getAlbumListInputs();for(var a=0;a<this._albumListInputs.length;a++){var b=this._albumListInputs[a];if(b.checked){b=j.get(b);this._currentSelectedAlbumID=b.album_id;break}}this._listeners=[k.listen("click","cancel_album_picker",function(){this._navigateAwayAndCancel()}.bind(this)),k.listen("click","album-input",this._onAlbumSelected.bind(this))];this._albumList&&this._createAlbumRoot&&(this._listeners.push(k.listen("click","create-album-item",this._openCreateAlbum.bind(this))),this._listeners.push(k.listen("click","cancel_create_album",this._cancelCreateAlbum.bind(this))),this._listeners.push(k.listen("MPhotosCreateAlbum:created",null,this._onCreateAlbum.bind(this))))}p.prototype._getAlbumListInputs=function(){"use strict";return h.scry(this._albumList,"input").filter(function(a){return a.type==="radio"})};p.prototype._navigateAway=function(){"use strict";if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().addOnClose(function(){return h.hide(this._root)}.bind(this)).close()};p.prototype._navigateAwayAndCancel=function(){"use strict";if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().addOnClose(function(){return this._cancel()}.bind(this)).close()};p.prototype.hide=function(){"use strict";this._navigateAway()};p.prototype.show=function(){"use strict";this.newNavigationPolicy().addOnCloseByBrowser(function(){return this._cancel()}.bind(this)).addOnOpen(function(){return h.show(this._root)}.bind(this)).open(),this._albumListInputs.length===0&&(this._albumListInputs=this._getAlbumListInputs())};p.prototype.resetAlbumSelection=function(){"use strict";this._currentSelectedAlbumID=null;for(var a=0;a<this._albumListInputs.length;a++){var b=this._albumListInputs[a],c=j.get(b);c.is_mobile_uploads_album?(b.checked=!0,this._currentSelectedAlbumID=c.album_id):b.checked=!1}};p.prototype._openCreateAlbum=function(event){"use strict";k.invoke("MAlbumPicker:createalbum:open"),h.hide(this._albumList),h.show(this._createAlbumRoot)};p.prototype._closeCreateAlbum=function(){"use strict";k.invoke("MAlbumPicker:createalbum:close"),h.hide(this._createAlbumRoot),h.show(this._albumList)};p.prototype._cancelCreateAlbum=function(){"use strict";this._albumListInputs.forEach(function(a){var b=j.get(a);b.album_id===this._currentSelectedAlbumID&&(a.checked=!0)}.bind(this)),this._closeCreateAlbum()};p.prototype._onCreateAlbum=function(event){"use strict";var a=event.getData();this._closeCreateAlbum();this._chooseAlbum(!1,a.album_id,a.privacy_id)};p.prototype._onAlbumSelected=function(event){"use strict";var a=event.getNode("album-input");a=j.get(a);var b=a.is_mobile_uploads_album,c=a.album_id;a=a.privacy_id;this._currentSelectedAlbumID=c;this._chooseAlbum(b,c,a)};p.prototype._chooseAlbum=function(a,b,c){"use strict";g.conditionClass(l("album-button"),"active",!a),this._navigateAway(),this.invoke("choose-album",{is_mobile_uploads_album:a,album_id:b,privacy_id:c})};p.prototype._cancel=function(){"use strict";h.hide(this._root),this.invoke("cancel")};p.fromID=function(a){"use strict";a=l(a);var b=j.get(a);b._albumPicker||(b._albumPicker=new p(a));return b._albumPicker};m(p,["cancel","choose-album"]);Object.assign(p.prototype,{_root:null,_listeners:null});e.exports=p}),null);
__d("DateCommonUtil",["ViewerContextDateData","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";a={checkGK:function(a){a=g.gks[a];typeof a==="boolean"||h(0);return a}};e.exports=a}),null);
__d("PeriodUnit",["DateConsts","invariant","keyMirror"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i({year:null,month:null,week:null,day:null,hour:null,minute:null,second:null}),k=babelHelpers["extends"]({},j,{canonicalDateUnits:[j.year,j.month,j.day],canonicalUnits:[j.year,j.month,j.day,j.hour,j.minute,j.second],getApproximateDuration:function(a){if(k.isForTime(a))return k.getDuration(a);else switch(a){case j.year:return g.SEC_PER_DAY*g.AVG_DAYS_PER_YEAR;case j.month:return g.SEC_PER_DAY*g.AVG_DAYS_PER_MONTH;case j.week:return g.SEC_PER_DAY*g.DAYS_PER_WEEK;case j.day:return g.SEC_PER_DAY;default:h(0)}},getDuration:function(a){switch(a){case j.hour:return g.SEC_PER_HOUR;case j.minute:return g.SEC_PER_MIN;case j.second:return 1;default:h(0)}},isForDate:function(a){switch(a){case j.year:case j.month:case j.week:case j.day:return!0;case j.hour:case j.minute:case j.second:return!1;default:h(0)}},isForTime:function(a){return!k.isForDate(a)}});e.exports=k}),null);
__d("SharedDateUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a/b;a=a%b;var d=b>0?1:-1;return a>=0?[c,a]:[c-d,a+d*b]}e.exports={divide:a}}),null);
__d("ISODateString",[],(function(a,b,c,d,e,f){__p&&__p();var g={parseDateComponents:function(a){var b=a.replace(/-|\+/g,""),c=b.length===10?2:0;a=a.indexOf("-")===0?-1:1;return{year:a*Number(b.substring(0,4+c)),month:Number(b.substring(4+c,6+c))||1,day:Number(b.substring(6+c,8+c))||1}},parseTimeComponents:function(a){a=a.replace(":","").replace(":","");var b=+a.substring(0,2)||0,c=+a.substring(2,4)||0;a=parseFloat(a.substring(4))||0;var d=Math.floor(a);a=Math.floor(1e3*(a-d));return{hour:b,minute:c,second:d,millisecond:a}},parseTimezone:function(a){if(!a||a==="Z")return 0;else{a=a.replace(":","");var b=a[0]==="+"?1:-1,c=+a.substring(1,3)||0;a=+a.substring(3,5)||0;return b*(3600*c+60*a)}},parseComponents:function(a){var b=a.indexOf("T"),c=b!==-1?Math.max(a.indexOf("+",b),a.indexOf("-",b)):-1,d=b!==-1?a.substring(0,b):a,e;c!==-1?e=a.substring(b+1,c):b!==-1?e=a.substring(b+1):e="";b=c!==-1?a.substring(c):"";return babelHelpers["extends"]({},g.parseDateComponents(d),g.parseTimeComponents(e||""),{offset:g.parseTimezone(b)})}};e.exports=g}),null);
__d("parseISODate",["ISODateString"],(function(a,b,c,d,e,f,g){function a(a){a=g.parseComponents(a);var b=a.year,c=a.month,d=a.day,e=a.hour,f=a.minute,h=a.second,i=a.millisecond;a=a.offset;return new Date(Date.UTC(b,c-1,d,e,f,h,i)-1e3*a)}e.exports=a}),null);
__d("DateTime",["DateCommonUtil","DateConsts","Instant","PeriodUnit","SharedDateUtils","Timezone","invariant","memoizeWithArgs","monitorCodeUse","parseISODate"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q=k.divide,r=l.getEnvironmentTimezoneID,s=l.UTC;function t(a,b){this.instant=a,this.timezoneID=b}t.prototype["function"]=function(a,b){return new t(a,b)};t.now=function(a){return t.create(i.now(),a)};t.localCreate=function(a){var b=r();b||m(0);return t.create(a,b)};t.localNow=function(){return t.localCreate(i.now())};t.fromLegacyArgs=function(a,b){__p&&__p();var c=Object.create(t.prototype);g.checkGK("date_time_force_legacy_api")&&(c.constructed_from_legacy_args=!0);if(a&&typeof a==="object"){if(!(a instanceof Date)){var d;a.constructor&&a.constructor.name?d=a.constructor.name:a.constructor?d=a.constructor.toString():d=undefined;o("date_time_legacy_valueof_constructor",{className:d},{forceIncludeStackTrace:!0})}a=v.defaultValue(a)}typeof a==="number"?t.call(c,a/1e3,b):typeof a==="string"?(o("date_time_legacy_string_constructor",{},{forceIncludeStackTrace:!0}),t.call(c,new Date(a)/1e3,b)):m(0);return c};t.prototype.getRelative=function(a){return t.create(this.instant,a)};t.prototype.getRelativeInUTC=function(){return this.getRelative(s)};t.prototype.getParallel=function(a){var b=this.instant+this.getOffset();return a===s?t.create(b,s):t.create(i.getParallel(b,a),a)};t.prototype.getParallelInUTC=function(){return this.getParallel(s)};t.prototype.getEquivalentInTimezone=function(a){a=t.create(this.instant,a);return a.update(this.getYear(),this.getMonth(),this.getDayOfMonth(),this.getHours(),this.getMinutes(),this.getSeconds())};t.prototype.getEquivalentInUTC=function(){return this.getEquivalentInTimezone(0)};t.prototype.equals=function(a){return this.instant===a.instant&&this.timezoneID===a.timezoneID};t.prototype.isBefore=function(a){return this.instant<a.instant};t.prototype.isAfter=function(a){return this.instant>a.instant};t.prototype.isSameOrBefore=function(a){return this.isRelativeTo(a)||this.isBefore(a)};t.prototype.isSameOrAfter=function(a){return this.isRelativeTo(a)||this.isAfter(a)};t.prototype.isRelativeTo=function(a){return this.instant===a.instant};t.prototype.parallels=function(a){return this.getParallelInUTC().equals(a.getParallelInUTC())};t.prototype.getFields=function(){var a=this.toParallelDate();return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds()}};t.prototype.getTimezoneID=function(){return this.timezoneID};t.prototype.getTimezoneName=function(){return l.getName(this.getTimezoneID())};t.prototype.getDayOfMonth=function(){return this.toParallelDate().getUTCDate()};t.prototype.getDayOfWeek=function(){return this.toParallelDate().getUTCDay()};t.prototype.getDayOfYear=function(){var a=this.startOfDay().instant-this.startOfYear().instant;return Math.round(a/h.SEC_PER_DAY)};t.prototype.getYear=function(){return this.toParallelDate().getUTCFullYear()};t.prototype.getHours=function(){return this.toParallelDate().getUTCHours()};t.prototype.getMinutes=function(){return this.toParallelDate().getUTCMinutes()};t.prototype.getMonth=function(){return this.toParallelDate().getUTCMonth()+1};t.prototype.getSeconds=function(){return this.toParallelDate().getUTCSeconds()};t.prototype.getWeekOfYear=function(){var a=this.startOfYear();a=a.equals(a.startOfWeek())?a.subtractDays(h.DAYS_PER_WEEK):a.startOfWeek();a=this.startOfWeek().instant-a.instant;return Math.round(a/(h.SEC_PER_DAY*h.DAYS_PER_WEEK))};t.prototype.getOffset=function(){return i.getOffset(this.instant,this.timezoneID)};t.prototype.$1=function(a){var b=this.toParallelDate();b.setUTCFullYear(a.year!=null?a.year:b.getUTCFullYear(),a.month!=null?a.month-1:b.getUTCMonth(),a.day!=null?a.day:b.getUTCDate());a.hour!=null&&b.setUTCHours(a.hour);a.minute!=null&&b.setUTCMinutes(a.minute);a.second!=null&&b.setUTCSeconds(a.second);return t.fromParallelDate(b,this.timezoneID)};t.prototype.set=function(a){a.year==null||i.wholeYearRangeInYears.since<=a.year&&a.year<i.wholeYearRangeInYears.until||m(0);a.month==null||1<=a.month&&a.month<=12||m(0);a.day==null||1<=a.day&&a.day<=31||m(0);a.hour==null||a.hour>=0&&a.hour<=23||m(0);a.minute==null||a.minute>=0&&a.minute<=59||m(0);a.second==null||a.second>=0&&a.second<=59||m(0);return this.$1(a)};t.prototype.update=function(a,b,c,d,e,f){return this.set({year:a,month:b,day:c,hour:d===null?undefined:d,minute:e===null?undefined:e,second:f===null?undefined:f})};t.prototype.add=function(a){__p&&__p();var b=this;if(a.month||a.year){var c=b.getMonth()+(a.month||0)+(a.year||0)*12;b=b.$1({month:c});q(b.getMonth(),12)[1]!==q(c,12)[1]&&(b=b.$1({day:0}))}a.week&&(b=b.$1({day:b.getDayOfMonth()+7*a.week}));a.day&&(b=b.$1({day:b.getDayOfMonth()+a.day}));if(a.hour||a.minute||a.second){c=b.toDate();a.hour&&c.setUTCHours(c.getUTCHours()+a.hour);a.minute&&c.setUTCMinutes(c.getUTCMinutes()+a.minute);a.second&&c.setUTCSeconds(c.getUTCSeconds()+a.second);b=t.fromDate(c,this.timezoneID)}return b};t.prototype.subtract=function(a){var b={};Object.keys(a).forEach(function(c){return b[c]=-a[c]});return this.add(b)};t.prototype.addDuration=function(a){return this.add({second:a})};t.prototype.subtractDuration=function(a){return this.subtract({second:a})};t.prototype.addYears=function(a){return this.add({year:a})};t.prototype.addMonths=function(a){return this.add({month:a})};t.prototype.addWeeks=function(a){return this.add({week:a})};t.prototype.addDays=function(a){return this.add({day:a})};t.prototype.addHours=function(a){return this.add({hour:a})};t.prototype.addMinutes=function(a){return this.add({minute:a})};t.prototype.addSeconds=function(a){return this.add({second:a})};t.prototype.$2=function(a){var b=this.ceil(a);return b.isEqual(this)?this.addSeconds(1).ceil(a).subtractSeconds(1):b.subtractSeconds(1)};t.prototype.endOfYear=function(){return this.$2(j.year)};t.prototype.endOfMonth=function(){return this.$2(j.month)};t.prototype.endOfWeek=function(){return this.$2(j.week)};t.prototype.endOfDay=function(){return this.$2(j.day)};t.prototype.endOfHour=function(){return this.$2(j.hour)};t.prototype.endOfMinute=function(){return this.$2(j.minute)};t.prototype.subtractYears=function(a){return this.subtract({year:a})};t.prototype.subtractMonths=function(a){return this.subtract({month:a})};t.prototype.subtractWeeks=function(a){return this.subtract({week:a})};t.prototype.subtractDays=function(a){return this.subtract({day:a})};t.prototype.subtractHours=function(a){return this.subtract({hour:a})};t.prototype.subtractMinutes=function(a){return this.subtract({minute:a})};t.prototype.subtractSeconds=function(a){return this.subtract({second:a})};t.prototype.startOfYear=function(){return this.floor(j.year)};t.prototype.startOfMonth=function(){return this.floor(j.month)};t.prototype.startOfWeek=function(){return this.floor(j.week)};t.prototype.startOfDay=function(){return this.floor(j.day)};t.prototype.startOfHour=function(){return this.floor(j.hour)};t.prototype.startOfMinute=function(){return this.floor(j.minute)};t.prototype.setYear=function(a){return this.set({year:a})};t.prototype.setMonth=function(a){return this.set({month:a})};t.prototype.setDayOfMonth=function(a){return this.set({day:a})};t.prototype.setHours=function(a){return this.set({hour:a})};t.prototype.setMinutes=function(a){return this.set({minute:a})};t.prototype.setSeconds=function(a){return this.set({second:a})};t.prototype.setDayOfWeek=function(a){a>=0&&a<=6||m(0);return this.addDays(a-this.getDayOfWeek())};t.prototype.setTimezoneID=function(a){return t.create(this.instant,a)};t.prototype.floor=function(a){__p&&__p();var b={hour:0,minute:0,second:0};switch(a){case j.year:return this.set(babelHelpers["extends"]({},b,{month:1,day:1}));case j.month:return this.set(babelHelpers["extends"]({},b,{day:1}));case j.week:return this.set(b).subtractDays(this.getDayOfWeek());case j.day:return this.set(b);case j.hour:return this.set({minute:0,second:0});case j.minute:return this.set({second:0});case j.second:return this;default:m(0)}};t.prototype.ceil=function(a){var b=this.floor(a);if(this.equals(b))return b;else{var c={};c[a]=1;return b.add(c)}};t.prototype.format=function(a,b){var c=this.getParallelInUTC();return i.format(c.instant,a,b)};t.prototype.getUnixTimestamp=function(){return this.instant*1e3};t.prototype.getUnixTimestampSeconds=function(){return this.instant};t.prototype.isEqual=function(a){return this.instant===a.instant};t.prototype.secondsUntil=function(a){return a.instant-this.instant};t.prototype.valueOf=function(){if(g.checkGK("date_time_force_legacy_api")&&this.constructed_from_legacy_args){o("date_deprecation_date_time_legacy_value_of",{},{forceIncludeStackTrace:!0});return this.instant*1e3}return this.instant};t.prototype.toString=function(){return this.toISOString()};t.prototype.toISOString=function(){var a=this.format("Y-m-dTH:i:s",{skipPatternLocalization:!0}),b=this.getOffset();b=(b>=0?"+":"-")+u(Math.floor(Math.abs(b)/3600))+u(Math.abs(b)%3600/60);return a+b};t.createFromISOString=function(a,b){return this.fromISOString(a,b)};t.prototype.toDate=function(){return new Date(1e3*this.instant)};t.fromDate=function(a,b){return t.create(Math.floor(a.getTime()/1e3),b)};t.localFromDate=function(a){return t.localCreate(Math.floor(a.getTime()/1e3))};t.prototype.toParallelDate=function(){return this.getParallelInUTC().toDate()};t.setupTimezone=function(a,b){b=b.map(function(a){return{start:a.ts,offset:-h.SEC_PER_MIN*a.offset}});b.push({start:i.range.until,offset:b[b.length-1].offset});l.setupTimezone(a,b)};t.setupTimezoneFallback=function(a,b){l.setFallbackOffset(a,b*h.SEC_PER_HOUR)};t.fromParallelDate=function(a,b){return t.fromDate(a,s).getParallel(b)};t.prototype.toFBDate=function(){return t.fromLegacyArgs(1e3*this.instant,this.timezoneID)};t.fromFBDate=function(a){return t.create(a.getUnixTimestampSeconds(),a.getTimezoneID())};t.prototype.toJSON=function(){return{instant:i.toISOString(this.instant),timezoneID:this.timezoneID}};t.prototype.fromJSON=function(a){return t.create(i.fromISOString(a.instant),a.timezoneID)};t.create=n(a,function(a,b){return a+"__"+b},"DateTime.create");t.fromISOString=n(b,function(a,b){return a+"__"+b},"DateTime.fromISOString");function u(a){return("0"+a).substr(-2)}var v={isPrimitive:function(a){return a===undefined||a===null||typeof a==="boolean"||typeof a==="number"||typeof a==="string"},defaultValue:function(a){__p&&__p();if(a instanceof Date){var b=a.toString();if(v.isPrimitive(b))return b}if(a.valueOf){b=a.valueOf();if(v.isPrimitive(b))return b}if(a.toString){b=a.toString();if(v.isPrimitive(b))return b}m(0)}};function a(a,b){return new t(a,b)}function b(a,b){return t.fromDate(p(a),b)}e.exports=t}),null);
__d("DateStrings",["fbt"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j,k,l,m,n,o,p,q={getWeekdayName:function(a){m||(m=[g._("Sunday"),g._("Monday"),g._("Tuesday"),g._("Wednesday"),g._("Thursday"),g._("Friday"),g._("Saturday")]);return m[a]},getUppercaseWeekdayName:function(a){o||(o=[g._("SUNDAY"),g._("MONDAY"),g._("TUESDAY"),g._("WEDNESDAY"),g._("THURSDAY"),g._("FRIDAY"),g._("SATURDAY")]);return o[a]},getWeekdayNameShort:function(a){n||(n=[g._("Sun"),g._("Mon"),g._("Tues"),g._("Wed"),g._("Thurs"),g._("Fri"),g._("Sat")]);return n[a]},getUppercaseWeekdayNameShort:function(a){p||(p=[g._("SUN"),g._("MON"),g._("TUE"),g._("WED"),g._("THU"),g._("FRI"),g._("SAT")]);return p[a]},_initializeMonthNames:function(){h=[g._("January"),g._("February"),g._("March"),g._("April"),g._("May"),g._("June"),g._("July"),g._("August"),g._("September"),g._("October"),g._("November"),g._("December")]},getMonthName:function(a){h||q._initializeMonthNames();return h[a-1]},getMonthNames:function(){h||q._initializeMonthNames();return h.slice()},getUppercaseMonthName:function(a){k||(k=[g._("JANUARY"),g._("FEBRUARY"),g._("MARCH"),g._("APRIL"),g._("MAY"),g._("JUNE"),g._("JULY"),g._("AUGUST"),g._("SEPTEMBER"),g._("OCTOBER"),g._("NOVEMBER"),g._("DECEMBER")]);return k[a-1]},getMonthNameShort:function(a){i||(i=[g._("Jan"),g._("Feb"),g._("Mar"),g._("Apr"),g._("May"),g._("Jun"),g._("Jul"),g._("Aug"),g._("Sept"),g._("Oct"),g._("Nov"),g._("Dec")]);return i[a-1]},getUppercaseMonthNameShort:function(a){j||(j=[g._("JAN"),g._("FEB"),g._("MAR"),g._("APR"),g._("MAY"),g._("JUN"),g._("JUL"),g._("AUG"),g._("SEP"),g._("OCT"),g._("NOV"),g._("DEC")]);return j[a-1]},getOrdinalSuffix:function(a){l||(l=["",g._("st"),g._("nd"),g._("rd"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("st"),g._("nd"),g._("rd"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("st")]);return l[a]},getDayOfMonth:function(a){__p&&__p();switch(a){case 1:return g._("1st");case 2:return g._("2nd");case 3:return g._("3rd");case 4:return g._("4th");case 5:return g._("5th");case 6:return g._("6th");case 7:return g._("7th");case 8:return g._("8th");case 9:return g._("9th");case 10:return g._("10th");case 11:return g._("11th");case 12:return g._("12th");case 13:return g._("13th");case 14:return g._("14th");case 15:return g._("15th");case 16:return g._("16th");case 17:return g._("17th");case 18:return g._("18th");case 19:return g._("19th");case 20:return g._("20th");case 21:return g._("21st");case 22:return g._("22nd");case 23:return g._("23rd");case 24:return g._("24th");case 25:return g._("25th");case 26:return g._("26th");case 27:return g._("27th");case 28:return g._("28th");case 29:return g._("29th");case 30:return g._("30th");case 31:return g._("31st");default:throw new Error("Invalid day of month.")}},getDayLabel:function(){return g._("Day:")},getMonthLabel:function(){return g._("Month:")},getYearLabel:function(){return g._("Year:")},getHourLabel:function(){return g._("Hour:")},getMinuteLabel:function(){return g._("Minute:")},getDayPlaceholder:function(){return g._("dd")},getMonthPlaceholder:function(){return g._("mm")},getYearPlaceholder:function(){return g._("yyyy")},getHourPlaceholder:function(){return g._("h")},getMinutePlaceholder:function(){return g._("m")},get12HourClockSuffix:function(a){return a<12?g._("am"):g._("pm")},getUppercase12HourClockSuffix:function(a){return a<12?g._("AM"):g._("PM")}};e.exports=q}),null);
__d("IntlDateStringsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:IntlDateStringsLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:IntlDateStringsLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:IntlDateStringsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDatetimeFormat=function(a){this.$1.datetime_format=a;return this};a.prototype.setDatetimeInsideSentence=function(a){this.$1.datetime_inside_sentence=a;return this};a.prototype.setLoggedFromClient=function(a){this.$1.logged_from_client=a;return this};a.prototype.setTargetLocale=function(a){this.$1.target_locale=a;return this};b={datetime_format:!0,datetime_inside_sentence:!0,logged_from_client:!0,target_locale:!0};e.exports=a}),null);
__d("padNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.toString();return a.length>=b?a:"0".repeat(b-a.length)+a}e.exports=a}),null);
__d("formatDate",["CLDRDateRenderingClientRollout","DateFormatConfig","DateStrings","FBLogger","IntlDateStringsTypedLogger","LogHistory","Random","invariant","padNumber"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();function a(a,b,c){__p&&__p();c=c||Object.freeze({});if(!b||!a&&a!==0)return"";typeof a==="string"&&(a=parseInt(a,10));typeof a==="number"&&(a=new Date(a*1e3));a instanceof Date||n(0);isNaN(a.getTime())&&n(0);if(typeof b!=="string")for(var d=p(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(e){if(f>=d.length)break;r=d[f++]}else{f=d.next();if(f.done)break;r=f.value}r=r;if(a.getTime()<=Date.now()){if(r.start!=null&&r.start<=a.getTime()&&b[r.name]){b=b[r.name];break}}else if(r.end!=null&&r.end>a.getTime()&&b[r.name]){b=b[r.name];break}}typeof b!=="string"&&(j("formatDate").blameToPreviousFile().mustfix("called with invalid format param"),b=b);if(c.skipPatternLocalization||!c.formatInternal&&q())r=b;else if(!h.formats[b]){if(b.length!==1){f="error happened for date "+a.getTime()+" with\n        format "+b+" when time is "+Date.now()+" during localization";l.getInstance("date_format_error_debug").error("Trying to localize unsupported date format",f)}b.length===1||n(0);r=b}else r=h.formats[b],m.random()<g.formatDateClientLoggerSamplingRate&&new k().setDatetimeFormat(b).setLoggedFromClient(!0).log();e=c.utc?a.getUTCDate():a.getDate();d=c.utc?a.getUTCDay():a.getDay();f=c.utc?a.getUTCMonth():a.getMonth();b=c.utc?a.getUTCFullYear():a.getFullYear();var s=c.utc?a.getUTCHours():a.getHours(),t=c.utc?a.getUTCMinutes():a.getMinutes(),u=c.utc?a.getUTCSeconds():a.getSeconds();a=c.utc?a.getUTCMilliseconds():a.getMilliseconds();var v="";for(var w=0;w<r.length;w++){var x=r.charAt(w);switch(x){case"\\":w++;v+=r.charAt(w);break;case"d":v+=o(e,2);break;case"j":v+=e;break;case"S":v+=i.getOrdinalSuffix(e);break;case"D":v+=i.getWeekdayNameShort(d);break;case"l":v+=i.getWeekdayName(d);break;case"F":case"f":v+=i.getMonthName(f+1);break;case"M":v+=i.getMonthNameShort(f+1);break;case"m":v+=o(f+1,2);break;case"n":v+=f+1;break;case"Y":v+=b;break;case"y":v+=(""+b).slice(2);break;case"a":c.skipSuffixLocalization?v+=s<12?"am":"pm":v+=i.get12HourClockSuffix(s);break;case"A":c.skipSuffixLocalization?v+=s<12?"AM":"PM":v+=i.getUppercase12HourClockSuffix(s);break;case"g":v+=s===0||s===12?12:s%12;break;case"G":v+=s;break;case"h":s===0||s===12?v+=12:v+=o(s%12,2);break;case"H":v+=o(s,2);break;case"i":v+=o(t,2);break;case"s":v+=o(u,2);break;case"X":v+=o(a,3);break;default:v+=x}}return v}function p(){var a=new Date(),b=a.getTime(),c=a.getFullYear(),d=a.getMonth(),e=new Date(c,a.getMonth()+1,0).getDate(),f=new Date(c,1,29).getMonth()===1?366:365,g=1e3*60*60*24,i=new Date(a.setHours(0,0,0,0)),j=new Date(c,d,i.getDate()+1),k=a.getDate()-(a.getDay()-h.weekStart+6)%7,l=new Date(a.getTime()).setDate(k);a=new Date(a.getTime()).setDate(k+7);k=new Date(c,d,1);d=new Date(c,d,e+1);var m=new Date(c,0,1);c=new Date(c+1,0,1);return[{name:"today",start:i.getTime(),end:j.getTime()},{name:"withinDay",start:b-g,end:b+g},{name:"thisWeek",start:l,end:a},{name:"withinWeek",start:b-g*7,end:b+g*7},{name:"thisMonth",start:k.getTime(),end:d.getTime()},{name:"withinMonth",start:b-g*e,end:b+g*e},{name:"thisYear",start:m.getTime(),end:c.getTime()},{name:"withinYear",start:b-g*f,end:b+g*f},{name:"older",start:-Infinity},{name:"future",end:+Infinity}]}a.periodNames=["today","thisWeek","thisMonth","thisYear","withinDay","withinWeek","withinMonth","withinYear","older","future"];function q(){if(typeof window==="undefined"||!window||!window.location||!window.location.pathname)return!1;var a=window.location.pathname,b="/intern";return a.substr(0,b.length)===b}e.exports=a}),null);
__d("Instant",["BinarySearch","DateConsts","Timezone","formatDate","invariant","parseISODate"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m={range:h["private"].instantRange,wholeYearRange:{since:-8639977881600,until:8639977881600},wholeYearRangeInYears:{since:-271820,until:275760},now:function(){return Math.floor(Date.now()/h.MS_PER_SEC)},getOffset:function(a,b){b=i.getTransitions(b,a);return m.getOffsetUsingTransitions(a,b)},getOffsetUsingTransitions:function(a,b){a=m.getControllingTransition(a,b);return a.offset},getControllingTransition:function(a,b){var c=g.greatestLowerBound(function(a){return b[a].start},a,0,b.length,function(a,b){return a-b});0<=c||k(0);a<b[b.length-1].start||k(0);return b[c]},getParallel:function(a,b){b=i.getTransitions(b,a);return m.getParallelUsingTransitions(a,b)},getParallelUsingTransitions:function(a,b){b=m.getControllingTransitionsOfParallel(a,b);var c=b.transition,d=b.gapTransition;b=b.overlapTransitions;if(d)return d.start;else if(b)return a-b[0].offset;else return a-c.offset},getControllingTransitionsOfParallel:function(a,b){__p&&__p();var c=g.leastUpperBound(function(c){var d=a-b[c].offset;if(d<b[c].start)return 1;else if(b[c].start<=d&&d<b[c+1].start)return 0;else return-1},0,0,b.length-1,function(a,b){return a-b});c<b.length-1||k(0);var d=b[c],e=b[c+1];1<=c||d.start<=a-d.offset||k(0);if(a-d.offset<d.start)return{gapTransition:d};else if(e.start<=a-e.offset)return{overlapTransitions:[d,e]};else return{transition:d}},toISOString:function(a){return m.format(a,"Y-m-dTH:i:sZ",{skipPatternLocalization:!0})},fromISOString:function(a){return Math.floor(l(a).getTime()/h.MS_PER_SEC)},format:function(a,b,c){c=babelHelpers["extends"]({},c||{},{utc:!0});return j(a,b,c)}};e.exports=m}),null);
__d("compareString",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}e.exports=a}),null);
__d("LazyTimezoneDatabase",["Instant","TimezoneRulesModuleParser","compareString","invariant","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();function a(){this.rulesModule={zones:[],ruleSets:[],version:"0",fromYear:g.wholeYearRangeInYears.until},this.zones=new Map(),this.ruleSets=new Map()}a.prototype.registerRulesModule=function(a){if(a.fromYear<this.rulesModule.fromYear||i(this.rulesModule.version,a.version)<0&&this.rulesModule.fromYear===a.fromYear){this.rulesModule=a;this.zones.clear();this.ruleSets.clear();return!0}else return!1};a.prototype.getZone=function(a){this.zones.has(a)||this.zones.set(a,this.$1(a));return k(this.zones.get(a))};a.prototype.getRuleSet=function(a){this.ruleSets.has(a)||this.ruleSets.set(a,this.$2(a));return k(this.ruleSets.get(a))};a.prototype.hasZone=function(a){return 0<=a&&a<this.rulesModule.zones.length};a.prototype.getTerminalZone=function(a){a=this.getZone(a);return typeof a.linkTo==="number"?this.getZone(a.linkTo):a};a.prototype.getZoneCount=function(){return this.rulesModule.zones.length};a.prototype.$1=function(a){__p&&__p();0<=a&&a<this.rulesModule.zones.length||j(0);a=h.parseZone(this.rulesModule.zones[a],a);if(a.records)for(var b=a.records,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.ruleSetID&&this.getRuleSet(e.ruleSetID)}else this.getZone(k(a.linkTo));return a};a.prototype.$2=function(a){a<this.rulesModule.ruleSets.length||j(0);return h.parseRuleSet(this.rulesModule.ruleSets[a],a)};e.exports=a}),null);
__d("LocalDate",["DateConsts","DateTime","Instant","PeriodUnit","SharedDateUtils","Timezone","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=g.MS_PER_DAY,o=g.MS_PER_SEC,p=g.SEC_PER_DAY,q=k.divide,r=l.UTC;function s(a,b,c){this.year=a,this.month=b,this.day=c}s.apply=function(a){return new s(a.year,a.month,a.day)};s.create=function(a,b,c){return new s(a,b,c)};s.today=function(a){return s.fromDateTime(h.now(a))};s.prototype.equals=function(a){return this.year===a.year&&this.month===a.month&&this.day===a.day};s.prototype.hashCode=function(){return(this.year*12+this.month)*30+this.day};s.prototype.compare=function(a){var b;b=this.year-a.year;if(b)return b;b=this.month-a.month;if(b)return b;b=this.day-a.day;return b};s.prototype.isBefore=function(a){return this.compare(a)<0};s.prototype.isAfter=function(a){return this.compare(a)>0};s.prototype.isBeforeOrEqual=function(a){return this.compare(a)<=0};s.prototype.isAfterOrEqual=function(a){return this.compare(a)>=0};s.prototype.min=function(a){return this.isBefore(a)?this:a};s.prototype.max=function(a){return this.isBefore(a)?a:this};s.prototype.getDayOfYear=function(){var a=this.toInstant(r)-this.startOfYear().toInstant(r);return Math.round(a/j.getApproximateDuration(j.day))};s.prototype.getDayOfMonth=function(){return this.day};s.prototype.getDayOfWeek=function(){return this.toUTCDate().getUTCDay()};s.prototype.getMonth=function(){return this.month};s.prototype.getYear=function(){return this.year};s.prototype.$1=function(a){var b=this.toUTCDate();b.setUTCFullYear(a.year!=null?a.year:b.getUTCFullYear(),a.month!=null?a.month-1:b.getUTCMonth(),a.day!=null?a.day:b.getUTCDate());return s.fromUTCDate(b)};s.prototype.set=function(a){a.year==null||i.wholeYearRangeInYears.since<=a.year&&a.year<i.wholeYearRangeInYears.until||m(0);a.month==null||1<=a.month&&a.month<=12||m(0);a.day==null||1<=a.day&&a.day<=31||m(0);return this.$1(a)};s.prototype.add=function(a){var b=this;if(a.month||a.year){var c=b.month+(a.month||0)+(a.year||0)*12;b=b.$1({month:c});q(b.month,12)[1]!==q(c,12)[1]&&(b=b.$1({day:0}))}a.week&&(b=b.$1({day:b.getDayOfMonth()+7*a.week}));a.day&&(b=b.$1({day:b.day+a.day}));return b};s.prototype.subtract=function(a){var b={};Object.keys(a).forEach(function(c){return b[c]=-a[c]});return this.add(b)};s.prototype.daysBetween=function(a){var b=this;b=b.toInstant(r)-a.toInstant(r);return Math.abs(b/p)};s.prototype.addYears=function(a){return this.add({year:a})};s.prototype.addMonths=function(a){return this.add({month:a})};s.prototype.addWeeks=function(a){return this.add({week:a})};s.prototype.addDays=function(a){return this.add({day:a})};s.prototype.subtractYears=function(a){return this.subtract({year:a})};s.prototype.subtractMonths=function(a){return this.subtract({month:a})};s.prototype.subtractWeeks=function(a){return this.subtract({week:a})};s.prototype.subtractDays=function(a){return this.subtract({day:a})};s.prototype.startOfYear=function(){return this.floor(j.year)};s.prototype.startOfMonth=function(){return this.floor(j.month)};s.prototype.startOfWeek=function(){return this.floor(j.week)};s.prototype.floor=function(a){var b={hour:0,minute:0,second:0};switch(a){case j.year:return this.set(babelHelpers["extends"]({},b,{month:1,day:1}));case j.month:return this.set(babelHelpers["extends"]({},b,{day:1}));case j.week:return this.set(b).subtractDays(this.getDayOfWeek());case j.day:return this.set(b);default:m(0)}};s.prototype.ceil=function(a){var b=this.floor(a);if(this.equals(b))return b;else{var c={};c[a]=1;return b.add(c)}};s.prototype.format=function(a,b){return i.format(this.toInstant(r),a,b)};s.prototype.toString=function(){return this.toISOString()};s.prototype.toISOString=function(){return this.format("Y-m-d",{skipPatternLocalization:!0})};s.fromISOString=function(a){var b=/^(\d+)-(\d+)-(\d+)/;b=b.exec(a);b[0];a=b[1];var c=b[2];b=b[3];return s.create(+a,+c,+b)};s.prototype.toUTCDate=function(){return new Date(o*this.toInstant(r))};s.fromUTCDate=function(a){return s.create(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate())};s.prototype.toInstant=function(a){var b=Date.UTC(this.year,this.month-1,this.day)/o;return i.getParallel(b,a)};s.fromInstant=function(a,b){a=a+i.getOffset(a,b);return s.fromUTCDate(new Date(o*a))};s.prototype.toDateTime=function(a){return h.create(this.toInstant(a),a)};s.fromDateTime=function(a){a=a.getFields();return s.create(a.year,a.month,a.day)};s.prototype.toFBDate=function(a){return h.fromLegacyArgs(o*this.toInstant(a),a)};s.fromFBDate=function(a){return s.create(a.getYear(),a.getMonth(),a.getDayOfMonth())};s.prototype.toDaysSinceEpoch=function(){var a=this.toInstant(r);return Math.floor(a/j.getApproximateDuration(j.day))};s.fromDaysSinceEpoch=function(a){return s.fromUTCDate(new Date(a*n))};s.prototype.toJSON=function(){return this.toISOString()};s.prototype.fromJSON=function(a){return s.fromISOString(a)};e.exports=s}),null);
__d("RulesTimezoneTransitionProvider",["DateConsts","LazyTimezoneDatabase","TimezoneDatabaseUtil"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[1860,2100];function a(){this.tzDatabase=new h()}a.prototype.generateTransitions=function(a){var b=[Math.max(this.tzDatabase.rulesModule.fromYear,j[0]),j[1]];return i.generateTransitions(this.tzDatabase.getTerminalZone(a),function(a){return this.tzDatabase.getRuleSet(a)}.bind(this),b.map(function(a){return Date.UTC(a,1-1,1)/g.MS_PER_SEC}))};e.exports=new a()}),null);
__d("EnvironmentTimezoneDecisionTree",[],(function(a,b,c,d,e,f){"use strict";e.exports={instant:2019715200,0:{instant:1309636800,0:{timezone:0},3600:{instant:1191290400,0:{timezone:86},3600:{timezone:54}},7200:{timezone:294}},10800:{instant:1206834162,10800:{instant:1087737300,10800:{timezone:20},14400:{timezone:72}},7200:{instant:1398396600,10800:{timezone:402},14400:{timezone:407}},14400:{timezone:116}},3600:{instant:1309636800,3600:{instant:1191290400,3600:{timezone:96},7200:{timezone:133}},7200:{timezone:12}},7200:{instant:1191290400,7200:{instant:1250463600,7200:{instant:1354016700,7200:{timezone:141},3600:{timezone:185}},10800:{instant:1317033450,7200:{instant:1309636800,7200:{timezone:53},10800:{timezone:108}},10800:{instant:1220877e3,7200:{timezone:311},10800:{timezone:70}}},3600:{timezone:186}},10800:{instant:1099178844,7200:{instant:1982731950,7200:{instant:1161703800,10800:{timezone:76},7200:{timezone:308}},10800:{instant:1143327348,10800:{timezone:81},7200:{timezone:134}}},10800:{instant:1783022400,10800:{timezone:19},7200:{timezone:115}}}},"-36000":{instant:1309636800,"-32400":{timezone:187},"-36000":{timezone:3}},"-32400":{instant:1309636800,"-28800":{timezone:4},"-32400":{timezone:438}},"-14400":{instant:1205042796,"-14400":{timezone:21},"-10800":{instant:1130643321,"-10800":{timezone:37},"-14400":{instant:1257050196,"-14400":{timezone:222},"-10800":{timezone:251}}},"-18000":{timezone:223}},"-10800":{instant:1205159083,"-10800":{instant:1250463600,"-10800":{instant:1324430100,"-10800":{instant:1354016700,"-7200":{timezone:190},"-10800":{timezone:24}},"-7200":{timezone:201}},"-7200":{timezone:221},"-14400":{instant:1309636800,"-14400":{timezone:41},"-10800":{timezone:345}}},"-7200":{instant:1087274990,"-10800":{instant:1235670300,"-7200":{instant:1086812715,"-10800":{timezone:10},"-14400":{timezone:198}},"-10800":{timezone:11}},"-14400":{instant:1086003636,"-10800":{timezone:191},"-14400":{instant:1087737300,"-14400":{instant:1095133950,"-14400":{timezone:195},"-10800":{timezone:197}},"-10800":{timezone:199}}},"-7200":{timezone:250}},"-14400":{instant:1309636800,"-10800":{instant:1191290400,"-10800":{timezone:9},"-14400":{timezone:269}},"-14400":{instant:1960542e3,"-10800":{timezone:111},"-14400":{instant:1076642325,"-10800":{timezone:23},"-14400":{timezone:213}}}}},"-18000":{instant:1194064111,"-18000":{instant:136881e4,"-18000":{instant:1783022400,"-18000":{timezone:33},"-14400":{timezone:210}},"-14400":{instant:1206083700,"-18000":{instant:1309636800,"-14400":{timezone:218},"-18000":{timezone:262}},"-14400":{instant:1191290400,"-14400":{timezone:227},"-18000":{timezone:231}}},"-21600":{timezone:40}},"-21600":{timezone:208},"-14400":{instant:1087737300,"-14400":{timezone:7},"-18000":{instant:1161703800,"-14400":{timezone:228},"-18000":{timezone:235}}}},"-21600":{instant:1427983200,"-21600":{instant:1154307150,"-21600":{instant:1309636800,"-18000":{timezone:202},"-21600":{timezone:32}},"-18000":{instant:1309636800,"-21600":{instant:1117323900,"-21600":{instant:1146910500,"-18000":{timezone:61},"-21600":{timezone:63}},"-18000":{timezone:97}},"-18000":{timezone:94}}},"-18000":{instant:1132117200,"-21600":{instant:1206083700,"-18000":{instant:1169100450,"-21600":{instant:1099207737,"-21600":{timezone:6},"-18000":{timezone:282}},"-18000":{timezone:266}},"-21600":{timezone:246}},"-18000":{timezone:229},"-25200":{timezone:256}}},"-25200":{instant:1427983200,"-21600":{instant:1206083700,"-21600":{timezone:2},"-25200":{timezone:259}},"-25200":{instant:1309636800,"-21600":{timezone:93},"-25200":{timezone:5}}},"-16200":{timezone:139},"-28800":{instant:1206083700,"-25200":{timezone:1},"-28800":{instant:1309636800,"-28800":{timezone:249},"-25200":{instant:1427983200,"-28800":{timezone:268},"-25200":{timezone:91}}}},"-7200":{instant:1309636800,"-10800":{instant:1518998400,"-7200":{timezone:138},"-10800":{timezone:25}},"-7200":{timezone:22}},"-3600":{instant:1309636800,0:{timezone:109},"-3600":{timezone:340}},"-12600":{timezone:38},28800:{instant:1087737300,28800:{instant:1206083700,28800:{instant:1265256900,39600:{timezone:285},28800:{timezone:42}},32400:{timezone:13}},36e3:{instant:1309636800,36e3:{timezone:306},28800:{timezone:307}},32400:{instant:1309636800,32400:{timezone:121},28800:{timezone:334}}},25200:{instant:1087737300,25200:{instant:1265256900,18e3:{timezone:286},25200:{timezone:66}},28800:{instant:1309636800,25200:{instant:1783022400,28800:{timezone:312},25200:{timezone:319}},28800:{timezone:120}}},36e3:{instant:1309636800,36e3:{timezone:287},43200:{instant:136881e4,43200:{timezone:124},39600:{timezone:336}},39600:{timezone:123}},39600:{instant:1309636800,39600:{instant:1191290400,36e3:{timezone:288},39600:{timezone:433}},43200:{timezone:329},36e3:{instant:1161703800,39600:{timezone:348},36e3:{instant:1783022400,36e3:{timezone:15},39600:{timezone:430}}},37800:{timezone:353}},18e3:{instant:1250463600,21600:{instant:1309636800,18e3:{instant:1191290400,21600:{timezone:289},18e3:{timezone:105}},21600:{timezone:118}},18e3:{instant:1102530600,14400:{timezone:300},18e3:{instant:1087737300,21600:{timezone:301},18e3:{timezone:90}}}},46800:{instant:1309636800,43200:{instant:1191290400,46800:{timezone:100},43200:{timezone:436}},46800:{timezone:434},"-39600":{timezone:435}},21600:{instant:1087737300,21600:{instant:1250463600,21600:{instant:1102530600,21600:{timezone:295},18e3:{timezone:304}},25200:{timezone:17}},25200:{instant:1309636800,21600:{timezone:298},25200:{timezone:119}}},43200:{instant:1191290400,46800:{timezone:125},43200:{timezone:437}},14400:{instant:1087737300,18e3:{instant:1309636800,18e3:{instant:1783022400,18e3:{timezone:303},14400:{timezone:338}},14400:{instant:1191290400,14400:{timezone:331},18e3:{timezone:117}}},14400:{instant:1235670300,14400:{timezone:8},18e3:{timezone:89}}},19800:{instant:1132117200,21600:{timezone:82},19800:{timezone:71}},32400:{instant:1309636800,32400:{timezone:68},39600:{timezone:316},36e3:{timezone:122}},16200:{timezone:314},20700:{timezone:315},23400:{timezone:326},12600:{timezone:332},37800:{timezone:14},34200:{timezone:349},31500:{timezone:350},50400:{instant:1309636800,"-39600":{timezone:429},50400:{timezone:442}},49500:{timezone:431},"-34200":{timezone:446},"-39600":{timezone:447},41400:{timezone:450}}}),null);
__d("TimezoneUtil",["BinarySearch","DateConsts"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={constantOffsetTransitions:function(a){return[{start:h["private"].instantRange.since,offset:a},{start:h["private"].instantRange.until,offset:NaN}]},extractTimezoneTransitions:function(a,b){__p&&__p();b===void 0&&(b=i.getDefaultExtractionOptions());var c=[],d=a(b.start);c.push({start:b.start,offset:d});var e=function(e){var f=e+b.step,h=a(f);if(d!==h){e=g.leastUpperBound(function(b){return a(b)===h},1,e,f,function(a,b){return a-b});e<b.end&&c.push({start:e,offset:h})}d=h};for(var f=b.start;f<b.end;f+=b.step)e(f);c.push({start:b.end,offset:NaN});return c},determineTimezoneID:function(a,b){if(a.timezone!=null)return a.timezone;else{var c=b(a.instant);a=a[String(c)];return a?i.determineTimezoneID(a,b):undefined}},getDefaultExtractionOptions:function(){return{start:new Date("2004-01-01").valueOf()/h.MS_PER_SEC,end:new Date("2107-01-01").valueOf()/h.MS_PER_SEC,step:30*h.SEC_PER_DAY}},namesModuleIsSane:function(a){return a.zoneNames["1"]==="America/Los_Angeles"&&a.zoneNames["141"]==="Africa/Johannesburg"&&a.zoneNames["464"]==="WET"}};e.exports=i}),null);
__d("FormatExtractionTimezoneTransitionProvider",["TimezoneUtil","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={extractionStatuses:{}};function j(a){__p&&__p();var b;h("TimezoneNamesData",function(a){return b=a});try{var c=Object.prototype.hasOwnProperty.call(window,"Intl")&&typeof Intl==="object";c=c&&Object.prototype.hasOwnProperty.call(Intl,"DateTimeFormat")}catch(a){return null}if(!c||!b)return null;c=b.zoneNames[a];if(!c)return null;try{return new Intl.DateTimeFormat("en-US",{timeZone:c,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})}catch(a){return null}}function k(a,b){a=a.format(new Date(b*1e3));return l(a)/1e3-b}function l(a){a=a.match(/\d+/g);if(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=a[5];return Date.UTC(+d,+b-1,+c,+e,+f,+a)}return NaN}a={extractOrNull:function(a){__p&&__p();if(i.extractionStatuses[a]==="error")return null;var b=j(a);if(!b){i.extractionStatuses[a]="error";return null}try{b=g.extractTimezoneTransitions(k.bind(null,b));i.extractionStatuses[a]="success";return b}catch(b){i.extractionStatuses[a]="error";return null}},_intlFormattedDateToUTC:l};e.exports=a}),null);
__d("TimezoneNamesData",[],(function(a,b,c,d,e,f){e.exports={version:"2015e",zoneNames:{0:"Etc/UTC",1:"America/Los_Angeles",2:"America/Denver",3:"Pacific/Honolulu",4:"America/Anchorage",5:"America/Phoenix",6:"America/Chicago",7:"America/New_York",8:"Asia/Dubai",9:"America/Argentina/San_Luis",10:"America/Argentina/Buenos_Aires",11:"America/Argentina/Salta",12:"Europe/Vienna",13:"Australia/Perth",14:"Australia/Broken_Hill",15:"Australia/Sydney",16:"Europe/Sarajevo",17:"Asia/Dhaka",18:"Europe/Brussels",19:"Europe/Sofia",20:"Asia/Bahrain",21:"America/La_Paz",22:"America/Noronha",23:"America/Campo_Grande",24:"America/Belem",25:"America/Sao_Paulo",26:"America/Nassau",27:"America/Dawson",28:"America/Vancouver",29:"America/Dawson_Creek",30:"America/Edmonton",31:"America/Rainy_River",32:"America/Regina",33:"America/Atikokan",34:"America/Iqaluit",35:"America/Toronto",36:"America/Blanc-Sablon",37:"America/Halifax",38:"America/St_Johns",39:"Europe/Zurich",40:"Pacific/Easter",41:"America/Santiago",42:"Asia/Shanghai",43:"America/Bogota",44:"America/Costa_Rica",45:"Asia/Nicosia",46:"Europe/Prague",47:"Europe/Berlin",48:"Europe/Copenhagen",49:"America/Santo_Domingo",50:"Pacific/Galapagos",51:"America/Guayaquil",52:"Europe/Tallinn",53:"Africa/Cairo",54:"Atlantic/Canary",55:"Europe/Madrid",56:"Europe/Helsinki",57:"Europe/Paris",58:"Europe/London",59:"Africa/Accra",60:"Europe/Athens",61:"America/Guatemala",62:"Asia/Hong_Kong",63:"America/Tegucigalpa",64:"Europe/Zagreb",65:"Europe/Budapest",66:"Asia/Jakarta",67:"Asia/Makassar",68:"Asia/Jayapura",69:"Europe/Dublin",70:"Asia/Jerusalem",71:"Asia/Kolkata",72:"Asia/Baghdad",73:"Atlantic/Reykjavik",74:"Europe/Rome",75:"America/Jamaica",76:"Asia/Amman",77:"Asia/Tokyo",78:"Africa/Nairobi",79:"Asia/Seoul",80:"Asia/Kuwait",81:"Asia/Beirut",82:"Asia/Colombo",83:"Europe/Vilnius",84:"Europe/Luxembourg",85:"Europe/Riga",86:"Africa/Casablanca",87:"Europe/Skopje",88:"Europe/Malta",89:"Indian/Mauritius",90:"Indian/Maldives",91:"America/Tijuana",92:"America/Hermosillo",93:"America/Mazatlan",94:"America/Mexico_City",95:"Asia/Kuala_Lumpur",96:"Africa/Lagos",97:"America/Managua",98:"Europe/Amsterdam",99:"Europe/Oslo",100:"Pacific/Auckland",101:"Asia/Muscat",102:"America/Panama",103:"America/Lima",104:"Asia/Manila",105:"Asia/Karachi",106:"Europe/Warsaw",107:"America/Puerto_Rico",108:"Asia/Gaza",109:"Atlantic/Azores",110:"Europe/Lisbon",111:"America/Asuncion",112:"Asia/Qatar",113:"Europe/Bucharest",114:"Europe/Belgrade",115:"Europe/Kaliningrad",116:"Europe/Moscow",117:"Europe/Samara",118:"Asia/Yekaterinburg",119:"Asia/Omsk",120:"Asia/Krasnoyarsk",121:"Asia/Irkutsk",122:"Asia/Yakutsk",123:"Asia/Vladivostok",124:"Asia/Magadan",125:"Asia/Kamchatka",126:"Asia/Riyadh",127:"Europe/Stockholm",128:"Asia/Singapore",129:"Europe/Ljubljana",130:"Europe/Bratislava",131:"America/El_Salvador",132:"Asia/Bangkok",133:"Africa/Tunis",134:"Europe/Istanbul",135:"America/Port_of_Spain",136:"Asia/Taipei",137:"Europe/Kiev",138:"America/Montevideo",139:"America/Caracas",140:"Asia/Ho_Chi_Minh",141:"Africa/Johannesburg",142:"Africa/Abidjan",143:"Africa/Addis_Ababa",144:"Africa/Algiers",145:"Africa/Asmara",146:"Africa/Bamako",147:"Africa/Bangui",148:"Africa/Banjul",149:"Africa/Bissau",150:"Africa/Blantyre",151:"Africa/Brazzaville",152:"Africa/Bujumbura",153:"Africa/Ceuta",154:"Africa/Conakry",155:"Africa/Dakar",156:"Africa/Dar_es_Salaam",157:"Africa/Djibouti",158:"Africa/Douala",159:"Africa/El_Aaiun",160:"Africa/Freetown",161:"Africa/Gaborone",162:"Africa/Harare",163:"Africa/Juba",164:"Africa/Kampala",165:"Africa/Khartoum",166:"Africa/Kigali",167:"Africa/Kinshasa",168:"Africa/Libreville",169:"Africa/Lome",170:"Africa/Luanda",171:"Africa/Lubumbashi",172:"Africa/Lusaka",173:"Africa/Malabo",174:"Africa/Maputo",175:"Africa/Maseru",176:"Africa/Mbabane",177:"Africa/Mogadishu",178:"Africa/Monrovia",179:"Africa/Ndjamena",180:"Africa/Niamey",181:"Africa/Nouakchott",182:"Africa/Ouagadougou",183:"Africa/Porto-Novo",184:"Africa/Sao_Tome",185:"Africa/Tripoli",186:"Africa/Windhoek",187:"America/Adak",188:"America/Anguilla",189:"America/Antigua",190:"America/Araguaina",191:"America/Argentina/Catamarca",192:"America/Argentina/Cordoba",193:"America/Argentina/Jujuy",194:"America/Argentina/La_Rioja",195:"America/Argentina/Mendoza",196:"America/Argentina/Rio_Gallegos",197:"America/Argentina/San_Juan",198:"America/Argentina/Tucuman",199:"America/Argentina/Ushuaia",200:"America/Aruba",201:"America/Bahia",202:"America/Bahia_Banderas",203:"America/Barbados",204:"America/Belize",205:"America/Boa_Vista",206:"America/Boise",207:"America/Cambridge_Bay",208:"America/Cancun",209:"America/Cayenne",210:"America/Cayman",211:"America/Chihuahua",212:"America/Creston",213:"America/Cuiaba",214:"America/Curacao",215:"America/Danmarkshavn",216:"America/Detroit",217:"America/Dominica",218:"America/Eirunepe",219:"America/Fortaleza",220:"America/Glace_Bay",221:"America/Godthab",222:"America/Goose_Bay",223:"America/Grand_Turk",224:"America/Grenada",225:"America/Guadeloupe",226:"America/Guyana",227:"America/Havana",228:"America/Indiana/Indianapolis",229:"America/Indiana/Knox",230:"America/Indiana/Marengo",231:"America/Indiana/Petersburg",232:"America/Indiana/Tell_City",233:"America/Indiana/Vevay",234:"America/Indiana/Vincennes",235:"America/Indiana/Winamac",236:"America/Inuvik",237:"America/Juneau",238:"America/Kentucky/Louisville",239:"America/Kentucky/Monticello",240:"America/Kralendijk",241:"America/Lower_Princes",242:"America/Maceio",243:"America/Manaus",244:"America/Marigot",245:"America/Martinique",246:"America/Matamoros",247:"America/Menominee",248:"America/Merida",249:"America/Metlakatla",250:"America/Miquelon",251:"America/Moncton",252:"America/Monterrey",253:"America/Montserrat",254:"America/Nipigon",255:"America/Nome",256:"America/North_Dakota/Beulah",257:"America/North_Dakota/Center",258:"America/North_Dakota/New_Salem",259:"America/Ojinaga",260:"America/Pangnirtung",261:"America/Paramaribo",262:"America/Port-au-Prince",263:"America/Porto_Velho",264:"America/Rankin_Inlet",265:"America/Recife",266:"America/Resolute",267:"America/Rio_Branco",268:"America/Santa_Isabel",269:"America/Santarem",270:"America/Scoresbysund",271:"America/Sitka",272:"America/St_Barthelemy",273:"America/St_Kitts",274:"America/St_Lucia",275:"America/St_Thomas",276:"America/St_Vincent",277:"America/Swift_Current",278:"America/Thule",279:"America/Thunder_Bay",280:"America/Tortola",281:"America/Whitehorse",282:"America/Winnipeg",283:"America/Yakutat",284:"America/Yellowknife",285:"Antarctica/Casey",286:"Antarctica/Davis",287:"Antarctica/DumontDUrville",288:"Antarctica/Macquarie",289:"Antarctica/Mawson",290:"Antarctica/McMurdo",291:"Antarctica/Palmer",292:"Antarctica/Rothera",293:"Antarctica/Syowa",294:"Antarctica/Troll",295:"Antarctica/Vostok",296:"Arctic/Longyearbyen",297:"Asia/Aden",298:"Asia/Almaty",299:"Asia/Anadyr",300:"Asia/Aqtau",301:"Asia/Aqtobe",302:"Asia/Ashgabat",303:"Asia/Baku",304:"Asia/Bishkek",305:"Asia/Brunei",306:"Asia/Chita",307:"Asia/Choibalsan",308:"Asia/Damascus",309:"Asia/Dili",310:"Asia/Dushanbe",311:"Asia/Hebron",312:"Asia/Hovd",313:"Asia/Istanbul",314:"Asia/Kabul",315:"Asia/Kathmandu",316:"Asia/Khandyga",317:"Asia/Kuching",318:"Asia/Macau",319:"Asia/Novokuznetsk",320:"Asia/Novosibirsk",321:"Asia/Oral",322:"Asia/Phnom_Penh",323:"Asia/Pontianak",324:"Asia/Pyongyang",325:"Asia/Qyzylorda",326:"Asia/Rangoon",327:"Asia/Sakhalin",328:"Asia/Samarkand",329:"Asia/Srednekolymsk",330:"Asia/Tashkent",331:"Asia/Tbilisi",332:"Asia/Tehran",333:"Asia/Thimphu",334:"Asia/Ulaanbaatar",335:"Asia/Urumqi",336:"Asia/Ust-Nera",337:"Asia/Vientiane",338:"Asia/Yerevan",339:"Atlantic/Bermuda",340:"Atlantic/Cape_Verde",341:"Atlantic/Faroe",342:"Atlantic/Madeira",343:"Atlantic/South_Georgia",344:"Atlantic/St_Helena",345:"Atlantic/Stanley",346:"Australia/Adelaide",347:"Australia/Brisbane",348:"Australia/Currie",349:"Australia/Darwin",350:"Australia/Eucla",351:"Australia/Hobart",352:"Australia/Lindeman",353:"Australia/Lord_Howe",354:"Australia/Melbourne",355:"CET",356:"CST6CDT",357:"EET",358:"EST",359:"EST5EDT",360:"Etc/GMT",361:"Etc/GMT+0",362:"Etc/GMT+1",363:"Etc/GMT+10",364:"Etc/GMT+11",365:"Etc/GMT+12",366:"Etc/GMT+2",367:"Etc/GMT+3",368:"Etc/GMT+4",369:"Etc/GMT+5",370:"Etc/GMT+6",371:"Etc/GMT+7",372:"Etc/GMT+8",373:"Etc/GMT+9",374:"Etc/GMT-0",375:"Etc/GMT-1",376:"Etc/GMT-10",377:"Etc/GMT-11",378:"Etc/GMT-12",379:"Etc/GMT-13",380:"Etc/GMT-14",381:"Etc/GMT-2",382:"Etc/GMT-3",383:"Etc/GMT-4",384:"Etc/GMT-5",385:"Etc/GMT-6",386:"Etc/GMT-7",387:"Etc/GMT-8",388:"Etc/GMT-9",389:"Etc/GMT0",390:"Etc/Greenwich",391:"Etc/UCT",392:"Etc/Universal",393:"Etc/Zulu",394:"Europe/Andorra",395:"Europe/Busingen",396:"Europe/Chisinau",397:"Europe/Gibraltar",398:"Europe/Guernsey",399:"Europe/Isle_of_Man",400:"Europe/Jersey",401:"Europe/Mariehamn",402:"Europe/Minsk",403:"Europe/Monaco",404:"Europe/Nicosia",405:"Europe/Podgorica",406:"Europe/San_Marino",407:"Europe/Simferopol",408:"Europe/Tirane",409:"Europe/Uzhgorod",410:"Europe/Vaduz",411:"Europe/Vatican",412:"Europe/Volgograd",413:"Europe/Zaporozhye",414:"GMT",415:"HST",416:"Indian/Antananarivo",417:"Indian/Chagos",418:"Indian/Christmas",419:"Indian/Cocos",420:"Indian/Comoro",421:"Indian/Kerguelen",422:"Indian/Mahe",423:"Indian/Mayotte",424:"Indian/Reunion",425:"MET",426:"MST",427:"MST7MDT",428:"PST8PDT",429:"Pacific/Apia",430:"Pacific/Bougainville",431:"Pacific/Chatham",432:"Pacific/Chuuk",433:"Pacific/Efate",434:"Pacific/Enderbury",435:"Pacific/Fakaofo",436:"Pacific/Fiji",437:"Pacific/Funafuti",438:"Pacific/Gambier",439:"Pacific/Guadalcanal",440:"Pacific/Guam",441:"Pacific/Johnston",442:"Pacific/Kiritimati",443:"Pacific/Kosrae",444:"Pacific/Kwajalein",445:"Pacific/Majuro",446:"Pacific/Marquesas",447:"Pacific/Midway",448:"Pacific/Nauru",449:"Pacific/Niue",450:"Pacific/Norfolk",451:"Pacific/Noumea",452:"Pacific/Pago_Pago",453:"Pacific/Palau",454:"Pacific/Pitcairn",455:"Pacific/Pohnpei",456:"Pacific/Port_Moresby",457:"Pacific/Rarotonga",458:"Pacific/Saipan",459:"Pacific/Tahiti",460:"Pacific/Tarawa",461:"Pacific/Tongatapu",462:"Pacific/Wake",463:"Pacific/Wallis",464:"UTC",465:"WET",466:"America/Montreal",467:"America/Indianapolis"}}}),null);
__d("TimezoneRulesFrom2009",[],(function(a,b,c,d,e,f){e.exports={version:"2015e",fromYear:2009,ruleSets:["1980 1 4 25 0 1 1980 1 10 31 2 0","2008 3 4 lastFri 0s 1 2008 1 8 lastThu 24 0 2009 1 8 20 24 0 2010 1 8 10 24 0 2010 1 9 9 24 1 2010 1 9 lastThu 24 0 2014 1 5 15 24 1 2014 1 6 26 24 0 2014 1 7 31 24 1 2014 1 9 lastThu 24 0","1942 1 9 1 0 0:20 1942 1 12 31 0 0","1997 1 4 4 0 1 1997 1 10 4 0 0 2013 1 3 lastFri 1 1 2013 1 10 lastFri 2 0","2008 1 10 lastSun 2 1 2009 1 3 lastSun 2 0","2008 1 6 1 0 1 2008 1 9 1 0 0 2009 1 6 1 0 1 2009 1 8 21 0 0 2010 1 5 2 0 1 2010 1 8 8 0 0 2011 1 4 3 0 1 2011 1 7 31 0 0 2012 2 4 lastSun 2 1 2012 1 9 30 3 0 2012 1 7 20 3 0 2012 1 8 20 2 1 2013 1 7 7 3 0 2013 1 8 10 2 1 2013 - 10 lastSun 3 0 2014 8 3 lastSun 2 1 2014 1 6 28 3 0 2014 1 8 2 2 1 2015 1 6 14 3 0 2015 1 7 19 2 1 2016 1 6 5 3 0 2016 1 7 10 2 1 2017 1 5 21 3 0 2017 1 7 2 2 1 2018 1 5 13 3 0 2018 1 6 17 2 1 2019 1 5 5 3 0 2019 1 6 9 2 1 2020 1 4 19 3 0 2020 1 5 24 2 1 2021 1 4 11 3 0 2021 1 5 16 2 1 2022 1 5 8 2 1 2023 1 4 23 2 1 2024 1 4 14 2 1 2025 1 4 6 2 1 2026 - 3 lastSun 2 1 2036 1 10 19 3 0 2037 1 10 4 3 0","2008 - 9 Sun>=1 2 1 2008 - 4 Sun>=1 2 0","1944 1 3 Sun>=15 2 0","1985 1 10 15 0 0 1985 1 4 lastSun 0 1","2008 1 3 lastSun 2s 1 2008 1 10 lastSun 2s 0","2008 - 3 lastSun 1u 2 2008 - 10 lastSun 1u 0","2008 - 3 lastSun 1u 1 2008 - 10 lastSun 1u 0","2008 - 3 lastSun 0 1 2008 - 10 lastSun 0 0","2008 - 3 lastSun 2s 1 2008 - 10 lastSun 2s 0","2008 - 3 lastSun 4 1 2008 - 10 lastSun 5 0","2009 1 6 19 23 1 2009 1 12 31 24 0","1941 1 10 1 0 0 1941 1 3 16 0 1","1991 1 9 Sun>=11 0 0 1991 1 4 Sun>=10 0 1","1979 1 5 Sun>=8 3:30 1 1979 1 10 Sun>=16 3:30 0","1979 1 7 1 0 1 1979 1 10 1 0 0","1980 1 4 Sun>=15 0 1 1980 1 10 Sun>=15 0 0","1998 1 3 lastSun 0 1","2008 1 3 21 0 1 2008 1 9 21 0 0 2009 3 3 22 0 1 2009 3 9 22 0 0 2012 1 3 21 0 1 2012 1 9 21 0 0 2013 3 3 22 0 1 2013 3 9 22 0 0 2016 1 3 21 0 1 2016 1 9 21 0 0 2017 3 3 22 0 1 2017 3 9 22 0 0 2020 1 3 21 0 1 2020 1 9 21 0 0 2021 3 3 22 0 1 2021 3 9 22 0 0 2024 1 3 21 0 1 2024 1 9 21 0 0 2025 3 3 22 0 1 2025 3 9 22 0 0 2028 2 3 21 0 1 2028 2 9 21 0 0 2030 2 3 22 0 1 2030 2 9 22 0 0 2032 2 3 21 0 1 2032 2 9 21 0 0 2034 2 3 22 0 1 2034 2 9 22 0 0 2036 2 3 21 0 1 2036 2 9 21 0 0","2007 1 4 1 3s 1 2007 1 10 1 3s 0","2008 3 3 Fri>=26 2 1 2008 1 10 5 2 0 2009 1 9 27 2 0 2010 1 9 12 2 0 2011 1 4 1 2 1 2011 1 10 2 2 0 2012 1 3 Fri>=26 2 1 2012 1 9 23 2 0 2013 - 3 Fri>=23 2 1 2013 - 10 lastSun 2 0","1951 1 9 Sat>=8 2 0 1951 1 5 Sun>=1 2 1","2008 5 3 lastThu 24 1 2008 4 10 lastFri 0s 0 2013 1 12 20 0 0 2014 - 3 lastThu 24 1 2014 - 10 lastFri 0s 0","2005 1 3 lastSun 2:30 1","1988 1 5 Sun>=8 2 1 1988 1 10 Sun>=8 3 0","1941 1 9 14 0 0:20 1941 1 12 14 0 0","2006 1 9 lastSat 2 0 2006 1 3 lastSat 2 1 2015 - 3 lastSat 2 1 2015 - 9 lastSat 0 0","2008 1 6 1 0 1 2008 2 11 1 0 0 2009 1 4 15 0 1","1967 1 5 1 1 1","2008 2 3 lastFri 0 1 2008 1 9 1 0 0 2009 1 9 Fri>=1 1 0 2010 1 3 26 0 1 2010 1 8 11 0 0 2011 1 4 1 0:1 1 2011 1 8 1 0 0 2011 1 8 30 0 1 2011 1 9 30 0 0 2012 3 3 lastThu 24 1 2012 1 9 21 1 0 2013 1 9 Fri>=21 0 0 2014 - 10 Fri>=21 0 0 2015 - 3 lastFri 24 1","1978 1 3 22 0 1 1978 1 9 21 0 0","2008 1 4 Fri>=1 0 1 2008 1 11 1 0 0 2009 1 3 lastFri 0 1 2010 2 4 Fri>=1 0 1 2012 - 3 lastFri 0 1 2009 - 10 lastFri 0 0","1944 1 3 lastSun 2 0","2008 2 3 lastSun 2s 0 2008 1 10 lastSun 2s 1","1992 1 3 Sun>=1 2s 0","1994 1 3 Sun>=1 2s 0","2008 - 4 Sun>=1 2s 0 2008 - 10 Sun>=1 2s 1","2008 - 10 Sun>=1 2s 1 2008 - 4 Sun>=1 2s 0","2008 - 4 Sun>=1 2 0 2008 - 10 Sun>=1 2 0:30","2000 1 2 lastSun 3 0 2009 1 11 29 2 1 2010 1 3 lastSun 3 0 2010 4 10 Sun>=21 2 1 2011 1 3 Sun>=1 3 0 2012 2 1 Sun>=18 3 0 2014 1 1 Sun>=18 2 0 2014 - 11 Sun>=1 2 1 2015 - 1 Sun>=18 3 0","1997 1 3 2 2s 0","2008 - 9 lastSun 2s 1 2008 - 4 Sun>=1 2s 0","2008 - 9 lastSun 2:45s 1 2008 - 4 Sun>=1 2:45s 0","1991 1 3 Sun>=1 0 0","2010 1 9 lastSun 0 1 2011 1 4 Sat>=1 4 0 2011 1 9 lastSat 3 1 2012 - 4 Sun>=1 4 0 2012 - 9 lastSun 3 1","2002 1 1 lastSun 2 0","1993 1 1 Sun>=23 0 0","1995 1 3 lastSun 1u 1 1995 1 10 Sun>=22 1u 0","2008 - 3 lastSun 1s 1 2008 - 10 lastSun 1s 0","2008 3 3 lastSun 2s 1 2008 3 10 lastSun 2s 0","1984 1 4 1 0 1","1980 1 4 6 0 1 1980 1 9 28 0 0","1946 1 5 19 2s 1 1946 1 10 7 2s 0","1982 1 4 Sat>=1 23 1","1949 1 10 Sun>=1 2s 0 1949 1 4 9 2s 1","1948 1 5 9 2s 1 1948 1 8 8 2s 0","2008 - 3 Sun>=8 2 1 2008 - 11 Sun>=1 2 0","1982 1 3 lastSun 2 1 1982 1 9 lastSun 3 0","1976 1 3 28 1 1 1976 1 9 26 1 0","1949 1 10 Sun>=1 2s 0 1949 1 4 10 2s 1","1945 1 5 24 2 2 1945 1 9 24 3 1 1945 1 11 18 2s 0","1980 1 4 1 0 1 1980 1 9 28 0 0","1980 1 4 6 1 1","1967 1 4 Sun>=1 1s 1 1967 1 10 29 1s 0","1979 1 5 Sun>=22 0s 1 1979 1 9 30 0s 0","1996 1 3 lastSun 2s 1 1996 1 9 lastSun 2s 0","1929 1 4 20 23 1","1980 1 9 Sun>=15 2 0 1980 1 3 31 2 1","1945 1 4 2 2s 1 1945 1 9 16 2s 0","1965 1 9 Sun>=15 2s 0 1965 1 4 25 2s 1","1964 1 5 lastSun 1s 1 1964 1 9 lastSun 1s 0","1983 1 3 lastSun 2s 1","1993 1 3 lastSun 0s 1 1993 1 9 lastSun 0s 0","1978 1 4 2 23 1 1978 1 10 1 1 0","1978 1 6 1 0 1 1978 1 8 4 0 0","1942 1 5 Mon>=1 1 1 1942 1 10 Mon>=1 2 0","2006 1 3 lastSun 1s 1 2006 1 10 lastSun 1s 0","1966 1 4 lastSun 2 1 1966 1 10 lastSun 2 0","1954 1 9 lastSun 2 0 1954 1 4 lastSun 2 1","1960 1 4 lastSun 2 1 1960 1 9 lastSun 2 0","1963 1 4 lastSun 2 1 1963 1 10 lastSun 2 0","1964 1 4 lastSun 2 1 1964 1 10 lastSun 2 0","1961 1 4 lastSun 2 1 1961 1 10 lastSun 2 0","1961 1 4 lastSun 2 1","1967 1 6 14 2 1 1967 1 10 lastSun 2 0","2008 4 3 Sun>=8 0:1 1 2008 3 11 Sun>=1 0:1 0","1973 1 4 lastSun 2 1 1973 1 10 lastSun 2 0","2006 1 4 Sun>=1 0:1 1 2006 1 10 lastSun 0:1 0","2005 1 10 lastSun 2s 0 2005 1 4 Sun>=1 2s 1","1959 1 4 lastSun 2 1 1959 1 10 lastSun 2 0","1961 1 4 lastSun 2 1 1961 1 9 lastSun 2 0","2006 1 10 lastSun 2 0","2006 1 10 lastSun 2 0 2006 1 4 Sun>=1 2 1","2008 - 4 Sun>=1 2 1 2008 - 10 lastSun 2 0","1975 1 10 lastSun 2 0 1975 1 4 lastSun 2 1","1980 1 4 Sun>=15 2 1 1980 1 9 25 2 0","1983 1 2 12 0 0","1992 1 1 Sat>=15 0 1 1992 1 3 15 0 0","2008 3 10 lastSun 0s 0 2008 1 3 Sun>=15 0s 1 2009 2 3 Sun>=8 0s 1 2011 1 3 Sun>=15 0s 1 2011 1 11 13 0s 0 2012 1 4 1 0s 1 2012 - 11 Sun>=1 0s 0 2013 - 3 Sun>=8 0s 1","1974 1 1 21 0 0","1988 1 5 Sun>=1 0 1 1988 1 9 lastSun 0 0","2006 1 4 30 0 1 2006 1 10 1 0 0","2006 1 4 Sun>=1 0 1 2006 1 10 lastSun 0 0 2012 - 3 Sun>=8 2 1 2012 - 11 Sun>=1 2 0","2006 1 5 Sun>=1 0 1 2006 1 8 Mon>=1 0 0","2006 1 4 30 2 1 2006 1 10 Sun>=1 1 0","2008 2 3 Sun>=15 0 0 2008 1 10 Sun>=15 0 1","2008 2 3 Sun>=8 0 0 2008 1 10 Sun>=8 0 1","2008 - 10 Sun>=15 0 1 2008 4 2 Sun>=15 0 0 2012 1 2 Sun>=22 0 0 2013 2 2 Sun>=15 0 0 2015 1 2 Sun>=22 0 0 2016 7 2 Sun>=15 0 0 2023 1 2 Sun>=22 0 0 2024 2 2 Sun>=15 0 0 2026 1 2 Sun>=22 0 0 2027 7 2 Sun>=15 0 0 2034 1 2 Sun>=22 0 0 2035 2 2 Sun>=15 0 0 2037 1 2 Sun>=22 0 0 2038 - 2 Sun>=15 0 0","2008 3 10 Sun>=9 4u 1 2008 1 3 30 3u 0 2009 1 3 Sun>=9 3u 0 2010 1 4 Sun>=1 3u 0 2011 1 5 Sun>=2 3u 0 2011 1 8 Sun>=16 4u 1 2012 4 4 Sun>=23 3u 0 2012 3 9 Sun>=2 4u 1","1993 1 4 4 0 0","2008 3 4 Sun>=15 2 0 2008 3 9 Sun>=1 2 1","2008 2 10 Sun>=15 0 1 2008 2 3 Sun>=8 0 0 2010 - 10 Sun>=1 0 1 2010 3 4 Sun>=8 0 0 2013 - 3 Sun>=22 0 0","1994 1 1 1 0 1 1994 1 4 1 0 0","2008 - 10 Sun>=1 2 1 2008 - 3 Sun>=8 2 0"],zones:["0 - -","-8 60 -","-7 60 -","-10 - -","-9 60 -","-7 - -","-6 60 -","-5 60 -","4 - -","-4 110 1255233600 -3 - -","-3 109 -","-3 - -","1 11 -","8 37 -","9:30 40 -","10 40 -",12,"6 15 -",12,"2 11 -","3 - -","-4 - -","-2 - -","-4 111 -",11,"-3 111 -",7,1,1,5,2,6,"-6 - -","-5 - -",7,7,21,"-4 60 -","-3:30 89 1320114600 -3:30 60 -",12,"-6 112 1430017200 -5 - -","-4 112 1430017200 -3 - -","8 17 -","-5 113 -","-6 101 -",19,12,12,12,21,32,33,19,"2 1 -","0 11 -",12,19,12,54,"0 2 -",19,"-6 105 -","8 18 -","-6 107 -",12,12,"7 - -","8 - -","9 - -",54,"2 24 -","5:30 - -","3 23 -",0,12,33,"2 26 -","9 25 -",20,"9 28 -",20,"2 12 -",71,19,12,19,"0 5 -",12,12,"4 4 -","5 - -","-8 97 1262332800 -8 60 -",5,"-7 97 -","-6 97 -",67,"1 - -","-6 108 -",12,12,"12 45 -",8,33,"-5 116 -","8 34 -","5 31 -",12,21,"2 33 1262296800 2 - 1269640860 2 33 1312146000 2 - 1325368800 2 33 -","-1 11 -",54,"-4 115 -",20,19,12,"2 53 1301184000 3 - 1414278000 2 - -","3 53 1301180400 4 - 1414274400 3 - -","4 53 1269727200 3 53 1301180400 4 - -","5 53 1301173200 6 - 1414267200 5 - -","6 53 1301169600 7 - 1414263600 6 - -","7 53 1301166000 8 - 1414260000 7 - -","8 53 1301162400 9 - 1414256400 8 - -","9 53 1301158800 10 - 1414252800 9 - -","10 53 1301155200 11 - 1414249200 10 - -","11 53 1301151600 12 - 1414245600 10 - -","12 53 1269698400 11 53 1301151600 12 - -",20,12,67,12,12,"-6 104 -",66,"1 9 -","2 11 1301187600 2 - 1301274000 2 11 1396141200 2 - 1396227600 2 11 -",21,"8 19 -",19,"-3 117 -","-4:30 - -",66,"2 7 -",0,20,96,20,0,96,0,0,"2 - -",96,150,12,0,0,20,20,96,86,0,150,150,20,20,20,150,96,96,0,96,150,150,96,150,141,141,20,0,96,96,0,0,96,0,"2 - 1352505600 1 3 1382659200 2 - -","1 6 -","-10 60 -",21,21,"-3 - 1350788400 -3 111 1378004400 -3 - -",11,10,11,11,11,11,11,10,11,21,"-3 - 1318734000 -3 111 1350788400 -3 - -","-7 97 1270371600 -6 97 -","-4 99 -","-6 100 -",21,2,2,"-6 97 1422777600 -5 - -",11,"-5 - 1451624400 -5 60 -",93,5,23,21,0,7,21,"-4 - 1384056000 -5 - -",11,37,"-3 11 -","-4 89 1320116400 -4 60 -","-5 60 1446357600 -4 - -",21,21,21,"-5 102 -",7,6,7,7,6,7,7,7,2,4,7,7,21,21,11,21,21,21,"-6 97 1262325600 -6 60 -",6,94,"-8 - -","-3 60 -",37,94,21,7,4,"-7 60 1289116800 -6 60 -",6,6,"-7 97 1262329200 -7 60 -",7,11,"-5 106 -",21,6,11,6,218,"-8 97 -",11,109,4,21,21,21,21,21,32,37,7,21,1,6,4,2,"8 - 1255802400 11 - 1267714800 8 - 1319738400 11 - 1329843600 8 - -","7 - 1255806000 5 - 1268251200 7 - 1319742000 5 - 1329854400 7 - -","10 - -","10 41 1270310400 11 - -","6 - 1255809600 5 - -",100,41,11,20,"0 10 -","6 - -",12,20,295,125,90,90,90,"4 14 -",295,67,"9 53 1301158800 10 - 1414252800 8 - -","8 30 -","2 35 -",68,90,"2 33 -","7 30 -",134,"4:30 - -","5:45 - -","10 53 1301155200 11 - 1315832400 10 - 1414252800 9 - -",67,42,"7 53 1269716400 6 53 1301169600 7 - 1414263600 7 - -",119,90,66,66,68,295,"6:30 - -",123,90,"11 53 1301151600 12 - 1414245600 11 - -",90,8,"3:30 22 -",295,307,295,"11 53 1301151600 12 - 1315828800 11 - 1414249200 10 - -",66,"4 13 1332626400 4 - -",37,"-1 - -",54,54,22,0,"-4 114 1283666400 -3 - -",14,"10 38 -","10 41 -","9:30 36 -","8:45 37 -",348,"10 39 -","10:30 42 -",15,"1 13 -",6,19,33,7,0,0,340,3,"-11 - -","-12 - -",22,11,21,33,32,5,249,"-9 - -",0,96,287,"11 - -","12 - -","13 - -","14 - -",150,20,8,90,295,66,67,68,0,0,0,0,0,12,12,19,12,54,54,54,19,"2 53 1301184000 3 - 1414274400 3 - -",12,19,12,12,"2 11 1396137600 4 - 1414274400 3 - -",12,19,12,12,116,19,0,3,20,295,66,326,20,90,8,20,8,355,5,2,1,"-11 48 1325239200 13 48 -","10 - 1419696000 11 - -","12:45 46 -",287,"11 50 -",379,"-11 - 1325242800 13 - -","12 43 -",378,373,377,287,3,380,377,378,378,"-9:30 - -",364,378,364,"11:30 - -","11 44 -",364,68,249,377,287,"-10 47 -",287,3,378,"13 49 -",378,378,0,54,7,7]}}),null);
__d("Timezone",["DateConsts","EnvironmentTimezoneDecisionTree","FormatExtractionTimezoneTransitionProvider","TimezoneUtil","invariant","memoize","nullthrows","warning","RulesTimezoneTransitionProvider","TimezoneRulesFrom2009","TimezoneNamesData"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o={constantOffsets:{},namesModule:undefined,overrideTransitions:{},providerEnabled:{override:!0,builtin:!0,rules:!1,formatExtraction:!0,environmentExtraction:!0,constantOffset:!0},rulesProvider:undefined,timezoneIDsByName:undefined,transitionsByTimezoneID:{}},p=1e4,q=function(a){return new Date(1e3*a).getTimezoneOffset()*-60},r={UTC:0,PST8PDT:1,setupTimezone:function(a,b){r.overrideTransitions(a,b)},overrideTransitions:function(a,b){o.overrideTransitions[a]=b,delete o.transitionsByTimezoneID[a]},setupTimezoneWithPHPTransitions:function(a,b){b=b.map(function(a){return{start:a.ts,offset:a.offset}});b.push({start:g["private"].instantRange.until,offset:NaN});r.setupTimezone(a,b)},setFallbackOffset:function(a,b){o.constantOffsets[a]=b},registerRulesModule:function(a,b){o.rulesProvider=a;a=a.tzDatabase.registerRulesModule(b);a&&(o.transitionsByTimezoneID={})},registerNamesModule:function(a){(!o.namesModule||o.namesModule.version<a.version)&&(n(j.namesModuleIsSane(a),"Attemping to register a names module that incorrectly enumerates existing timezones. Check that you are using the TimezoneNamesData module."),o.namesModule=a,o.timezoneIDsByName=undefined)},registerDefaultNamesAndRulesModules:function(){r.registerRulesModule(b("RulesTimezoneTransitionProvider"),b("TimezoneRulesFrom2009")),r.registerNamesModule(b("TimezoneNamesData")),r.toggleTransitionProvider("rules",!0)},getTransitions:function(a,b){o.transitionsByTimezoneID[a]||(o.transitionsByTimezoneID[a]=r.computeTransitions(a,b));return o.transitionsByTimezoneID[a]},computeTransitions:function(a,b){__p&&__p();if(o.overrideTransitions[a])return o.overrideTransitions[a];if(a===r.UTC)return j.constantOffsetTransitions(0);b=o.rulesProvider;if(o.providerEnabled.rules&&b&&b.tzDatabase.hasZone(a))return b.generateTransitions(a);if(o.providerEnabled.formatExtraction){b=i.extractOrNull(a);if(b)return b}if(o.providerEnabled.environmentExtraction&&(a==r.getEnvironmentTimezoneID()||a===p))return j.extractTimezoneTransitions(q);if(o.providerEnabled.constantOffset&&Object.prototype.hasOwnProperty.call(o.constantOffsets,a)){n(!1,"Timezone %s is configured with a constant offset. This is error prone, and support for it will be removed in the near future.",a);return j.constantOffsetTransitions(o.constantOffsets[a])}k(0)},toggleTransitionProvider:function(a,b,c){c===void 0&&(c=!0),a==="rules"||a==="formatExtraction"||a==="environmentExtraction"||a==="constantOffset"||k(0),o.providerEnabled[a]=b,c&&(o.transitionsByTimezoneID={})},isTransitionProviderEnabled:function(a){return o.providerEnabled[a]},getEnvironmentTimezoneID:l(function(){return j.determineTimezoneID(h,q)||p}),getName:function(a){return a===p?"Environment/Local":r.getExactName(a)},getExactName:function(a){var b=r["private"].getNamesModule("Timezone.getName");return b.zoneNames[String(a)]},getByName:function(a){return m(r.getByNameOrNull(a))},getByNameOrNull:function(a){__p&&__p();if(!o.timezoneIDsByName){r["private"].getNamesModule("Timezone.getByName");var b={};for(var c=r["private"].computeTimezoneIDs(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=r.getName(f);b[g]=f}o.timezoneIDsByName=b}return o.timezoneIDsByName[a]},getGeographicTimezoneCount:function(){var a=o.rulesProvider;a&&a.tzDatabase.getZoneCount()||o.namesModule||k(0);return a&&a.tzDatabase.getZoneCount()||Object.keys(r["private"].getNamesModule().zoneNames).length},clampTimestamp:function(a,b){b=r.getTransitions(b,Date.now());b=b[b.length-1];b=b.start;return Math.min(a,b-1,g["private"].instantRange.until-1)},"private":{state:o,localTimezoneID:p,computeTimezoneIDs:function(){var a=new Set(),b=r.getGeographicTimezoneCount();for(var c=0;c<b;c++)a.add(c);a.add(p);return a},getNamesModule:function(a){a===void 0;o.namesModule||k(0);return m(o.namesModule)}}};r.setFallbackOffset(r.PST8PDT,-7*g.SEC_PER_HOUR);e.exports=r}),null);
__d("TimezoneDatabaseUtil",["BinarySearch","Instant","LocalDate","Timezone","invariant","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=j.UTC,n=function(a,b){var c=a/b;a=a%b;var d=b>0?1:-1;return a>=0?[c,a]:[c-d,a+d*b]},o={dayOfWeekAbbrs:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],evalDayExpr:function(a,b,c){__p&&__p();var d=a.afterOrOn,e=a.beforeOrOn,f=a.dayOfMonth,g=a.dayOfWeek;a=a.lastDayOfWeek;if(f!=null)return f;else if(a!=null){f=i.create(b,c,1).addMonths(1);a=n(a-f.getDayOfWeek(),7);a[0];a=a[1];return f.addDays(a-7).getDayOfMonth()}else if(e!=null){f=i.create(b,c,e).addDays(1);a=n(l(g)-f.getDayOfWeek(),7);a[0];e=a[1];return f.addDays(e-7).getDayOfMonth()}else if(d!=null){a=i.create(b,c,d);f=n(l(g)-a.getDayOfWeek(),7);f[0];e=f[1];return a.addDays(e).getDayOfMonth()}else k(0)},parseOffset:function(a){a=/([+-]?)(\d+)(:(\d+))?(:(\d+))?/.exec(a);var b=a[1]!=="-"?1:-1,c=+a[2]||0,d=+a[4]||0;a=+a[6]||0;return b*(3600*c+60*d+a)},parseDayExpr:function(a){__p&&__p();var b;if(b=/^(\w\w\w)([><]=)(\d+)$/.exec(a)){var c=o.dayOfWeekAbbrs.indexOf(b[1]),d=+b[3];if(b[2]===">=")return{afterOrOn:d,dayOfWeek:c};else return{beforeOrOn:d,dayOfWeek:c}}else if(b=/^last(\w\w\w)$/.exec(a))return{lastDayOfWeek:o.dayOfWeekAbbrs.indexOf(b[1])};else if(b=/^\d+$/.exec(a))return{dayOfMonth:+b[0]};else k(0)},getPreviousActiveYear:function(a,b){__p&&__p();var c=h.wholeYearRangeInYears.since;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.years[0]<b)if(b<=f.years[1])return b-1;else c=Math.max(c,f.years[1]-1)}return c},getActiveRules:function(a,b){__p&&__p();var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=[Math.max(f.years[0],b[0]),Math.min(f.years[1],b[1])];for(var h=g[0];h<g[1];h++){var j=o.evalDayExpr(f.day,h,f.month);j=i.create(h,f.month,j).toInstant(m);c.push({rule:f,utcMidnight:j})}}c.sort(function(a,b){return a.utcMidnight-b.utcMidnight});return c},getParallelInStandardOffset:function(a,b){__p&&__p();var c=g.leastUpperBound(function(c){var d=a-(b[c].offset-b[c].dstOffset);if(d<b[c].start)return 1;else if(b[c].start<=d&&d<b[c+1].start)return 0;else return-1},0,0,b.length-1,function(a,b){return a-b});0<=c&&c<b.length-1||k(0);return a-(b[c].offset-b[c].dstOffset)},generateTransitionForRule:function(a,b,c,d){var e;c.at.type==="wall"?e=h.getParallelUsingTransitions(d+c.at.time-1,a)+1:c.at.type==="standard"?e=o.getParallelInStandardOffset(d+c.at.time-1,a)+1:c.at.type==="utc"?e=d+c.at.time:k(0);return{start:e,offset:b+c.dstOffset,dstOffset:c.dstOffset}},pushTransition:function(a,b){var c=a.pop(),d=a[a.length-1];d.start===b.start?(a.pop(),a.push(b)):d.start<b.start&&b.start<c.start&&a.push(b);a.push(c)},pushTransitionsForRules:function(a,b,c,d){__p&&__p();var e=function(c){return o.generateTransitionForRule(a,b,c.rule,c.utcMidnight)},f=[o.getPreviousActiveYear(c,i.fromInstant(d[0],m).floor("year").year),i.fromInstant(d[1],m).ceil("year").year];c=o.getActiveRules(c,f);for(f=0;f<c.length;f++)if(d[0]<e(c[f]).start)break;f=f-1;var g=f!==-1?c[f].rule.dstOffset:0;g={start:d[0],offset:b+g,dstOffset:g};o.pushTransition(a,g);for(var g=f+1;g<c.length;g++){f=e(c[g]);if(d[1]<=f.start)break;o.pushTransition(a,f)}},generateRichTransitions:function(a,b,c,d){__p&&__p();var e=l(a.records);e[0].interval[0]<=c[0]&&c[1]<=e[e.length-1].interval[1]||k(0);if(d==null){a=o.generateRichTransitions(a,b,[c[0]-365*24*3600,c[0]],0);d=a[a.length-2].dstOffset}a=e.filter(function(a){return c[0]<a.interval[1]&&a.interval[0]<c[1]});e=[{start:h.range.since,offset:a[0].offset,dstOffset:d},{start:h.range.until,offset:NaN,dstOffset:NaN}];for(var d=a,a=Array.isArray(d),f=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(a){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g.ruleSetID!=null?o.pushTransitionsForRules(e,g.offset,b(g.ruleSetID).rules,[Math.max(c[0],g.interval[0]),Math.min(c[1],g.interval[1])]):o.pushTransition(e,{start:g.interval[0],offset:g.offset+l(g.dstOffset),dstOffset:l(g.dstOffset)})}o.restrictTransitions(e,c);return e},generateTransitions:function(a,b,c){a=o.generateRichTransitions(a,b,c,undefined);return o.compactifyTransitions(a)},restrictTransitions:function(a,b){__p&&__p();var c=g.greatestLowerBound(function(b){return a[b].start},b[0],0,a.length,function(a,b){return a-b});0<=c||k(0);a.splice(0,c+1,babelHelpers["extends"]({},a[c],{start:b[0]}));c=g.leastUpperBound(function(b){return a[b].start},b[1],0,a.length,function(a,b){return a-b});c<a.length||k(0);a.splice(c,a.length-c,{start:b[1],offset:NaN,dstOffset:NaN})},compactifyTransitions:function(a){var b=[],c=a[0].offset;b.push(a[0]);for(var d=1;d<a.length-1;d++){var e=a[d];!isNaN(e.offset)&&e.offset!==c&&(c=e.offset,b.push(e))}b.push(a[a.length-1]);return b}};e.exports=o}),null);
__d("TimezoneDatabase",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){a===void 0&&(a=new Map()),b===void 0&&(b=new Map()),this.zones=a,this.ruleSets=b,this.version=c,this.years=d}g.prototype.set=function(a){return new g(a.zones||this.zones,a.ruleSets||this.ruleSets,a.version||this.version,a.years||this.years)};e.exports=g}),null);
__d("TimezoneRulesModuleParser",["Instant","TimezoneDatabase","TimezoneDatabaseUtil"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(a,b){var c=[];for(var d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c},k={extractTimeType:function(a){if(a.endsWith("u"))return{timeString:a.substring(0,a.length-1),timeType:"utc"};else if(a.endsWith("s"))return{timeString:a.substring(0,a.length-1),timeType:"standard"};else return{timeString:a,timeType:"wall"}},parseRule:function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=a[5];b=+b;f=k.extractTimeType(f);var h=f.timeType;f=f.timeString;return{years:[b,c==="-"?g.wholeYearRangeInYears.until:b+ +c],month:+d,day:i.parseDayExpr(e),at:{type:h,time:i.parseOffset(f)},dstOffset:i.parseOffset(a)}},parseRuleSet:function(a,b){a=a.split(" ");a=j(a,6).map(k.parseRule);return{id:b,rules:a,name:undefined}},parseZoneRecord:function(a){var b=a[0],c=a[1];a=a[2];var d,e;c==="-"?(d=undefined,e=0):c.startsWith("dst:")?(d=undefined,e=i.parseOffset(c.substring(4))):(d=+c,e=undefined);c=[NaN,a!=="-"?+a:g.wholeYearRange.until];return{offset:i.parseOffset(b),ruleSetID:d,interval:c,dstOffset:e}},parseZone:function(a,b){if(typeof a==="string"){var c=a.split(" ");c=j(c,3).map(k.parseZoneRecord);c[0].interval[0]=g.range.since;for(var d=1;d<c.length;d++)c[d].interval[0]=c[d-1].interval[1];return{id:b,linkTo:undefined,records:c,name:undefined}}else return{id:b,linkTo:a,records:null,name:undefined}},parse:function(a){var b=new Map();a.zones.forEach(function(a,c){a=k.parseZone(a,+c);b.set(a.id,a)});var c=new Map();a.ruleSets.forEach(function(a,b){a=k.parseRuleSet(a,+b);c.set(a.id,a)});return new h(b,c,a.version,[a.fromYear,g.wholeYearRangeInYears.until])}};e.exports=k}),null);
__d("GroupSellSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POPOVER_PERMALINK:"popover_permalink",EMAIL:"email",GROUP_MEGAPHONE:"group_megaphone",QUICK_PROMOTION:"quick_promotion",GLOBAL_SEARCH_MODULE_RESULT:"global_search_module_result",GROUP_MODAL_NUX:"group_modal_nux",YOUR_POSTS:"your_posts",YOUR_POSTS_RHC:"your_posts_rhc",YOUR_POSTS_PAGE:"your_posts_page",YOUR_POSTS_PAGE_OTHER_GROUPS:"your_posts_page_other_groups",FOR_SALE_HOVERCARD:"for_sale_hovercard",FOR_SALE_CONTEXT_ITEM:"for_sale_context_item",RECOMMENDATION_BADGE:"recommendation_badge",TARGET_USER_FOR_SALE_POSTS:"target_user_for_sale_posts",SELLER_PROFILE:"seller_profile",GROUP_POST_CHEVRON:"group_post_chevron",FEED_POST_CHEVRON:"feed_post_chevron",ADMIN_SETTING_PAGE:"admin_setting_page",SCRIPTS:"scripts",CRT_SCRIPTS:"crt_scripts",TESTS:"tests",DELETE_INTERCEPT:"delete_intercept",INTERN_CONSOLE:"intern_console",GROUP_MALL:"group_mall",BROWSE_CATEGORIES:"browse_categories",CATEGORY_MALL:"category_mall",GROUP_SEARCH:"group_search",GROUP_MALL_SELL_COMPOSER:"group_mall_sell_composer",FORSALE_ISLAND:"forsale_island",CROSS_GROUP_FORSALE_ISLAND:"cross_group_forsale_island",PRODUCT_MALL:"product_mall",MESSAGE_PERMALINK:"permalink",FEED_STORY:"feed_story",GROUP_COMPOSER:"group_composer",UNKNOWN:"unknown",DIRECT_LINK:"direct_link",GROUP_MALL_HEADER_NAV:"group_mall_header_nav",GROUP_MALL_ISLAND_NAV:"island_nav",YOUR_POSTS_ISLAND_NAV:"your_posts_island_nav",MARK_AS_SOLD_REMINDER:"mas_reminder",RIGHT_HAND_COLUMN_CATEGORY_SHOWALL:"rhc_category_showall",YOUR_POSTS_UNSOLD_NOTIFICATION:"your_posts_unsold_notif",RIGHT_HAND_COLUMN:"right_hand_column",SAVED_SEARCH_NOTIF:"saved_search_notif",INVENTORY_MANAGEMENT:"inventory_management",GROUP_MALL_SUGGESTIONS:"group_mall_suggestions",CLEANER:"group_sell_cleaner",PURPOSE_TRIGGER:"group_sell_purpose_trigger",PURPOSE_BACKFILL:"group_sell_purpose_backfill",HIGH_CONFIDENCE_SALE_SCRIPT:"high_confidence_sale_script",EDIT_GROUP_SETTINGS_DESKTOP:"edit_group_settings_desktop",EDIT_GROUP_SETTINGS_MOBILE:"edit_group_settings_mobile",MAYBE_FOR_SALE_SCRIPT:"maybe_for_sale_script",LANDING_PAGE_BOOKMARK:"landing_page_bookmark",LANDING_PAGE_SUGGESTED_GROUPS:"landing_page_suggested_groups",LANDING_PAGE_SUGGESTED_GROUPS_CARD:"landing_page_suggested_groups_card",LANDING_PAGE_SUGGESTED_GROUPS_MAP:"landing_page_suggested_groups_map",LANDING_PAGE_YOUR_POSTS:"landing_page_your_posts",LANDING_PAGE_YOUR_GROUPS:"landing_page_your_groups",LANDING_PAGE_YOUR_SALES_RHC:"landing_page_your_sales_rhc",LANDING_PAGE_AD:"lp_ad",LANDING_PAGE_MOBILE:"landing_page_mobile",EGO_SGNY:"ego_sgny",GROUPS_BROWSER:"groups_browser",LOW_QUALITY_GROUP_SELL_CLEAN_SCRIPT:"low_quality_group_sell_clean_script",GROUPS_YOU_SHOULD_JOIN:"groups_you_should_join",PRODUCT_DETAIL:"product_detail",MARKETPLACE_COMPOSER:"marketplace_composer",MARKETPLACE_YOUR_POSTS:"marketplace_your_posts",MARKETPLACE_UPSELL_DIALOG:"marketplace_upsell_dialog",MARKETPLACE_CROSS_POST_UNSOLD_GROUP:"marketplace_cross_post_unsold_group",MARKETPLACE_CROSS_POST_SUGGESTIONS:"marketplace_cross_post_suggestions",MARKETPLACE_INVENTORY_XPOST_VIEW:"marketplace_inventory_xpost_view",MARKETPLACE_INVENTORY_XPOST_VIEW_WWW:"marketplace_inventory_xpost_view_www",AUTO_STRUCTURE_SCRIPT:"auto_structure_script",NLU_PROMPT:"nlu_prompt",MARKETPLACE_GALLERY:"marketplace_gallery",MARKETPLACE_GYSJ:"marketplace_gysj",CROSS_GROUP_FEED:"cross_group_feed",BUY_AND_SELL_SEARCH_RESULTS:"buy_and_sell_search_results",XGROUP_ITEMS_FOR_SALE_NOTIFICATION:"xgroup_fs_notif",GROUP_COMMERCE_RN_PDP:"group_commerce_rn_pdp",GROUP_COMMERCE_RN_BOOKMARK:"group_commerce_rn_bookmark",GROUP_COMMERCE_NATIVE_PERMALINK:"group_commerce_native_permalink",CITY_COMMUNITY:"city_community",MARKETPLACE:"marketplace",NOTIFICATION:"notification",BOOKMARK:"bookmark",NEWSFEED:"newsfeed",GROUPS:"groups",TIMELINE:"timeline",BUY_SELL_GROUP_MEGA_MALL:"buy_sell_group_mega_mall",BUY_SELL_GROUP_MINI_MALL:"buy_sell_group_mini_mall",DISCOVERY_FEED_STORY:"discovery_feed_story",MESSENGER_BANNER:"messenger_banner",GROUPCOMM_INAPP_MESSENGER:"groupcomm_inapp_messenger"})}),null);
__d("GroupSellUserActionEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MARK_AS_SOLD:"mark_as_sold",MARK_AS_AVAILABLE:"mark_as_available",MARK_AS_ARCHIVE:"mark_as_archive",MARK_AS_UNARCHIVE:"mark_as_unarchive",MARK_AS_PENDING:"mark_as_pending",NON_FOR_SALE_MARK_AS_SOLD:"non_for_sale_mark_as_sold",NON_FOR_SALE_MARK_AS_PENDING:"non_for_sale_mark_as_pending",GROUP_POST:"group_post",MARKETPLACE_POST:"marketplace_post",PROFILE_POST:"profile_post",LAUNCH_EDIT:"launch_edit",GROUP_POST_EDIT:"group_post_edit",GROUP_POST_REPORT:"group_post_report",ADMIN_OPT_IN:"admin_opt_in",ADMIN_OPT_OUT:"admin_opt_out",ADMIN_NOT_FOR_SALE:"admin_not_for_sale",ADMIN_DO_NOT_WANT:"admin_do_not_want",GROUP_CURRENCY_CHANGE:"group_currency_change",OPT_IN_MEGAPHONE_SEEN:"opt_in_megaphone_seen",OPT_IN_NOTIFICATION_SENT:"opt_in_notification_sent",AUTO_OPT_IN_MEGAPHONE_SEEN:"auto_opt_in_megaphone_seen",AUTO_OPTED_IN_MEGAPHONE_SEEN:"auto_opted_in_megaphone_seen",GROUP_PURPOSES_NUX_SEEN:"group_purposes_nux_seen",GROUP_PURPOSE_SELECTED:"group_purpose_selected",GROUP_NON_FOR_SALE_POST:"group_non_for_sale_post",GROUP_MARKED_AS_MAY_BE_FOR_SALE:"group_marked_as_may_be_for_sale",GROUP_CRT_CATEGORIZED_FOR_SALE:"group_crt_categorized_for_sale",GROUP_CRT_CATEGORIZED_FOR_SALE_FAIL:"group_crt_categorized_for_sale_fail",GROUP_ENABLED:"group_enabled",GROUP_DISABLED:"group_disabled",GROUP_NON_FOR_SALE_POST_INTERCEPT_WORDS:"group_non_for_sale_post_intercept_words",GROUP_NON_FOR_SALE_POST_NLU_INTERCEPT:"group_non_for_sale_post_nlu_intercept",GROUP_NON_FOR_SALE_POST_NLU_ATTEMPT:"group_non_for_sale_post_nlu_attempt",GROUP_NON_FOR_SALE_POST_NLU_ERROR:"group_non_for_sale_post_nlu_error",GROUP_NON_FOR_SALE_POST_NLU_TIMEOUT:"group_non_for_sale_post_nlu_timeout",ADMIN_GROUP_PURPOSE_EDIT_DISALLOWED:"admin_group_purpose_edit_disallowed",ADMIN_GROUP_REQUEST_PURPOSE_CHANGE:"admin_group_request_purpose_change",FOR_SALE_POST_APPROVE:"for_sale_post_approve",NON_FOR_SALE_POST_APPROVE:"non_for_sale_post_approve",FOR_SALE_POST_DELETED:"for_sale_post_deleted",NON_FOR_SALE_POST_DELETED:"non_for_sale_post_deleted",GROUP_NON_FOR_SALE_POST_INTERCEPT_CREATED:"group_non_for_sale_post_intercept_created",LAUNCH_MESSAGE_SELLER_DIALOG:"launch_message_seller_dialog",MESSAGE_SELLER:"message_seller",SHARED_TO_GROUP:"shared_to_group",RECENT_ACTIVITY_PAGE_CONTENT:"recent_activity_page_content",RECENT_ACTIVITY_DELETE_ITEM:"recent_activity_delete_item",SAVED_SEARCH_CREATED:"saved_search_created",SAVED_SEARCH_DELETED:"saved_search_deleted",SAVED_SEARCH_NOTIFICATION_SENT:"saved_search_notification_sent",INCOMPLETE_POST_SAVED_AS_NON_FOR_SALE:"incomplete_post_saved_as_non_for_sale",GROUP_CROSS_POST_ATTEMPTED:"group_cross_post_attempted",JOIN_XPOST_ATTEMPTED:"join_xpost_attempted",EDIT_SYNC_ATTEMPTED:"edit_sync_attempted",EDIT_SYNC_SUCCESS:"edit_sync_success",CROSS_POST_SUGGESTIONS_CLOSED:"cross_post_suggestions_closed",CATEGORY_SET:"category_set",SSFY_SEE_MORE_CLICK:"ssfy_see_more_click",COMPOSER_TOOLTIP_NUX_SEEN:"composer_tooltip_nux_seen",AUTHOR_COMMENT:"author_comment",GROUP_NON_FOR_SALE_POST_INTERCEPT_ATTEMPTED:"group_non_for_sale_post_intercept_attempted",GROUP_NON_FOR_SALE_POST_INTERCEPT_DETECTED:"group_non_for_sale_post_intercept_detected",GROUP_NON_FOR_SALE_POST_INTERCEPT_DECLINED:"group_non_for_sale_post_intercept_declined",GROUP_NON_FOR_SALE_POST_INTERCEPT_ACCEPTED:"group_non_for_sale_post_intercept_accepted",H_SCROLL_STORY_CLICKED:"h_scroll_story_clicked",XGROUP_ITEMS_FOR_SALE_NOTIF_OPT_OUT:"xgroup_fs_notif_opt_out",XGROUP_ITEMS_FOR_SALE_NOTIF_OPT_IN:"xgroup_fs_notif_opt_in",CLIENT_LIKE:"client_like",CLIENT_COMMENT:"client_comment",MARKETPLACE_POST_CREATION_FAIL_SIMILAR_POST:"MARKETPLACE_POST_CREATION_FAIL_SIMILAR_POST",MARKETPLACE_POST_CREATION_FAIL_NO_MARKETPLACE_ID:"marketplace_post_creation_fail_no_marketplace_id",THEME_CARD_SELL_CLICK:"theme_card_sell_click",COMPOSER_ZIP_CODE_AUTO_FILL_SUCCESS:"composer_zip_code_auto_fill_success",COMPOSER_ZIP_CODE_AUTO_FILL_FAILURE:"composer_zip_code_auto_fill_failure",COMPOSER_ZIP_CODE_INVALID_ENTRY:"composer_zip_code_invalid_entry",COMPOSER_ZIP_CODE_NO_INFERRED_COUNTRY:"composer_zip_code_no_inferred_country",COMPOSER_ZIP_CODE_LAT_LONG_NOT_FOUND:"composer_zip_code_lat_long_not_found",COMPOSER_ZIP_CODE_SAVED:"composer_zip_code_saved",COMPOSER_NEIGHBORHOOD_AUTO_FILL_SUCCESS:"composer_neighborhood_auto_fill_success",COMPOSER_NEIGHBORHOOD_AUTO_FILL_FAILURE:"composer_neighborhood_auto_fill_failure",COMPOSER_CLEAR_CROSS_POST_MENU:"composer_clear_cross_post_menu",COMPOSER_OPEN_CROSS_POST_MENU:"composer_open_cross_post_menu",COMPOSER_SELECT_RECENT_CROSS_POST_PLACES:"composer_select_recent_cross_post_places",LOCATION_GEOPROFILE_FALLBACK_NO_PREDICTED_ZIPCODE:"location_geoprofile_fallback_no_predicted_zipcode",LOCATION_NO_PREDICTED_HOME_CITY:"location_no_predicted_home_city",LOCATION_NO_PREDICTED_ZIPCODE:"location_no_predicted_zipcode",LOCATION_NO_BUY_LOCATION:"location_no_buy_location",LOCATION_NO_SELL_LOCATION:"location_no_sell_location",LOCATION_RESET_SELL_LOCATION:"location_reset_sell_location",COMMERCE_INVENTORY_ENTER:"commerce_inventory_enter",COMPOSER_GROUP_SALE_POST_INTERCEPT:"composer_group_sale_post_intercept",COMPOSER_GROUP_SALE_POST_INTERCEPT_ACCEPTED:"composer_group_sale_post_intercept_accepted",COMPOSER_GROUP_SALE_POST_INTERCEPT_DECLINED:"composer_group_sale_post_intercept_declined",COMPOSER_INIT_WITH_MEDIA:"composer_init_with_media",COMPOSER_POST_WITH_MEDIA:"composer_post_with_media",FOR_SALE_ITEM_MESSAGE_SELLER_BUTTON_CLICKED:"for_sale_item_message_seller_button_clicked",FOR_SALE_ITEM_SAVE_BUTTON_CLICKED:"for_sale_item_save_button_clicked",FOR_SALE_ITEM_SEE_DETAILS_BUTTON_CLICKED:"for_sale_item_see_details_button_clicked",COMCOM_TEL_CLICK:"comcom_tel_click",COMCOM_COPY_NUM_CLICK:"comcom_copy_num_click",COMCOM_NUM_CLICK:"comcom_num_click",COMCOM_CREATE_CONTACT_CLICK:"comcom_create_contact_click",COMCOM_SEND_SMS_CLICK:"comcom_send_sms_click",COMCOM_METADATA_TAG_CLICK:"comcom_metadata_tag_click",MESSAGING_THREAD_CREATED:"messaging_thread_created",GROUP_MALL_TOP_CATEGORIES_VIEW:"group_mall_top_categories_view",CATEGORY_CLICK:"category_click",TOP_CATEGORIES_SEE_ALL_CLICK:"top_categories_see_all_click",REMOVE_SALE_FORMAT:"remove_sale_format",ATTACKER_OVERWROTE_STATUS:"attacker_overwrote_status",NF_PIVOT_HSCROLL_VIEW:"nf_pivot_hscroll_view",NF_PIVOT_HSCROLL_SEE_MORE_CLICK:"nf_pivot_hscroll_see_more_click",NF_PIVOT_HSCROLL_CARD_CLICK:"nf_pivot_hscroll_card_click",NF_PIVOT_HSCROLL_CARD_IMPRESSION:"nf_pivot_hscroll_card_impression",ADDRESS_ADD_FAILED:"address_add_failed",ADDRESS_ADD_SUCCESS:"address_add_success",LABEL_CREATED:"label_created",LABEL_CREATION_FAILED:"label_creation_failed"})}),null);
__d("GroupSellUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:GroupSellUserActionsLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:GroupSellUserActionsLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:GroupSellUserActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccountstatus=function(a){this.$1.accountstatus=a;return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setCategoryID=function(a){this.$1.category_id=a;return this};a.prototype.setClassifierWords=function(a){this.$1.classifier_words=h.serializeVector(a);return this};a.prototype.setClientCarrier=function(a){this.$1.client_carrier=a;return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setContainermodule=function(a){this.$1.containermodule=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setCrossPostTargets=function(a){this.$1.cross_post_targets=h.serializeVector(a);return this};a.prototype.setDescription=function(a){this.$1.description=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setDuplicateHash=function(a){this.$1.duplicate_hash=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setForSaleItemFbType=function(a){this.$1.for_sale_item_fb_type=a;return this};a.prototype.setGroupID=function(a){this.$1.group_id=a;return this};a.prototype.setGroupMembersCountBucket=function(a){this.$1.group_members_count_bucket=a;return this};a.prototype.setGroupMessageID=function(a){this.$1.group_message_id=a;return this};a.prototype.setGroupPostHash=function(a){this.$1.group_post_hash=a;return this};a.prototype.setHashid=function(a){this.$1.hashid=a;return this};a.prototype.setInterceptWords=function(a){this.$1.intercept_words=a;return this};a.prototype.setInterestCommentBucket=function(a){this.$1.interest_comment_bucket=a;return this};a.prototype.setInterestLikeBucket=function(a){this.$1.interest_like_bucket=a;return this};a.prototype.setInterestMessageBucket=function(a){this.$1.interest_message_bucket=a;return this};a.prototype.setIsAdmin=function(a){this.$1.is_admin=a;return this};a.prototype.setIsEdit=function(a){this.$1.is_edit=a;return this};a.prototype.setIsFsGroup=function(a){this.$1.is_fs_group=a;return this};a.prototype.setIsMarketplace=function(a){this.$1.is_marketplace=a;return this};a.prototype.setIsemployee=function(a){this.$1.isemployee=a;return this};a.prototype.setLatitude=function(a){this.$1.latitude=a;return this};a.prototype.setLocationID=function(a){this.$1.location_id=a;return this};a.prototype.setLongitude=function(a){this.$1.longitude=a;return this};a.prototype.setMarketplaceXpostCheckboxShown=function(a){this.$1.marketplace_xpost_checkbox_shown=a;return this};a.prototype.setMarketplaceXpostCheckedOnComposerLoad=function(a){this.$1.marketplace_xpost_checked_on_composer_load=a;return this};a.prototype.setMarketplaceXpostCheckedOnPost=function(a){this.$1.marketplace_xpost_checked_on_post=a;return this};a.prototype.setMarketplaceXpostExperimentQeMode=function(a){this.$1.marketplace_xpost_experiment_qe_mode=a;return this};a.prototype.setMarketplaceXpostFirstTimeCheckboxSeen=function(a){this.$1.marketplace_xpost_first_time_checkbox_seen=a;return this};a.prototype.setMarketplaceXpostSplitQeMode=function(a){this.$1.marketplace_xpost_split_qe_mode=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setNumPhotos=function(a){this.$1.num_photos=a;return this};a.prototype.setOriginatedGroupID=function(a){this.$1.originated_group_id=a;return this};a.prototype.setPickupNote=function(a){this.$1.pickup_note=a;return this};a.prototype.setPriceAmount=function(a){this.$1.price_amount=a;return this};a.prototype.setPriceCurrency=function(a){this.$1.price_currency=a;return this};a.prototype.setPriceType=function(a){this.$1.price_type=a;return this};a.prototype.setProductAvailability=function(a){this.$1.product_availability=a;return this};a.prototype.setProductItemID=function(a){this.$1.product_item_id=a;return this};a.prototype.setReferralSurface=function(a){this.$1.referral_surface=a;return this};a.prototype.setSavedSearchID=function(a){this.$1.saved_search_id=a;return this};a.prototype.setSavedSearchResultCount=function(a){this.$1.saved_search_result_count=a;return this};a.prototype.setSavedSearchText=function(a){this.$1.saved_search_text=a;return this};a.prototype.setSellOptionsID=function(a){this.$1.sell_options_id=a;return this};a.prototype.setSeq=function(a){this.$1.seq=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setSyncMetadataID=function(a){this.$1.sync_metadata_id=a;return this};a.prototype.setTaxonCategoryPath=function(a){this.$1.taxon_category_path=a;return this};a.prototype.setTitle=function(a){this.$1.title=a;return this};a.prototype.setUuid=function(a){this.$1.uuid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=i(h.serializeMap(a));h.checkExtraDataFieldNames(a,j);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var j={accountstatus:!0,appid:!0,appversion:!0,category_id:!0,classifier_words:!0,client_carrier:!0,client_userid:!0,clienttime:!0,containermodule:!0,country:!0,cross_post_targets:!0,description:!0,deviceid:!0,duplicate_hash:!0,event:!0,for_sale_item_fb_type:!0,group_id:!0,group_members_count_bucket:!0,group_message_id:!0,group_post_hash:!0,hashid:!0,intercept_words:!0,interest_comment_bucket:!0,interest_like_bucket:!0,interest_message_bucket:!0,is_admin:!0,is_edit:!0,is_fs_group:!0,is_marketplace:!0,isemployee:!0,latitude:!0,location_id:!0,longitude:!0,marketplace_xpost_checkbox_shown:!0,marketplace_xpost_checked_on_composer_load:!0,marketplace_xpost_checked_on_post:!0,marketplace_xpost_experiment_qe_mode:!0,marketplace_xpost_first_time_checkbox_seen:!0,marketplace_xpost_split_qe_mode:!0,name:!0,num_photos:!0,originated_group_id:!0,pickup_note:!0,price_amount:!0,price_currency:!0,price_type:!0,product_availability:!0,product_item_id:!0,referral_surface:!0,saved_search_id:!0,saved_search_result_count:!0,saved_search_text:!0,sell_options_id:!0,seq:!0,sessionid:!0,surface:!0,sync_metadata_id:!0,taxon_category_path:!0,title:!0,uuid:!0,vc:!0};e.exports=a}),null);
__d("GroupSellLogger",["GroupSellSurface","GroupSellUserActionEvents","GroupSellUserActionsTypedLogger"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={logComposerTooltipNUXSeen:function(a){new i().setEvent(h.COMPOSER_TOOLTIP_NUX_SEEN).setGroupID(a).log()},_formatComposerInterceptWords:function(a,b){var c=[];b&&(c=b.slice());a&&a>0&&c.push(a.toString()+" prices count");return c.join(",")},logComposerInterceptAttempted:function(a){new i().setEvent(h.GROUP_NON_FOR_SALE_POST_INTERCEPT_ATTEMPTED).setGroupID(a).log()},logComposerInterceptDetected:function(a,b,c){new i().setEvent(h.GROUP_NON_FOR_SALE_POST_INTERCEPT_DETECTED).setGroupID(a).setInterceptWords(j._formatComposerInterceptWords(b,c)).log()},logComposerInterceptCreated:function(a,b,c){new i().setEvent(h.GROUP_NON_FOR_SALE_POST_INTERCEPT_CREATED).setGroupID(a).setInterceptWords(j._formatComposerInterceptWords(b,c)).log()},logComposerInterceptAccepted:function(a,b,c){new i().setEvent(h.GROUP_NON_FOR_SALE_POST_INTERCEPT_ACCEPTED).setGroupID(a).setInterceptWords(j._formatComposerInterceptWords(b,c)).log()},logComposerInterceptDeclined:function(a,b,c){new i().setEvent(h.GROUP_NON_FOR_SALE_POST_INTERCEPT_DECLINED).setGroupID(a).setInterceptWords(j._formatComposerInterceptWords(b,c)).log()},logHScrollViewPermalink:function(a,b){new i().setEvent(h.H_SCROLL_STORY_CLICKED).setGroupID(a).setGroupMessageID(b).log()},logNLUTimeout:function(a){new i().setEvent(h.GROUP_NON_FOR_SALE_POST_NLU_TIMEOUT).setGroupID(a).log()},logNLUError:function(a){new i().setEvent(h.GROUP_NON_FOR_SALE_POST_NLU_ERROR).setGroupID(a).log()},logNonForSaleMarkAsSold:function(a,b,c){new i().setEvent(h.NON_FOR_SALE_MARK_AS_SOLD).setGroupID(a).setGroupMessageID(b).setDescription(c).setSurface(g.DELETE_INTERCEPT).log()},logClearCrossPostMenu:function(a){new i().setEvent(h.COMPOSER_CLEAR_CROSS_POST_MENU).setGroupID(a).log()},logOpenCrossPostMenu:function(a,b){new i().setEvent(h.COMPOSER_OPEN_CROSS_POST_MENU).setGroupID(a).addToExtraData("has_recent_places",b.toString()).log()},logSelectRecentPlaces:function(a){new i().setEvent(h.COMPOSER_SELECT_RECENT_CROSS_POST_PLACES).setGroupID(a).log()}};e.exports=j}),null);
__d("MGroupSellInterceptUtil",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={parseInterceptedPrices:function(a,b){__p&&__p();var c=[];if(!b)return c;var d=new RegExp("\\d+","ig"),e=new RegExp(g(b)+"\\s*\\d+","ig");b=new RegExp("\\d+(?=\\s*"+g(b)+")","ig");e=a.match(e);e&&e.forEach(function(a){return c=c.concat(a.match(d))});e=a.match(b);e&&(c=c.concat(e));return c}};e.exports=a}),null);
__d("MStructuredComposerOGInput",["CSS","DOM","MAjaxify","MarauderLogger","MComposerLogger","MComposerNavigationMixin","MComposerOGStrings","MComposerWaterfallEvent","MCompositionMinutiaeFields","MCompositionMinutiaeStore","MCompositionUserActions","MRequest","MSubscriptionsHandlerMixin","MUnifiedTaggerConstants","MViewport","Stratcom","cx","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){__p&&__p();var z,A=t.SHOW_UNIFIED_TAGGER,B=55;b=babelHelpers.inherits(a,x(l,s));z=b&&b.prototype;function a(a,b,c,d,e){"use strict";__p&&__p();z.constructor.call(this),this.$MStructuredComposerOGInput1=a,this.$MStructuredComposerOGInput2=!0,this.$MStructuredComposerOGInput3=!0,this.$MStructuredComposerOGInput4=null,this.$MStructuredComposerOGInput5=b,this.$MStructuredComposerOGInput6=c,this.$MStructuredComposerOGInput7=c.parentNode,this.$MStructuredComposerOGInput8=e,this.$MStructuredComposerOGInput9=h.find(this.$MStructuredComposerOGInput1,"input","og-action-input"),this.$MStructuredComposerOGInput10=h.find(this.$MStructuredComposerOGInput1,"input","og-object-input"),this.$MStructuredComposerOGInput11=h.find(this.$MStructuredComposerOGInput1,"input","og-phrase-input"),this.$MStructuredComposerOGInput12=h.find(this.$MStructuredComposerOGInput1,"input","og-icon-input"),this.$MStructuredComposerOGInput13=h.find(this.$MStructuredComposerOGInput1,"input","og-suggestion-mechanism"),this.$MStructuredComposerOGInput14=h.find(this.$MStructuredComposerOGInput1,"input","og-hide-attachment"),this.$MStructuredComposerOGInput15=!1,this.$MStructuredComposerOGInput16=null,this.$MStructuredComposerOGInput17=h.find(this.$MStructuredComposerOGInput1,"ul","og-tag"),this.$MStructuredComposerOGInput18=d,this.$MStructuredComposerOGInput8&&this.addSubscriptions(this.$MStructuredComposerOGInput18.listen("clear",function(){this.$MStructuredComposerOGInput8.clear(),this.$MStructuredComposerOGInput19()}.bind(this)),this.$MStructuredComposerOGInput8.addListener("clear",function(){return this.$MStructuredComposerOGInput19()}.bind(this))),this.addSubscriptions(this.$MStructuredComposerOGInput18.listen("submit",this.$MStructuredComposerOGInput20.bind(this)),p.addChangeListener(function(){return this.$MStructuredComposerOGInput21()}.bind(this)),this.$MStructuredComposerOGInput18.listen("iconChanged",function(event){__p&&__p();if(A)v.invoke("MComposer:tagger:update:og-icon",null,{icon:event.icon_src});else{var a=h.find(this.$MStructuredComposerOGInput17,"li","token");a=h.find(a,"i");h.replace(a,event.icon)}this.$MStructuredComposerOGInput12.value=event.custom_icon_id;this.$MStructuredComposerOGInput22();this.$MStructuredComposerOGInput8&&(this.$MStructuredComposerOGInput4["{icon}"]=h.create("i",{className:event.icon.className,style:event.icon.style}),this.$MStructuredComposerOGInput8.setValue(this.$MStructuredComposerOGInput4));v.invoke("MStructuredComposerOGInput-done",null,{icon_changed:!0});k.log(n.MINUTIAE_CHANGE_ICON,{action_type_id:event.action_type_id,query:event.query})}.bind(this)),this.$MStructuredComposerOGInput18.listen("cancel",function(){v.invoke("MStructuredComposerOGInput-done",null,{cancel:!0}),k.log(n.MINUTIAE_CANCEL),this.$MStructuredComposerOGInput22()}.bind(this)),this.$MStructuredComposerOGInput18.listen("cancelIconSelection",function(event){k.log(n.MINUTIAE_CHANGE_ICON_CANCEL,{action_type_id:event.action_type_id,query:event.query})})),this.addSubscriptions(v.listen("click","inline-og-button",function(){y(function(){this.$MStructuredComposerOGInput23()}.bind(this),10)}.bind(this))),A?this.addSubscriptions(v.listen("MComposer:tagger:click",t.TOKEN_TYPES.OBJECT,this.$MStructuredComposerOGInput24.bind(this)),v.listen("MComposer:tagger:click",t.TOKEN_TYPES.ICON,function(){return this.$MStructuredComposerOGInput25()}.bind(this))):this.addSubscriptions(h.listen(this.$MStructuredComposerOGInput1,"click","og-tags",this.$MStructuredComposerOGInput26.bind(this)),h.listen(this.$MStructuredComposerOGInput1,"click","remove-token",this.$MStructuredComposerOGInput27.bind(this))),this.addSubscriptions(v.listen("MComposer:open:activity",null,function(){this.$MStructuredComposerOGInput3=!1,this.$MStructuredComposerOGInput28()}.bind(this)),v.listen("click","og_included_place_checkin",this.$MStructuredComposerOGInput29.bind(this)),h.listen(this.$MStructuredComposerOGInput5,"click",null,this.$MStructuredComposerOGInput24.bind(this)),h.listen(this.$MStructuredComposerOGInput7,"click","close-composer-attachment",this.$MStructuredComposerOGInput30.bind(this)))}a.prototype.$MStructuredComposerOGInput19=function(){"use strict";this.reset(),this.$MStructuredComposerOGInput31(),v.invoke("MStructuredComposerOGInput-done",null,{remove:!0}),k.log(n.MINUTIAE_REMOVE)};a.prototype.$MStructuredComposerOGInput30=function(){"use strict";var a={};a[o.SHOW_ATTACHMENT]=!1;q.minutiaeSet(babelHelpers["extends"]({},p.getAll(),a))};a.prototype.$MStructuredComposerOGInput20=function(event){"use strict";var a={};for(var b in o){var c=o[b];a[c]=event[c]}q.minutiaeSet(a)};a.prototype.$MStructuredComposerOGInput21=function(){"use strict";__p&&__p();var a=h.find(this.$MStructuredComposerOGInput17,"li","token");this.$MStructuredComposerOGInput32();var b=p.get(o.ACTION_TYPE_ID);if(!b)return;var c=p.get(o.CUSTOM_ICON_ID),d=p.get(o.ICON_LEGACY),e=p.get(o.ICON),f=p.get(o.OBJECT_NAME),g=p.get(o.OBJECT_ID),i=!this.$MStructuredComposerOGInput15&&p.get(o.SHOW_ATTACHMENT),j=p.get(o.SUGGESTION_MECHANISM),l=p.get(o.USE_DEFAULT_ICON,!1),q=p.get(o.FBT_PHRASE);this.$MStructuredComposerOGInput16=p.get(o.TRIGGERS_EVENT_TAG_EXPANSION)?String(g):null;q||(q=m.getFBTPhrase(b,d,f,g));f&&!g?this.$MStructuredComposerOGInput11.value=f:(this.$MStructuredComposerOGInput11.value="",i?(this.$MStructuredComposerOGInput33(g,f),this.$MStructuredComposerOGInput14.value=!1):(this.$MStructuredComposerOGInput32(),this.$MStructuredComposerOGInput14.value=!0));if(A)v.invoke("MComposer:tagger:update",null,{ogActivity:{id:b,icon:e,object:f}});else{h.remove(a.firstChild);i={"max-width":u.getUseableWidth()-B+"px"};e=h.create("span",{className:"_52x0",style:i},q);h.prependContent(a,e)}this.$MStructuredComposerOGInput8&&(this.$MStructuredComposerOGInput4=q,this.$MStructuredComposerOGInput8.setValue(this.$MStructuredComposerOGInput4));this.$MStructuredComposerOGInput10.value=g;this.$MStructuredComposerOGInput9.value=b;this.$MStructuredComposerOGInput12.value=c;this.$MStructuredComposerOGInput18.hide();this.$MStructuredComposerOGInput34();this.$MStructuredComposerOGInput13.value=j;!g&&!l?(this.$MStructuredComposerOGInput8&&this.$MStructuredComposerOGInput8.hide(),this.$MStructuredComposerOGInput18.showIconSelector(b,g,f,d)):(this.$MStructuredComposerOGInput22(),v.invoke("MStructuredComposerOGInput-done",null,{add:!0}),k.log(n.MINUTIAE_ADD));v.invoke("MStructuredComposerOGInput:update")};a.prototype.$MStructuredComposerOGInput22=function(){"use strict";this.$MStructuredComposerOGInput3&&this.hasNavigationPolicy()?this.$MStructuredComposerOGInput31():(this.$MStructuredComposerOGInput29(),v.invoke("MComposer:close:activity","og-tagger"))};a.prototype.reset=function(){"use strict";this.$MStructuredComposerOGInput4=null,this.$MStructuredComposerOGInput9.value="",this.$MStructuredComposerOGInput10.value="",this.$MStructuredComposerOGInput11.value="",this.$MStructuredComposerOGInput12.value="",this.$MStructuredComposerOGInput14.value=!1,this.$MStructuredComposerOGInput15=!1,this.$MStructuredComposerOGInput16=null,A&&v.invoke("MComposer:tagger:update",null,{ogActivity:null}),this.$MStructuredComposerOGInput32(),this.$MStructuredComposerOGInput8&&this.$MStructuredComposerOGInput8.clear(),this.$MStructuredComposerOGInput34(),v.invoke("MStructuredComposerOGInput:update")};a.prototype.getEventIDForExpansion=function(){"use strict";return this.$MStructuredComposerOGInput16};a.prototype.setVisible=function(a){"use strict";this.$MStructuredComposerOGInput2=a,this.$MStructuredComposerOGInput34()};a.prototype.setDisableOgTagPreview=function(a){"use strict";this.$MStructuredComposerOGInput15=a};a.prototype.hasValue=function(){"use strict";return!!this.$MStructuredComposerOGInput9.value};a.prototype.getLoggingData=function(){"use strict";return this.$MStructuredComposerOGInput9.value?{action_type:this.$MStructuredComposerOGInput9.value,object:this.$MStructuredComposerOGInput10.value,object_str:this.$MStructuredComposerOGInput11.value}:null};a.prototype.$MStructuredComposerOGInput34=function(){"use strict";var a=!!this.$MStructuredComposerOGInput9.value;A||(a&&this.$MStructuredComposerOGInput2?h.show:h.hide)(this.$MStructuredComposerOGInput1);(this.$MStructuredComposerOGInput2?h.show:h.hide)(this.$MStructuredComposerOGInput5);g.conditionClass(this.$MStructuredComposerOGInput5,"active",a)};a.prototype.$MStructuredComposerOGInput33=function(a,b){"use strict";this.$MStructuredComposerOGInput32();h.show(this.$MStructuredComposerOGInput6);b="/platform/og/composer/attachment";b=new r(b).setData({object_id:a});i.ajaxify(null,null,b,null)};a.prototype.$MStructuredComposerOGInput32=function(){"use strict";h.replace(h.find(this.$MStructuredComposerOGInput7,"div","og-object-attachment"),this.$MStructuredComposerOGInput6),h.hide(this.$MStructuredComposerOGInput6)};a.prototype.$MStructuredComposerOGInput26=function(){"use strict";k.log(n.MINUTIAE_CHANGE_ICON_INTENT),this.$MStructuredComposerOGInput8&&this.$MStructuredComposerOGInput8.hide(),this.$MStructuredComposerOGInput25()};a.prototype.$MStructuredComposerOGInput24=function(){"use strict";k.log(n.MINUTIAE_INTENT),j.log("og_composer_icon_clicked"),this.$MStructuredComposerOGInput23()};a.prototype.$MStructuredComposerOGInput27=function(event){"use strict";event.kill(),this.reset(),q.minutiaeRemove(),v.invoke("MStructuredComposerOGInput-done",null,{remove:!0}),k.log(n.MINUTIAE_REMOVE)};a.prototype.$MStructuredComposerOGInput35=function(){"use strict";this.$MStructuredComposerOGInput3=!1,this.$MStructuredComposerOGInput18.cancel()};a.prototype.$MStructuredComposerOGInput29=function(){"use strict";this.$MStructuredComposerOGInput3||(this.$MStructuredComposerOGInput3=!0),this.$MStructuredComposerOGInput18.hide()};a.prototype.$MStructuredComposerOGInput28=function(){"use strict";this.$MStructuredComposerOGInput8&&this.$MStructuredComposerOGInput8.showIfHasValue(),this.$MStructuredComposerOGInput18.show()};a.prototype.$MStructuredComposerOGInput36=function(){"use strict";this.$MStructuredComposerOGInput8&&this.$MStructuredComposerOGInput8.hide(),k.log(n.MINUTIAE_CHANGE_ICON_INTENT),this.$MStructuredComposerOGInput18.showIconSelector(this.$MStructuredComposerOGInput9.value,this.$MStructuredComposerOGInput10.value,this.$MStructuredComposerOGInput11.value,this.$MStructuredComposerOGInput12.value)};a.prototype.$MStructuredComposerOGInput31=function(){"use strict";this.currentNavigationPolicy().addOnClose(function(){return this.$MStructuredComposerOGInput18.hide()}.bind(this)).close()};a.prototype.$MStructuredComposerOGInput37=function(){"use strict";this.currentNavigationPolicy().addOnClose(function(){return this.$MStructuredComposerOGInput35()}.bind(this)).close()};a.prototype.$MStructuredComposerOGInput23=function(){"use strict";this.newNavigationPolicy().addOnCloseByBrowser(function(){return this.$MStructuredComposerOGInput35()}.bind(this)).addOnOpen(function(){return this.$MStructuredComposerOGInput28()}.bind(this)).open()};a.prototype.$MStructuredComposerOGInput25=function(){"use strict";this.newNavigationPolicy().addOnCloseByBrowser(function(){return this.$MStructuredComposerOGInput35()}.bind(this)).addOnOpen(function(){return this.$MStructuredComposerOGInput36()}.bind(this)).open()};e.exports=a}),null);
__d("DeferredComponent.react",["React","createCancelableFunction","gkx"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=g.PropTypes;c=babelHelpers.inherits(a,g.Component);j=c&&c.prototype;function a(a,b){"use strict";__p&&__p();j.constructor.call(this,a,b);this.$1=function(a){this.setState({ComponentClass:a},function(){this.props.onComponentLoad&&this.props.onComponentLoad(a)}.bind(this))}.bind(this);var c=null;function d(a){c=a}this.props.deferredComponent(d);this.state={ComponentClass:c,cancelableModulesLoaded:h(this.$1)}}a.prototype.componentDidMount=function(){"use strict";this.props.deferredComponent(this.state.cancelableModulesLoaded)};a.prototype.componentWillUnmount=function(){"use strict";this.state.cancelableModulesLoaded.cancel()};a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.ComponentClass;if(!a||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var b=this.props;b.deferredPlaceholder;b.deferredComponent;b.onComponentLoad;b.deferredForcePlaceholder;b=babelHelpers.objectWithoutProperties(b,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return g.createElement(a,b)};a.propTypes={deferredPlaceholder:b.element.isRequired,deferredComponent:b.func.isRequired,onComponentLoad:b.func,deferredForcePlaceholder:b.bool};e.exports=a}),null);
__d("JSResourceReference",["Promise","Bootloader"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";this.$1=a}a.prototype.getModuleId=function(){"use strict";return this.$1};a.prototype.load=function(){"use strict";return new g(function(a){h.loadModules.call(h,[this.$1],a,this.$2||"JSResource: unknown caller")}.bind(this))};a.prototype.preload=function(){"use strict";h.preloadModules.call(h,[this.$1])};a.prototype.equals=function(a){"use strict";return this===a||this.$1==a.$1};a.prototype.__setRef=function(a){"use strict";this.$2=a;return this};a.loadAll=function(a,b){"use strict";__p&&__p();var c={},d=!1;for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;i=i.$2;i&&(d=!0,c[i]=!0)}h.loadModules.call(h,a.map(function(a){return a.getModuleId()}),b,d?Object.keys(c).join(":"):"JSResource: unknown caller")};e.exports=a}),null);
__d("JSResource",["JSResourceReference"],(function(a,b,c,d,e,f,g){a=function(a){return new g(a)};a.Reference=g;a.loadAll=g.loadAll;e.exports=a}),null);
__d("PerfHelperUtils",["React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,g.PureComponent);h&&h.prototype;a.prototype.render=function(){return this.props.children};function a(){h.apply(this,arguments)}b={SlowBootloadBorder:a};e.exports=b}),null);
__d("PerfUtils",["React","performanceNow","PerfHelperUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=g.Component,k=i.SlowBootloadBorder;function a(a,b,c){__p&&__p();var d;d=babelHelpers.inherits(e,j);d&&d.prototype;e.prototype.componentDidMount=function(){"use strict";b()};e.prototype.render=function(){"use strict";if(c)return g.createElement(a,babelHelpers["extends"]({},this.props,{ref:c}));else return g.createElement(a,this.props)};function e(){"use strict";d.apply(this,arguments)}return e}function b(a,b,c){__p&&__p();var d,e=1e4;c=h()-c;if(c<e)return a;var f=e/1e3,i=Math.round(c)/1e3;d=babelHelpers.inherits(l,j);d&&d.prototype;l.prototype.componentDidMount=function(){"use strict";!1};l.prototype.render=function(){"use strict";return g.createElement(k,{moduleId:b,timeLimitSecs:f,timeSpentSecs:i},g.createElement(a,this.props))};function l(){"use strict";d.apply(this,arguments)}return l}c={appendListener:a,markRedInDev:b};e.exports=c}),null);
__d("Placeholder.react",["react"],(function(a,b,c,d,e,f,g){e.exports=g.Placeholder}),null);
__d("BootloaderResource",["ifRequired"],(function(a,b,c,d,e,f,g){function h(a){return a}a={preload:function(a){a.load()},read:function(a){return g.call(null,a.getModuleId(),h,function(){throw a.load()})}};e.exports=a}),null);
__d("lazyLoadComponent",["BootloaderResource","react"],(function(a,b,c,d,e,f,g,h){function a(a){function b(b){var c=g.read(a);return h.createElement(c,b)}b.displayName="lazyLoadComponent("+a.getModuleId()+")";return b}e.exports=a}),null);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","Placeholder.react","React","TimeSlice","gkx","invariant","lazyLoadComponent","performanceNow"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q,r,s;d=k.Component;var t=i.appendListener;f=i.markRedInDev;p=m("AT4ur5VkalbLDRYfOhgfyfeh-Q226-tyC5XityoZgsXc4PYiJdsTiv6XvQmBWMW1Qt9QQG1jWng0teg3J00ZZ6fS");q=babelHelpers.inherits(a,d);q&&q.prototype;a.create=function(a){__p&&__p();var b;b=babelHelpers.inherits(c,k.Component);b&&b.prototype;c.prototype.render=function(){var b=this.props;b.bootloadLoader;b=babelHelpers.objectWithoutProperties(b,["bootloadLoader"]);return k.createElement(u,babelHelpers["extends"]({bootloadLoader:a,bootloadPlaceholder:k.createElement("div",null)},b))};function c(){b.apply(this,arguments)}c.displayName="BootloadedComponent("+a.getModuleId()+")";return c};function a(){"use strict";q.apply(this,arguments)}i=babelHelpers.inherits(b,a);r=i&&i.prototype;function b(a){"use strict";r.constructor.call(this,a);this.$SuspenseBootloadedComponent1=null;a.onBootloaderWillMount&&a.onBootloaderWillMount();var b=a.isContinuation?l.PropagationType.CONTINUATION:l.PropagationType.EXECUTION;b=l.guard(o,"Use lazyLoadComponent to load the module",{propagationType:b});b=b(a.bootloadLoader);this.$SuspenseBootloadedComponent1=a.onComponentDidMount?t(b,a.onComponentDidMount):b}b.prototype.render=function(){"use strict";__p&&__p();var a=this.props;a.bootloadLoader;var b=a.bootloadPlaceholder,c=a.bootloadForcePlaceholder;a.isContinuation;a.onComponentDidMount;a=babelHelpers.objectWithoutProperties(a,["bootloadLoader","bootloadPlaceholder","bootloadForcePlaceholder","isContinuation","onComponentDidMount"]);var d=this.$SuspenseBootloadedComponent1;if(c===!0)return b;d!=null||n(0);return k.createElement(j,{fallback:b},k.createElement(d,a))};f=babelHelpers.inherits(c,a);s=f&&f.prototype;function c(a){"use strict";s.constructor.call(this,a),this.$BootloadedComponent1=function(a){var b=this.props.isContinuation,c;b=b?l.PropagationType.CONTINUATION:l.PropagationType.EXECUTION;l.guard(h.loadAll,"BootloadedComponent load all JSResource",{propagationType:b})([this.props.bootloadLoader],function(b){b=this.props.onComponentDidMount?t(b,this.props.onComponentDidMount):b,a(b)}.bind(this))}.bind(this),a.onBootloaderWillMount&&a.onBootloaderWillMount()}c.prototype.render=function(){"use strict";var a=this.props;a.bootloadLoader;a.isContinuation;var b=a.bootloadPlaceholder,c=a.bootloadForcePlaceholder;a=babelHelpers.objectWithoutProperties(a,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);return k.createElement(g,babelHelpers["extends"]({deferredPlaceholder:b,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:c},a))};c.defaultProps={isContinuation:!0};var u=p?b:c;e.exports=u}),null);
__d("MStructuredComposerPhotoPreviewBootloader",["BootloadedComponent.react","DOM","JSResource","MComposerNavigationMixin","MLoadingSpinner.react","PhotosUploadWaterfallXMixin","PUWSteps","React","ReactDOM","cx","fbt","mixin","performanceNow"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t;b=babelHelpers.inherits(a,r(l,j));t=b&&b.prototype;function a(a){"use strict";t.constructor.call(this),this.$MStructuredComposerPhotoPreviewBootloader1=a.root,this.$MStructuredComposerPhotoPreviewBootloader2=a.typeaheadConfig,this.$MStructuredComposerPhotoPreviewBootloader3=a.suggestions,this.$MStructuredComposerPhotoPreviewBootloader4=null,this.$MStructuredComposerPhotoPreviewBootloader5=null,this.$MStructuredComposerPhotoPreviewBootloader6=h.find(this.$MStructuredComposerPhotoPreviewBootloader1,"div","structured-composer-photo-preview-card")}a.prototype.$MStructuredComposerPhotoPreviewBootloader7=function(a,b){"use strict";var c=h.find(this.$MStructuredComposerPhotoPreviewBootloader1,"div","photo-preview-title");b&&Object.keys(b).length>0&&c?h.setContent(c,q._("Tag photo")):c&&h.setContent(c,q._("Photo preview"));o.render(n.createElement(g,babelHelpers["extends"]({},this.props,{bootloadLoader:i("MStructuredComposerPhotoPreviewBootloadable.react").__setRef("MStructuredComposerPhotoPreviewBootloader"),bootloadPlaceholder:n.createElement("div",{className:"_4ldw"},n.createElement(k,null),q._("Loading...")),imageSrc:a,initialFaceboxes:b,onTagAdd:this.$MStructuredComposerPhotoPreviewBootloader4,onTagDelete:this.$MStructuredComposerPhotoPreviewBootloader5,typeaheadConfig:this.$MStructuredComposerPhotoPreviewBootloader2,typeaheadSuggestions:this.$MStructuredComposerPhotoPreviewBootloader3})),this.$MStructuredComposerPhotoPreviewBootloader6);h.show(this.$MStructuredComposerPhotoPreviewBootloader1)};a.prototype.$MStructuredComposerPhotoPreviewBootloader8=function(){"use strict";h.hide(this.$MStructuredComposerPhotoPreviewBootloader1),o.unmountComponentAtNode(this.$MStructuredComposerPhotoPreviewBootloader6)};a.prototype.show=function(a,b){"use strict";if(this.hasNavigationPolicy())return;this.newNavigationPolicy().addOnOpen(function(){this.$MStructuredComposerPhotoPreviewBootloader7(a.previewURI,b),this.$MStructuredComposerPhotoPreviewBootloader9=s(),this.logStep(m.CLIENT_PHOTO_PREVIEW_OPEN,{})}.bind(this)).addOnClose(function(){h.hide(this.$MStructuredComposerPhotoPreviewBootloader1),this.logStep(m.CLIENT_PHOTO_PREVIEW_CLOSE,{elapsed_time:s()-this.$MStructuredComposerPhotoPreviewBootloader9})}.bind(this)).open()};a.prototype.setOnDeleteXYTag=function(a){"use strict";this.$MStructuredComposerPhotoPreviewBootloader5=a};a.prototype.setOnAddXYTag=function(a){"use strict";this.$MStructuredComposerPhotoPreviewBootloader4=a};a.prototype.hide=function(){"use strict";if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().close()};a.prototype.setWaterfall=function(a,b,c){"use strict";this.$MStructuredComposerPhotoPreviewBootloader10=a;this.$MStructuredComposerPhotoPreviewBootloader11=b;this.$MStructuredComposerPhotoPreviewBootloader12=c;return this};a.prototype.getWaterfallID=function(){"use strict";return this.$MStructuredComposerPhotoPreviewBootloader10};a.prototype.getWaterfallAppName=function(){"use strict";return this.$MStructuredComposerPhotoPreviewBootloader11};a.prototype.getWaterfallSource=function(){"use strict";return this.$MStructuredComposerPhotoPreviewBootloader12};e.exports=a}),null);
__d("SlideshowImageUtil",["immutable","SlideshowConstants","SlideshowConstants","invariant"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=i.formats,l="-",m=24,n=1.3,o=10,p=460,q=32,r=.8,s={getCroppingSpec:function(a,b,c,d){if(d&&a){d=Object.keys(a)[0];a=a[d];return{format:h.formats.Original,topLeft:a[0],bottomRight:a[1]}}return this.getFullSizeImageBoxCroppingSpec({width:c.width?c.width:0,height:c.height?c.height:0},{width:b.width,height:b.height})},shouldCropImages:function(a){__p&&__p();var b=a[0].width,c=a[0].height;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.width!==b||f.height!==c)return!0}return!1},getCrops:function(a,b,c){a=this.calculateDefaultCoordinates(a,c);return c={},c[b]=a,c},calculateCropsForFormat:function(a,b,c){__p&&__p();if(!a.size)return g.Map();var d=g.Map();switch(b){case k.Original:var e=a.first();e=c.get(e.key);var f=e.height,i=e.width;a.forEach(function(a){d=d.set(a.key,this.getCrops(c.get(a.key),i+h.SIZE_DELIMITER+f,i/f))}.bind(this));break;case k.Wide:a.forEach(function(a){d=d.set(a.key,this.getCrops(c.get(a.key),b,h.LANDSCAPE_ASPECT_RATIO))}.bind(this));break;case k.Square:a.forEach(function(a){d=d.set(a.key,this.getCrops(c.get(a.key),b,h.SQUARE_ASPECT_RATIO))}.bind(this));break;case k.Vertical:a.forEach(function(a){d=d.set(a.key,this.getCrops(c.get(a.key),b,h.VERTICAL_ASPECT_RATIO))}.bind(this));break;default:}return d},calculateDefaultCoordinates:function(a,b){var c,d;a.width/b>a.height?(c=a.height,d=a.height*b):(d=a.width,c=a.width/b);b=(a.width-d)/2;a=(a.height-c)/2;var e=Math.floor(b)-b,f=Math.floor(a)-a;return[[b+e,a+f],[Math.round(b+d+e),Math.round(a+c+f)]]},getPreviewBoxDimensions:function(a,b){__p&&__p();var c=b,d=b;if(a.length>0){a=a[0];a=Object.keys(a)[0];switch(a){case h.formats.Wide:c=b/h.LANDSCAPE_ASPECT_RATIO;break;case h.formats.Vertical:d=b*h.VERTICAL_ASPECT_RATIO;break;case h.formats.Square:break;default:b=a.split(h.SIZE_DELIMITER);a=Number(b[0]);b=Number(b[1]);a>b?c=Math.floor(d*b/a):d=Math.floor(c*a/b);break}}return{width:d,height:c}},getFullSizeImageBoxCroppingSpec:function(a,b){b=b.width/b.height;a=this.calculateDefaultCoordinates(a,b);a.length===2||j(0);return{format:h.formats.Original,topLeft:a[0],bottomRight:a[1]}},getDefaultCroppingSpec:function(a){a=this.calculateDefaultCoordinates(a,1);a.length===2||j(0);return{format:h.formats.Square,topLeft:a[0],bottomRight:a[1]}},getHorizontalAlignmentForAPI:function(a){a=a.split(l);return a[1]},getFontSize:function(a){return Math.floor(m*a)},getFontWeight:function(a){return a?"bold":"normal"},getLineHeight:function(){return n},getOpacity:function(){return r},getTextoverlayMaxEdge:function(a,b){return a-q*b*2-o*b*2},getTextoverlayPadding:function(a){return o*a},getTextoverlayMargin:function(a){return q*a},getScaleMultiplierFromCrops:function(a){a=Object.keys(a)[0];a=a.split(h.SIZE_DELIMITER);var b=Number(a[0]);a=Number(a[1]);return s.getScaleMultiplier(b,a)},getScaleMultiplier:function(a,b){return Math.max(a/p,b/p)},getOuterTextboxCoordinatesForAPI:function(a,b,c){a=Object.keys(a)[0];a=a.split(h.SIZE_DELIMITER);var d=Number(a[0]);a=Number(a[1]);d=s.calculateTextboxCoordinates(a,d,b,c);return[Math.floor(d.marginLeft),Math.floor(a-d.marginTop-d.textHeight),Math.ceil(d.marginLeft+d.textWidth),Math.ceil(a-d.marginTop)]},getInnerTextboxCoordinatesForAPI:function(a,b,c){a=Object.keys(a)[0];a=a.split(h.SIZE_DELIMITER);var d=Number(a[0]);a=Number(a[1]);d=s.calculateTextboxCoordinates(a,d,b,c);return[Math.floor(d.marginLeft),Math.floor(a-d.marginTop-d.textHeight),Math.ceil(d.marginLeft+d.textWidth),Math.ceil(a-d.marginTop)]},convertHexToRGBA:function(a){if(!a)return null;a=a.replace("#","");var b=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16);a=parseInt(a.substring(4,6),16);return"rgba("+b+","+c+","+a+","+s.getOpacity()+")"},calculateTextboxCoordinates:function(a,b,c,d){__p&&__p();var e=c.text_alignment.split(l),f=e[1];e=e[0];var g=s.getFontSize(d),h=s.getTextoverlayMaxEdge(b,d),i=s.getTextoverlayMaxEdge(a,d),j=document.createElement("div");j.textContent=c.textoverlay_content?c.textoverlay_content:"";j.style.visibility="hidden";j.style.display="inline-block";j.style.wordWrap="break-word";j.style.whiteSpace="pre-wrap";j.style.fontFamily=c.font;j.style.fontWeight=s.getFontWeight(c.bold);j.style.fontSize=g+"px";j.style.textAlign=f;j.style.maxWidth=h+"px";j.style.maxHeight=i+"px";j.style.lineHeight=s.getLineHeight()*g+"px";j.style.padding=s.getTextoverlayPadding(d)+"px";j.style.letterSpacing="0.2px";document.body.appendChild(j);c=j.clientWidth;h=j.clientHeight;document.body.removeChild(j);i=q*d;g=q*d;j=b-q*d;var k=a-q*d;f=="center"?i=Math.min((b-c)/2,j):f=="right"&&(i=Math.min(b-q*d-c,j));e=="center"?g=Math.min((a-h)/2,k):e=="bottom"&&(g=Math.min(a-q*d-h,k));return{marginLeft:i,marginTop:g,textHeight:h,textWidth:c}}};e.exports=s}),null);
__d("SlideshowFrameImage.react",["Image.react","React","SlideshowImageUtil"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,h.Component);j&&j.prototype;a.prototype.$5=function(){__p&&__p();this.props.croppingSpec?(this.$3={width:this.props.imageWidth,height:this.props.imageHeight},this.$4={x:-this.props.croppingSpec.topLeft[0],y:-this.props.croppingSpec.topLeft[1]},this.$1={width:this.props.croppingSpec.bottomRight[0]+this.$4.x,height:this.props.croppingSpec.bottomRight[1]+this.$4.y}):(this.$3={width:this.props.imageWidth,height:this.props.imageHeight},this.$4={x:0,y:0},this.$1={width:this.props.imageWidth,height:this.props.imageHeight});if(this.props.fitToMaxHeightAndWidth){var a=this.props.maxWidth/this.$1.width;this.$3.width*=a;this.$4.x*=a;this.$1.width*=a;a=this.props.maxHeight/this.$1.height;this.$3.height*=a;this.$4.y*=a;this.$1.height*=a}else{a=Math.min(this.props.maxWidth/this.$1.width,this.props.maxHeight/this.$1.height);this.$3.width*=a;this.$3.height*=a;this.$4.x*=a;this.$4.y*=a;this.$1.width*=a;this.$1.height*=a}this.$2={x:(this.props.maxWidth-this.$1.width)/2,y:(this.props.maxHeight-this.$1.height)/2}};a.prototype.$6=function(){var a=this.props.textoverlay,b=i.getScaleMultiplier(this.props.maxWidth,this.props.maxHeight);if(!a||!a.textoverlay_content)return null;var c=i.calculateTextboxCoordinates(this.props.maxHeight,this.props.maxWidth,a,b),d=a.text_alignment.split("-")[1];return h.createElement("div",{style:{backgroundColor:i.convertHexToRGBA(a.background_color),color:a.font_color,position:"absolute",fontFamily:a.font,fontSize:i.getFontSize(b),fontWeight:i.getFontWeight(a.bold),letterSpacing:"0.2px",lineHeight:i.getLineHeight(),marginLeft:c.marginLeft,marginTop:c.marginTop,maxHeight:i.getTextoverlayMaxEdge(this.props.maxHeight,b),maxWidth:i.getTextoverlayMaxEdge(this.props.maxWidth,b),overflow:"hidden",overflowWrap:"break-word",padding:i.getTextoverlayPadding(b),textAlign:d,whiteSpace:"pre-wrap"}},a.textoverlay_content)};a.prototype.render=function(){this.$5();return h.createElement("div",{className:this.props.className,style:{position:this.props.positionStyle,width:this.$1.width,height:this.$1.height,left:this.$2.x,top:this.$2.y,overflow:"hidden"}},h.createElement(g,{src:this.props.imageSrc,width:this.$3.width,height:this.$3.height,style:{position:"absolute",left:this.$4.x,top:this.$4.y}}),this.$6())};function a(){j.apply(this,arguments)}a.defaultProps={className:null,croppingSpec:null,fitToMaxHeightAndWidth:!1,positionStyle:"absolute",textoverlay:null};e.exports=a}),null);
__d("MSlideshowPlayer.react",["DOM","MImageFetchNotifier","React","ReactDOM","ShimButton.react","SlideshowFrameImage.react","SlideshowImageUtil","Style","SubscriptionsHandler","cancelAnimationFrame","cx","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";__p&&__p();a=i.PropTypes;var s=300,t=1.7143;b=i.createClass({displayName:"MSlideshowPlayer",_animationID:null,_timeout:null,_currIndex:0,_subscriptions:null,propTypes:{durationInMS:a.number.isRequired,transitionInMS:a.number.isRequired},getInitialState:function(){return{imagesAllLoaded:!1,playing:!1}},UNSAFE_componentWillMount:function(){var a=new o(),b=i.Children.count(this.props.children);i.Children.forEach(this.props.children,function(c){c=c.props.src;a.addSubscriptions(h.notifyWhenFetched(c,function(){b--,b===0&&this.setState({imagesAllLoaded:!0})}.bind(this)))}.bind(this));this._subscriptions=a},componentDidMount:function(){this._timeout=null},componentWillUnmount:function(){this._clearTimeout(),this._subscriptions&&this._subscriptions.release()},shouldComponentUpdate:function(a,b){return b.imagesAllLoaded!==this.state.imagesAllLoaded||b.playing!==this.state.playing},_clearTimeout:function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._animationID&&(p(this._animationID),this._animationID=null)},_getItemCount:function(){return i.Children.count(this.props.children)},_moveNext:function(){this._currIndex++,this._currIndex>=this._getItemCount()?this._stopPlaying():this._fadeImage()},_setTimeout:function(){this._timeout=setTimeout(this._moveNext,this.props.durationInMS)},_fadeImage:function(){var a=j.findDOMNode(this.refs[this._currIndex-1]),b=0,c=function(d){b=b===0?d:b;d=Math.max(1-(d-b)/this.props.transitionInMS,0);n.set(a,"opacity",d);d===0?this._setTimeout():this._animationID=r(c)}.bind(this);this._animationID=r(c)},_resetImages:function(){this._currIndex=0;for(var a=0;a<this._getItemCount();a++)n.set(j.findDOMNode(this.refs[a]),"opacity",1)},_startPlaying:function(){if(this._timeout)return;this.setState({playing:!0},this._setTimeout)},_stopPlaying:function(){this._timeout&&(this.setState({playing:!1}),this._clearTimeout(),this._resetImages())},_getImageDimensions:function(a){if(this.refs[a]){a=g.find(j.findDOMNode(this.refs[a]),"img");return{width:a.naturalWidth,height:a.naturalHeight}}return{width:0,height:0}},_getCurrentImages:function(a,b,c){return i.Children.map(this.props.children,function(d,e){var f=this._getImageDimensions(e),g=c?m.getDefaultCroppingSpec(f):null;return i.createElement(l,{imageSrc:d.props.src,imageWidth:f.width,imageHeight:f.height,croppingSpec:g,maxWidth:a,maxHeight:b,ref:e,key:e})}.bind(this)).reverse()},render:function(){if(this._getItemCount()===0)return i.createElement("div",null);var a=i.Children.map(this.props.children,function(a,b){return this._getImageDimensions(b)}.bind(this)),b=m.shouldCropImages(a);a=b||!this.state.imagesAllLoaded?1:a[0].width/a[0].height;a=s/Math.max(a,t);return i.createElement("div",{className:"_1k7"},i.createElement("div",{className:"_1k8",style:{width:s,height:a}},this._getCurrentImages(s,a,b)),i.createElement("div",{className:"_1k9"+(this.state.playing||!this.state.imagesAllLoaded?" _1ka":"")},i.createElement(k,{className:"_1o0y",onClick:this._startPlaying})))}});e.exports=b}),null);
__d("SlideshowCreationWaterfallEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SLIDESHOW_INTENT:"intent_slideshow",SLIDESHOW_CANCEL:"cancel_slideshow",SLIDESHOW_POST:"post_slideshow",SLIDESHOW_PREVIEW_INTENT:"intent_slideshow_preview",SLIDESHOW_PREVIEW_CANCEL:"cancel_slideshow_preview",SLIDESHOW_IMAGE_UPLOAD_STARTED:"image_upload_started_slideshow",SLIDESHOW_IMAGE_UPLOAD_SUCCESS:"image_upload_success_slideshow",SLIDESHOW_IMAGES_SELECT_CONFIRM:"images_select_confirm_slideshow",SLIDESHOW_IMAGE_REMOVE:"image_remove_slideshow",SLIDESHOW_ADD_VIDEO_CLICK:"add_video_click_slideshow",SLIDESHOW_VIDEO_UPLOAD_START:"video_upload_start_slideshow",SLIDESHOW_VIDEO_UPLOAD_ERROR:"video_upload_error_slideshow",SLIDESHOW_VIDEO_UPLOAD_SUCCESS:"video_upload_success_slideshow",SLIDESHOW_FRAME_IMAGES_START:"frame_images_start_slideshow",SLIDESHOW_FRAME_IMAGES_SUCCESS:"frame_images_success_slideshow",SLIDESHOW_FRAME_IMAGES_ERROR:"frame_images_error_slideshow",SLIDESHOW_STORYLINE_MOOD_SELECT:"storyline_mood_select_slideshow",SLIDESHOW_MUSIC_CATEGORY_SELECT:"music_category_select_slideshow",SLIDESHOW_STORYLINE_MOOD_REMOVE:"storyline_mood_remove_slideshow",SLIDESHOW_STORYLINE_MOOD_DELETE:"storyline_mood_delete_slideshow",SLIDESHOW_AUDIO_UPLOAD_START:"audio_upload_start_slideshow",SLIDESHOW_AUDIO_UPLOAD_ERROR:"audio_upload_error_slideshow",SLIDESHOW_AUDIO_UPLOAD_SUCCESS:"audio_upload_success_slideshow",SLIDESHOW_DURATION_CHANGE:"duration_change_slideshow",SLIDESHOW_TRANSITION_CHANGE:"transition_change_slideshow",SLIDESHOW_FORMAT_CHANGE:"format_change_slideshow",SLIDESHOW_TAB_CHANGE:"tab_change_slideshow"})}),null);
__d("MStructuredComposerSlideshowPreview",["CSS","DOM","Image.react","MComposerNavigationMixin","MComposerSlideshowLogger","MCompositionPhotoFields","MCompositionPhotoStore","MSlideshowPlayer.react","MSubscriptionsHandlerMixin","React","ReactDOM","SlideshowConstants","SlideshowCreationWaterfallEvent","Stratcom","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v,w="cancel_slideshow_preview",x="show_slideshow_preview",y="submit_slideshow";b=babelHelpers.inherits(a,u(j,o));v=b&&b.prototype;function a(a,b){"use strict";v.constructor.call(this),this.$MStructuredComposerSlideshowPreview1=a,this.$MStructuredComposerSlideshowPreview2=b,this.$MStructuredComposerSlideshowPreview3=null,this.addSubscriptions(h.listen(this.$MStructuredComposerSlideshowPreview2,"click",x,this.$MStructuredComposerSlideshowPreview4.bind(this)),h.listen(this.$MStructuredComposerSlideshowPreview1,"click",w,this.$MStructuredComposerSlideshowPreview5.bind(this)),h.listen(this.$MStructuredComposerSlideshowPreview1,"click",y,this.$MStructuredComposerSlideshowPreview6.bind(this)))}a.prototype.$MStructuredComposerSlideshowPreview7=function(a){"use strict";var b=m.get(l.PHOTO_INFO_LIST,[]).map(function(a,b){return p.createElement(i,{src:a.previewURI,key:b})});return q.render(p.createElement(n,{durationInMS:r.photo_duration,transitionInMS:r.photo_transition_duration},b),a)};a.prototype.$MStructuredComposerSlideshowPreview4=function(){"use strict";this.newNavigationPolicy().addOnOpen(function(){this.$MStructuredComposerSlideshowPreview3=this.$MStructuredComposerSlideshowPreview7(h.find(this.$MStructuredComposerSlideshowPreview1,"div","slideshow_preview_placeholder")),g.show(this.$MStructuredComposerSlideshowPreview1),k.log(s.SLIDESHOW_PREVIEW_INTENT)}.bind(this)).addOnClose(function(){q.unmountComponentAtNode(h.find(this.$MStructuredComposerSlideshowPreview1,"div","slideshow_preview_placeholder")),g.hide(this.$MStructuredComposerSlideshowPreview1),k.log(s.SLIDESHOW_PREVIEW_CANCEL)}.bind(this)).addOnCloseByBrowser(function(){return g.hide(this.$MStructuredComposerSlideshowPreview1)}.bind(this)).open()};a.prototype.$MStructuredComposerSlideshowPreview5=function(){"use strict";if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().close()};a.prototype.$MStructuredComposerSlideshowPreview6=function(){"use strict";[h.find(this.$MStructuredComposerSlideshowPreview1,"button",y),h.find(this.$MStructuredComposerSlideshowPreview1,"button",w)].forEach(function(a){a.disabled=!0}),t.invoke("MStructuredComposerSlideshowPreview-submit")};a.prototype.setSubmitButtonText=function(a){"use strict";h.setContent(h.find(this.$MStructuredComposerSlideshowPreview1,"button",y),a)};e.exports=a}),null);
__d("PrivacyRemindersLoggingTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONLY_ME_IMPRESSION:"only_me_impression",ONLY_ME_CONVERSION:"only_me_conversion",EVERYONE_IMPRESSION:"everyone_impression",EVERYONE_CONVERSION:"everyone_conversion",EVERYONE_TESTS_IMPRESSION:"everyone_tests_impression",EVERYONE_TESTS_CONVERSION:"everyone_tests_conversion",PUBLIC_POSTING_FILTER_NUX_IMPRESSION:"public_posting_filter_nux_impression",PUBLIC_POSTING_FILTER_NUX_CONVERSION:"public_posting_filter_nux_conversion",DELTA_EVERYONE_IMPRESSION:"delta_everyone_impression",DELTA_EVERYONE_CONVERSION:"delta_everyone_conversion",DELTA_EVERYONE_OK_BUTTON_CLICKED:"delta_everyone_ok_button_clicked",DELTA_EVERYONE_CHANGE_BUTTON_CLICKED:"delta_everyone_change_button_clicked"})}),null);
__d("UnpublishedContentTypeJSConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PUBLISHED:0,SCHEDULED:1,DRAFT:2,ADS_POST:3,GLOBAL_CONTENT:4,PREVIEW:5,INLINE_CREATED:6,VALIDATION:7,LOCATION:8,INSTANT_ARTICLE:9,TAROT_DIGEST:10,BOOST_CANDIDATE:11,REVIEWABLE_BRANDED_CONTENT:12,WOODHENGE:13,AD_BREAK_PREREVIEW:14})}),null);
__d("XPhotosIncrementThumbnailPreviewNUXImpressionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/photos/tagging/increment_thumbnail_preview_nux_impressions/",{})}),null);
__d("XPrivacyRemindersImpressionLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/reminders/log_imp/",{type:{type:"String",required:!0}})}),null);
__d("whitelistObjectKeys",[],(function(a,b,c,d,e,f){function a(a,b){var c={};b=Array.isArray(b)?b:Object.keys(b);for(var d=0;d<b.length;d++)typeof a[b[d]]!=="undefined"&&(c[b[d]]=a[b[d]]);return c}e.exports=a}),null);
__d("MStructuredComposer",["ActorURI","BanzaiLogger","CSS","CurrentUser","DateTime","DOM","FbtResult","GroupSellLogger","LoadingIndicator","MAjaxify","MAjaxifyFormTypes","MarauderLogger","MComposerBackgroundUploadProgress","MComposerDataStoreKeys","MComposerEligibility","MComposerEntry","MComposerLogger","MComposerLoggerPublishingListeners","MComposerNavigationConstants","MComposerNavigationMixin","MComposerPresence","MComposerSigils","MComposerSlideshowLogger","MComposerTypes","MComposerWaterfallEvent","MComposition","MCompositionConfigFields","MCompositionConfigStore","MCompositionFormatFields","MCompositionFormatID","MCompositionFormatStore","MCompositionMinutiaeFields","MCompositionMinutiaeStore","MCompositionPhotoFields","MCompositionPhotoStore","MCompositionPlaceFields","MCompositionPlaceStore","MCompositionPrivacyStore","MCompositionShareFields","MCompositionShareStore","MCompositionSlideshowFields","MCompositionSlideshowStore","MCompositionStatusFields","MCompositionStatusStore","MCompositionStoreID","MCompositionUserActions","MCompositionWithFields","MCompositionWithStore","MGroupSellInterceptUtil","MInputFocus","MJSEnvironment","MLegacyDataStore","MMultiPhotoUploaderAttachmentState","MPrivacyComposerSelector","MRequest","MRequestTypes","MStructuredComposerOGInput","MStructuredComposerPhotoPreviewBootloader","MStructuredComposerSlideshowPreview","MTagSuggestionsController","MTouchClick","MViewport","PrivacyConst","PrivacyRemindersLoggingTypes","SlideshowConstants","SlideshowCreationWaterfallEvent","Stratcom","Timezone","UnpublishedContentTypeJSConstants","URI","URLMatcher","UserAgent","Vector","WebGraphQLLegacyHelper","XInlineComposerAudienceEducationController","XPhotosIncrementThumbnailPreviewNUXImpressionsController","XPrivacyRemindersImpressionLoggingController","XWebGraphQLMutationController","$","areEqual","createDeprecatedProperties","cx","fbt","ge","getActiveElement","getObjectValues","gkx","mixin","setTimeoutAcrossTransitions","uuid","whitelistObjectKeys","WildeLoader"],(function(a,b,c,d,e,f,g,h,i,j,k,l,aa,m,n,o,p,q,r,s,ba,t,u,ca,da,ea,fa,ga,ha,v,w,ia,x,y,z,A,B,C,ja,D,E,F,G,ka,H,I,la,ma,J,K,L,M,na,oa,pa,qa,N,O,ra,sa,P,ta,ua,va,wa,xa,Q,R,S,ya,za,Aa,T,Ba,U,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,V,La,Ma,Na,W,X,Oa,Pa,Y,Qa,Ra,Sa,Ta){__p&&__p();var Ua,Z=b("WildeLoader").MWildeTimelinePublisherBar,Va=5,Wa=6*3600*1e3,Xa=100;f=babelHelpers.inherits(c,Qa(ea));Ua=f&&f.prototype;function c(a,b,c,e,f,g,h,j,k,aa,m,n,o,p,q,r,s,t){"use strict";__p&&__p();Ua.constructor.call(this);this._resetComposer=function(){__p&&__p();this._onComposerCancel=null;this._onComposerSubmit=null;this._isPageCheckin&&(this._isPageCheckin=!1,this._changeConfig(this._defaultConfig));this._submitted=!1;this._updateSubmitButtonState();l.hide(this._error_btn);this._hasMentions=!1;this._numMentions=0;this._friendsInputController.reset();this._ogTagger&&(this._ogInputController.reset(),T.invoke("composerReset"),this._ogTagger.hide());this._photoAction&&(l.find(this._attachPhoto,"input","photo-input").value="",this._hasPhoto=!1,!this._getIsAlbumDisabled()?(this._removeAlbumAndPhoto(),this._albumPicker.hide()):(l.hide(this._attachPhoto),this._photoOpen=!1),i.conditionClass(this._photoButton,"active",!1),l.show(this._photoButton));this._slideshowToggle&&i.hide(this._slideshowToggle);this._slideshowNUX&&this._slideshowNUX.hasShown()&&(this._slideshowNUX.dismiss(),this._slideshowNUX=null);this._pageInfo&&l.hide(this._pageInfo);this._longReviewTips&&l.hide(this._longReviewTips);this._starsRatableInput&&l.hide(this._starsRatableInput);this._newcomerAudienceNux=null;this._audienceAlignmentFlyout=null;this._showStickyGuardrailFlyout=!1;this._photoButton&&l.show(this._photoButton);var a=this._getPrivacySelector();a&&a.isOpen()&&a.hideMenu();this._privacySelector&&l.show(this._privacySelector);this._updateTagExpansion();this._onlyMeFlyoutShown=!1;this._mentionsEnabled=!0;T.invoke("MComposer:tagger:clear");this._resetPosition();this._determineFormAction();T.invoke("MMentions:clearHiddenInput");T.invoke("MCustomPrivacy::removeListener");this._closeComposer();this._cleanupLogWritten();T.invoke("MMentions:enable");T.invoke("MStructuredComposer:reset");this._multiPhotoUploader&&this._multiPhotoUploader.resetState();M.finalize();this._bgUploadWaitForMediaListener&&(this._bgUploadWaitForMediaListener.remove(),this._bgUploadWaitForMediaListener=null)}.bind(this);this._composerHasContent=function(){if(ba.isComposerEmpty()){this._showError(W._("Please add content to your status before posting"));return!1}return!0}.bind(this);this._handleEditChange=function(){this._hasEditChanges=!0}.bind(this);d=n;this._ogClearablePreview=p;this._albumPicker=e;this._ogTagger=f;this._multiPhotoUploader=g;this._pageInfo=h;this._createLabel=j;this._updateLabel=k;this._photosPreviewConfig=s;this._photoPreview=null;this._photosPreviewNux=t;this._numMentions=0;this._hasMentions=!!this._numMentions;this._defaultHideConfig={};this._targetType=aa;this._entryPointRef=m;this._stayHiddenUntilOGTaggerCloses=!1;this._logWrittenListener=null;this._onComposerCancel=null;this._onComposerSubmit=null;this._root=a;this._isCreateAlbumDialogOpen=!1;this._mentionsEnabled=!0;this._albumID=V("album_fbid").value;c=V("attach_photo");o=y.get(x.DISABLE_ALBUM,this._defaultHideConfig[x.DISABLE_ALBUM]);!o&&(this._albumPicker||this._multiPhotoUploader)?i.conditionClass(c,"_6-k",!0):l.hide(c);this._mainPage=V("viewport");this._composer=l.find(this._root,"div","composer-main-view");this._composerTitle=l.find(this._composer,"div","composer-title");this._submitButtonNodes=l.scry(this._composer,"button","submit_composer");this._staticTemplates=V("static_templates");this._error_btn=l.find(this._composer,"div","m-status-empty-error");this._forsaleIntercept=l.scry(this._composer,"div","m-forsale-intercept")[0];this._forsaleIntercept&&(this._forsaleInterceptForsale=l.find(this._forsaleIntercept,"button","forsale_intercept_forsale"),this._forsaleInterceptNonForsale=l.find(this._forsaleIntercept,"button","forsale_intercept_nonforsale"),this._groupID=l.find(this._forsaleIntercept,"input","sell-composer-group-id").value);this._forsaleInterceptShown=!1;this._forsaleInterceptDeclinedTimestamp=0;this._form=l.find(this._composer,"form");this._starsRatableInput=l.find(this._form,"div","composer-stars-ratable-input");this._ratingTextContainer=l.scry(this._form,"div","composer-stars-rating-text")[0];this._friendsInputController=new d(b,l.find(this._form,"div","with-tags"),l.find(this._form,"button","with-button"));this._multiPhotoUploader&&q&&(this._tagSuggestionsController=new xa(b,this._multiPhotoUploader,this._targetType,this._form.target.value,this._friendsInputController,r),this._photosPreviewConfig&&this._multiPhotoUploader.getUploader().setProps({onUploadStarted:this._initPhotoPreview.bind(this)}));this._slideshowToggle=l.scry(this._form,"div","slideshow-toggle")[0];this._slideshowToggleOptions=this._slideshowToggle?l.scry(this._slideshowToggle,"input","slideshow-option"):null;this._slideshowInput=l.scry(this._form,"input","slideshow-input")[0];this._slideshowNoticePhotoMin=l.scry(this._composer,"div","slideshow-photo-min-msg")[0];this._slideshowNoticePhotoMax=l.scry(this._composer,"div","slideshow-photo-max-msg")[0];this._contextualMessage=l.scry(this._form,"div","contextual_message")[0];n=l.scry(this._form,"div","js_placeholder");this._placeholder=n.length>0?n[0]:null;this._textarea=l.find(this._form,"textarea","composer-textarea");this._postTypeInput=l.scry(this._form,"input","unpublished_content_type_input")[0];this._defaultAction=this._form.action;f&&(this._ogInputController=new ua(l.find(this._form,"div","og-tags"),l.find(this._form,"button","og-button"),l.find(this._form,"div","og-object-attachment"),f,this._ogClearablePreview));this._buttonbar=l.find(this._root,"div","composer-buttons");this._listeners=[];this._editChangesProducers=[ja,G,ka,K,oa];this._postToStoryEnabled=!1;this._postToFeedEnabled=!0;this._textFormatPresetId=null;this._hasValidLinkPreview=!1;this._saveConfig()}c.prototype._getNavigationPolicy=function(a,b){"use strict";var c=this.newNavigationPolicy().addOnOpen(function(){return this._showComposer(a,b||{})}.bind(this)).addOnOpenChild(function(){return this._hideForInterstitial()}.bind(this)).addOnReturnFromChild(function(){i.conditionShow(this._composer,!this._stayHiddenUntilOGTaggerCloses),this._focusOnTextarea()}.bind(this)).addOnCloseByBrowser(function(){return this._cancelComposer()}.bind(this));this._onComposerCancel&&c.addOnCloseByBrowser(this._onComposerCancel);return c};c.prototype._getDefaultCancelConfirmMessage=function(){"use strict";if(this._composerType===v.EDIT)return W._("Are you sure you want to discard your changes?");else return W._("Are you sure you want to discard this post?")};c.prototype._navigateAwayFromComposerAndCancel=function(){"use strict";__p&&__p();if(!this.hasNavigationPolicy())return;this._composerType===v.RECOMMENDATION&&h.log("ReviewProductionLoggerConfig",{event:"composer_discard_dialog_shown",page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()});u.log(w.COMPOSER_CANCEL_INTENT);var b;this._composerType===v.EDIT?b=this._shouldEditStatus():this._composerType===v.GROUP_SELL?b=this._isValidForSalePost():b=this._shouldPostStatus();b=Ea.isBrowser("Mobile Safari 9")?!1:b;if(b){b=y.get(x.CANCEL_CONFIRMATION_MESSAGE)||this._getDefaultCancelConfirmMessage();if(!a.confirm(b)){this._composerType===v.RECOMMENDATION&&h.log("ReviewProductionLoggerConfig",{event:"composer_discard_dialog_cancel",page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()});return}this._composerType===v.RECOMMENDATION&&h.log("ReviewProductionLoggerConfig",{event:"composer_discard_dialog_confirm",page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()})}this._composerType===v.RECOMMENDATION&&h.log("ReviewProductionLoggerConfig",{event:"composer_cancel",page_id:this._recommendationData.page_id,surface:this._getRecommendationSurface()});b=this.currentNavigationPolicy().addOnClose(function(){return this._cancelComposer()}.bind(this));this._onComposerCancel&&b.addOnClose(this._onComposerCancel);b.close()};c.prototype._navigateAwayFromComposer=function(a){"use strict";if(!this.hasNavigationPolicy())return;var b=this.currentNavigationPolicy().addOnClose(function(){return this._resetComposer()}.bind(this));b.setIsOnSubmit();this._onComposerSubmit&&b.addOnClose(this._onComposerSubmit.bind(null,a));b.close()};c.prototype._navigateToComposer=function(a,b){"use strict";if(t.blockNavigateToComposer())return;this._getNavigationPolicy(a,b).open()};c.prototype._navigateToComposerAndCheckin=function(){"use strict";if(t.blockNavigateToComposer())return;this._getNavigationPolicy(v.CHECKIN).addOnOpen(function(){l.hide(this._composer),this._startCheckin()}.bind(this)).addOnCloseByBrowser(function(){T.invoke("back","MComposer:dialog:place")}).open()};c.prototype._focusOnTextarea=function(){"use strict";this._skipFocus()||this._textarea.focus()};c.prototype._initializeComposition=function(a){"use strict";a[L.CONFIG]=babelHelpers["extends"]({},this._defaultConfig,a[L.CONFIG]),M.initialize(a)};c.prototype._setPlaceholder=function(a){"use strict";this._placeholder?(this._textarea.placeholder="",l.setContent(this._placeholder,a)):this._textarea.placeholder=a};c.prototype._showComposer=function(a,b){"use strict";__p&&__p();b.targetid&&(this._form.target.value=b.targetid);T.invoke("MPrivacyDeferredSelector::init");T.listen("MPrivacyDeferredSelector-loaded",null,function(){this._privacyDeferredSelectorHasLoaded=!0}.bind(this));var c=b[s.COMPOSITION]||{};Object.prototype.hasOwnProperty.call(c,L.CONFIG)||(c[L.CONFIG]=Ta(b,Pa(x)));var d=this._getFormInput();this._wasLoadedWithAsyncPlaceholderComposer?this.copyPlaceholderComposerFormTextAndFocus(c):d.value&&d.value.length>0&&this._setCompositionDataStatusText(c,d.value);this._initializeComposition(c);T.invoke("MMentions:reset");this._composerType=y.get(x.COMPOSER_TYPE,a);if(b&&b.og_activity){d={};for(var e in C){c=C[e];d[c]=b.og_activity[c]}M.minutiaeSet(d)}this._logWrittenListener=l.listen(this._textarea,"keyup",null,function(){return this._logWritten()}.bind(this));c=y.get(x.PLACEHOLDER);c&&this._setPlaceholder(c);b=y.get(x.CONTEXTUAL_MESSAGE);this._syncSubmit=y.get(x.SYNC_SUBMIT);this._contextualMessage&&(this._contextualMessage.textContent=b||"",i.conditionShow(this._contextualMessage,!!b));if(this._ogTagger){q.log("og_composer_show_composer");if(!this._ogTaggerLoaded){d="/platform/og/composer/tagger";c=new P(d).setData({entry_ref:this._entryPointRef}).setType(ta.DEPENDENT);c.listen("postprocess",function(){this._composerType===v.ACTIVITY&&this._ogTagger.toggleIncludedPlaceSelector(!0),q.log("og_composer_async_loaded")}.bind(this));o.ajaxify(null,null,c,null);this._ogTaggerLoaded=!0}}this._multiPhotoUploader&&a===v.PHOTO?this._showMultiPhotoUploader():this._ogTagger&&a===v.ACTIVITY&&this._ogTagger.toggleIncludedPlaceSelector(!0);this._composerType===v.EDIT&&this._observeEditChanges();l.hide(this._mainPage);l.show(this._composer);R.scrollTo(0,0);this._forsaleInterceptShown&&(l.hide(this._forsaleIntercept),this._forsaleInterceptShown=!1);T.invoke("MStructuredComposer-opened",null,{session_id:this._getSessionID(),composer_type:a,target_type:this._targetType,entry_point_ref:this._entryPointRef,opened_time:y.get(x.OPENED_AT)});u.log(w.COMPOSER_ENTRY,{composer_type:a,ref:this._entryPointRef,target_type:this._targetType});b=y.get(x.DISABLE_VOICE_SELECTOR);d=l.scry(this._form,"div","composer-actor-selector")[0];d&&(b?l.hide(d):l.show(d));c=I.get(H.LINK_NO_CHANGE);this._sharePreview&&this._shouldShowLinkPreview()&&this._composerType===v.EDIT&&c&&this._sharePreview.init();this._backgroundUploadProgress=r.init();return!0};c.prototype._setCompositionDataStatusText=function(a,b){"use strict";Object.prototype.hasOwnProperty.call(a,L.STATUS)||(a[L.STATUS]={}),a[L.STATUS][J.TEXT]=b};c.prototype._observeEditChanges=function(){"use strict";this._hasEditChanges=!1,this._editChangesProducers.forEach(function(a){this._listeners.push(a.once("change",this._handleEditChange,this))}.bind(this))};c.prototype._navigateToComposerAndOpenFriendTagger=function(a){"use strict";if(t.blockNavigateToComposer())return;this._getNavigationPolicy(v.TAG_FRIEND,a).addOnOpen(function(){l.hide(this._composer),T.invoke("MComposer:tagger:open")}.bind(this)).open()};c.prototype._navigateToComposerAndShowActivitySelector=function(a){"use strict";if(t.blockNavigateToComposer())return;this._getNavigationPolicy(v.ACTIVITY,a).addOnOpen(function(){l.hide(this._composer),T.invoke("MComposer:open:activity")}.bind(this)).open()};c.prototype._navigateToComposerAndShowFileDialog=function(a,event){"use strict";if(t.blockNavigateToComposer())return;this._getNavigationPolicy(v.PHOTO,a).addOnOpen(function(){N.IS_ANDROID&&this._form.offsetHeight,Q.click(V("photo_input"),event)}.bind(this)).open()};c.prototype._navigateToComposerAndFocus=function(a,b){"use strict";__p&&__p();if(t.blockNavigateToComposer())return;this._getNavigationPolicy(a,b).addOnOpen(function(){var a=N.IS_APPLE_WEBKIT_IOS&&N.OS_VERSION>=7;if(!this._skipFocus()&&a&&!this._audienceAlignmentFlyout&&!this._newcomerAudienceNux&&!this._showStickyGuardrailFlyout){this._textarea.focus();a=this._getStatusText().length;this._textarea.setSelectionRange(a,a)}}.bind(this)).open()};c.prototype._showPrivacyEducationOnComposerOpen=function(){"use strict";this._showStickyGuardrailFlyout?T.invoke("show_sticky_guardrail_flyout",null,{textarea:this._textarea}):this._newcomerAudienceNux?this._showNewcomerAudienceNux():this._audienceAlignmentFlyout&&this._showAudienceAlignmentTux()};c.prototype._showNewcomerAudienceNux=function(){"use strict";this._textarea.blur(),this._newcomerAudienceNux.registerComposer(this._composer),this._newcomerAudienceNux.handleVerticalPadding(),this._newcomerAudienceNux.registerPrivacySelector(this._privacySelector),this._newcomerAudienceNux.show(),this._addNewcomerAudienceNuxListeners()};c.prototype._showAudienceAlignmentTux=function(){"use strict";__p&&__p();if(this._inAudienceAlignmentPublicExp){if(!this._composerEligibleForInterstitial(S.PostParam.EVERYONE))return}else if(this._inAudienceAlignmentOnlyMeExp&&!this._composerEligibleForInterstitial(S.PostParam.ONLY_ME))return;T.invoke("MMentions:decorations:hide",null,{});R.scrollTo(0,0);this._textarea.blur();this._audienceAlignmentFlyout.registerComposer(this._composer);this._audienceAlignmentFlyout.registerPrivacySelector(this._privacySelector);this._audienceAlignmentFlyout.show();this._addAudienceAlignmentNuxListeners()};c.prototype._addNewcomerAudienceNuxListeners=function(){"use strict";this._listeners.push(T.listen("MNewcomerAudienceNux:public",null,function(){this.capturePublicPrivacyRow()}.bind(this)))};c.prototype._addAudienceAlignmentNuxListeners=function(){"use strict";this._listeners.push(T.listen("MPrivacyAudienceAlignment:friends",null,function(){var a=this._getSavedCustomHiddenInput();if(a){a=Ha.getURIBuilder().setString("new_post_param",S.PostParam.FRIENDS.toString()).setBool("update_icon",!0).getURI();new P(a).send()}else this._friendsPrivacyRow=this._getPrivacyRow("value",S.PostParam.FRIENDS),T.invoke("MPrivacyComposerMenu:updatePrivacy",null,{row:this._friendsPrivacyRow})}.bind(this)))};c.prototype.setDefaultHideConfig=function(a){"use strict";this._defaultHideConfig=a};c.prototype._getSavedCustomHiddenInput=function(){"use strict";return X(sa.getSavedCustomInputName(),this._root)};c.prototype._closePrivacy=function(){"use strict";var a=this._getPrivacySelector();a&&a.hideMenu()};c.prototype._openPrivacy=function(){"use strict";var a=this._getPrivacySelector();a&&a.showMenu()};c.prototype._removeAlbumAndPhoto=function(){"use strict";var a=X("default-album");a&&Q.click(a);this._multiPhotoUploader||l.hide(V("photo_display"));this._getIsAlbumDisabled()||l.hide(V("album-button"))};c.prototype._updateSubmitButtonState=function(){"use strict";__p&&__p();var a=!0;if(this._composerType===v.RECOMMENDATION){if(this._shortReviewsDisableDone){var b=O.get(this._longReviewTips).threshold,c=this._textarea.value.length,d=O.get(this._longReviewTips).force_length,e=O.get(this._longReviewTips).text_required;d&&(c!==0||e)&&c<b&&(a=!1)}if(this._starsRatableInput){d=l.find(this._starsRatableInput,"input","stars-ratable-input");(!d.value||d.value==="0")&&(a=!1)}}this._submitted&&(a=!1);this._photosUploading&&(!this._backgroundUploadProgress||Y("AT6K-URikFOFazUIaoAx-XDT94Bki4xS8QGF6KJ7rAF70kazaC7RtM9M8bDhH1Gz1HtQXc9GHpv5cV7GPRh2FbeF"))&&(a=!1);!this._postToFeedEnabled&&!this._postToStoryEnabled&&(a=!1);B.get(z.FORMAT_ID)===A.SLIDESHOW&&!ma.get(la.IS_VALID)&&(a=!1);this._toggleSubmitButtonState(a)};c.prototype._writeRecommendation=function(a){"use strict";a=O.get(a);this.captureFriendsPrivacyRow.bind(this);this._changeConfig(a[s.COMPOSITION][L.CONFIG]);this._composerType=v.RECOMMENDATION;this._recommendationData=babelHelpers["extends"]({},a);t.invoke(new ia(a[s.COMPOSITION]))};c.prototype._changeSettingsAfterOpen=function(){"use strict";this._composerType===v.RECOMMENDATION&&this._setupRecommendationAfterOpen()};c.prototype._getRecommendationSurface=function(){"use strict";var a=y.get(x.LOGGING_SURFACE);return!a?"none":a};c.prototype._setupRecommendationAfterOpen=function(){"use strict";__p&&__p();var a=this._recommendationData;h.log("ReviewProductionLoggerConfig",{event:"composer_open",page_id:a.pageid,surface:this._getRecommendationSurface()});this._friendsInputController.setVisible(!1);l.show(this._starsRatableInput);this._pageInfo&&(a.pageinfo?(l.show(this._pageInfo),l.setContent(this._pageInfo,a.pageinfo)):l.hide(this._pageInfo));this._ratingTextContainer&&a.zeroratingtext&&(this._ratingTextContainer.textContent=a.zeroratingtext);this._reviewLength=-1;(this._longReviewTips&&this._longReviewTips.children.length||this._longReviewTips&&O.get(this._longReviewTips).text_required)&&(l.show(this._longReviewTips),this._updateLongReviewTipText());a.viewerrating=a.viewerrating||0;T.invoke("MPagesStarsRatableBase-setStars",null,{rating:a.viewerrating});this._starPicker&&!a.viewerrating&&(l.hide(this._starsRatableInput),this._starPicker.setTitle(a.starpickertitle));this._updateSubmitButtonState();this._hasStartedTyping=!1;this._listeners.push(T._listen("keyup","composer-textarea",function(event){this._hasStartedTyping||h.log("ReviewProductionLoggerConfig",{event:"review_composer_started_typing",page_id:a.pageid,surface:this._getRecommendationSurface()}),this._hasStartedTyping=!0}.bind(this)),T.listen("click","privacy-button",function(event){h.log("ReviewProductionLoggerConfig",{event:"review_composer_privacy_selector_click",page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()})}.bind(this)),T.listen("click","submit_composer",function(event){h.log("ReviewProductionLoggerConfig",{event:"composer_done_button_click",page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()})}.bind(this)));this.currentNavigationPolicy().addOnCloseByBrowser(function(b){h.log("ReviewProductionLoggerConfig",{event:"composer_cancel",page_id:a.page_id,surface:b})}.bind(this,this._getRecommendationSurface()))};c.prototype._updateLongReviewTipText=function(){"use strict";__p&&__p();if(this._longReviewTips&&this._longReviewTips.children.length){var a=this._textarea.value.length;if(this._reviewLength===a)return;this._reviewLength=a;var b=O.get(this._longReviewTips).threshold,c=O.get(this._longReviewTips).force_length;if(c){c=l.find(this._longReviewTips,"span","composer-review-length-count");var d=W._("{character_count}\/{minimum_length} \u00b7",[W._param("character_count",a),W._param("minimum_length",b)]);b!==1&&l.setContent(c,d+" ");this._updateSubmitButtonState()}c=l.find(this._longReviewTips,"span","composer-short-review");i.conditionShow(c,(a>0||O.get(this._longReviewTips).text_required)&&a<b);d=l.find(this._longReviewTips,"span","composer-long-review");i.conditionShow(d,a>=b)}};c.prototype._resetAlbumSelection=function(){"use strict";this._getIsAlbumDisabled()||i.conditionClass(V("album-button"),"active",!1),this._privacySelector&&l.show(this._privacySelector),V("album_fbid").value="0",V("album_privacy").value="",this._albumChosen=!1,this._albumPicker.resetAlbumSelection()};c.prototype._resetPosition=function(){"use strict";if(this._showLoadingIndicator||this._backgroundUploadRunning)return;this.getScrollToElem()&&this.getShouldScroll()&&Ra(function(){var a=X(this.getScrollToElem());a&&R.scrollToNodeWithOffset(a,-5)}.bind(this),0)};c.prototype._shouldSubmit=function(){"use strict";return!x.DISABLE_SUBMIT_REQUEST?!0:!y.get(x.DISABLE_SUBMIT_REQUEST,!1)};c.prototype._shouldSyncSubmit=function(){"use strict";if(this._forceAsync||this._backgroundUploadRunning)return!1;return this._syncSubmit?!0:this._isPageCheckin||this._hasPhotos()||this._isUnpublishedPost};c.prototype._shouldShowLinkPreview=function(){"use strict";var a=y.get(x.DISABLE_LINK);return!a&&this._composerType!==v.SHARE&&(this._composerType===v.ACTIVITY||this._composerType===v.PHOTO||this._composerType===v.CHECKIN||this._composerType===v.STATUS||this._composerType===v.EDIT)&&!this._hasPhoto};c.prototype._shouldPostStatus=function(){"use strict";__p&&__p();if(!I.isEmpty())return!0;var a=l.convertFormToDictionary(this._form),b=$(a.status)!=="",c=$(a.message)!=="",d=$(a.recommendation)!=="";b=b||c||d;c=a.rating!=="0";d=this._friendsInputController.hasTokens();a=this._ogInputController&&this._ogInputController.hasValue();a=this._hasPhotos()||a;var e=!G.isEmpty()||this._isPageCheckin||this._pinPlace;return b||a||e||d||c?!0:!1};c.prototype._scheduledInFuture=function(){"use strict";var a=this._schedulePostAMPM.value=="PM"||this._schedulePostAMPM.value==1?12:0;a=new Date(this._schedulePostYear.value,this._schedulePostMonth.value-1,this._schedulePostDay.value,parseInt(this._schedulePostHour.value,10)+a,this._schedulePostMinute.value,0,0);a=k.fromDate(a,Ba.getEnvironmentTimezoneID());var b=k.localNow(),c=b.addMinutes(10);b=b.addMonths(6);return a>=c&&a<=b};c.prototype._shouldEditStatus=function(){"use strict";return this._hasEditChanges};c.prototype._cleanupForsaleIntercept=function(){"use strict";var a=l.scry(this._form,"input","composer_attachment_sell_currency")[0];a&&this._form.removeChild(a);a=l.scry(this._form,"input","composer_attachment_sell_price")[0];a&&this._form.removeChild(a);a=l.scry(this._form,"input","composer_attachment_sell_title")[0];a&&this._form.removeChild(a)};c.prototype._validateNonEmpty=function(a){"use strict";if(this._composerType===v.GROUP_SELL)return this._isValidForSalePost();if(!this._shouldPostStatus()){a===""&&this._setStatusText("");this._showError(W._("Please add content to your status before posting"));return!1}return!0};c.prototype._isValidForSalePost=function(){"use strict";__p&&__p();if(this._composerType!==v.GROUP_SELL)return!0;var a=l.convertFormToDictionary(this._form),b=a.composer_attachment_sell_price,c=a.composer_attachment_sell_title,d=a.has_categories_enabled==="true",e=a.composer_attachment_sell_category,f=a.location_type==="inline";a=a.composer_attachment_sell_pickup_note;if($(c)===""){this._showError(W._("Please add a title to your product"));return!1}if($(c).length>Xa){this._showError(W._("Your title must be shorter than 100 characters long"));return!1}if($(b)===""){this._showError(W._("Please add a price to your product"));return!1}if(f&&a.length<5){this._showError(W._("Please enter a valid location to your product"));return!1}if(d&&$(e)===""){this._showError(W._("Please select a category for your product"));return!1}return!0};c.prototype._postForSale=function(){"use strict";__p&&__p();var a=$(this._getStatusText()),b=l.scry(this._forsaleIntercept,"input","sell-composer-currency-symbol")[0];if(!this._validateNonEmpty(a)||!b)return;a=pa.parseInterceptedPrices(a,b.value);if(a===null||a.length!==1)return;b=document.createElement("input");b.type="hidden";b.name="composer_attachment_sell_currency";b.setAttribute("data-sigil","composer_attachment_sell_currency");b.value=l.find(this._forsaleIntercept,"input","sell-composer-currency").value;this._form.appendChild(b);b=document.createElement("input");b.type="hidden";b.name="composer_attachment_sell_price";b.setAttribute("data-sigil","composer_attachment_sell_price");b.value=a[0];this._form.appendChild(b);a=document.createElement("input");a.type="hidden";a.name="composer_attachment_sell_title";a.setAttribute("data-sigil","composer_attachment_sell_title");a.value=$(this._getStatusText());this._form.appendChild(a);this._submitted=!0;this._updateSubmitButtonState();m.logComposerInterceptAccepted(this._groupID,1);this._callSubmit()};c.prototype._callSubmit=function(){"use strict";if(this._multiPhotoUploader&&this._multiPhotoUploader.hasPhotos(this._backgroundUploadProgress)){var a=this._backgroundUploadProgress&&this._multiPhotoUploader.hasPendingPhotos()?this._submitToBackground.bind(this):this._submit.bind(this);this._multiPhotoUploader.logClientPost(a)}else this._submit()};c.prototype._showForsaleIntercept=function(a){"use strict";__p&&__p();if(!this._forsaleIntercept)return!1;if(this._forsaleInterceptShown){this._forsaleInterceptDeclinedTimestamp=Date.now();this._cleanupForsaleIntercept();m.logComposerInterceptDeclined(this._groupID,1);return!1}if(this._forsaleInterceptDeclinedTimestamp>0&&Date.now()-this._forsaleInterceptDeclinedTimestamp<Wa)return!1;else this._forsaleInterceptDeclinedTimestamp=0;var b=l.scry(this._forsaleIntercept,"input","sell-composer-currency-symbol")[0];if(!b)return!1;a=pa.parseInterceptedPrices(a,b.value);if(a!==null&&a.length===1){l.show(this._forsaleIntercept);this._forsaleInterceptShown=!0;m.logComposerInterceptCreated(this._groupID,1);return!0}else{this._cleanupForsaleIntercept();return!1}};c.prototype._pickDestination=function(){"use strict";Y("AT6K-URikFOFazUIaoAx-XDT94Bki4xS8QGF6KJ7rAF70kazaC7RtM9M8bDhH1Gz1HtQXc9GHpv5cV7GPRh2FbeF")?(this._postToStoryEnabled&&this._postToStory(),this._postToFeedEnabled?this._confirmClicked():window.location.reload()):this._confirmClicked()};c.prototype._confirmClicked=function(){"use strict";__p&&__p();var b=$(this._getStatusText());if(!this._validateNonEmpty(b))return;if(this._showForsaleIntercept(b))return;if(this._postTypeInput.value==U.SCHEDULED&&!this._scheduledInFuture()){this._showError(W._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them."));return}this._tagSuggestionsController&&this._tagSuggestionsController.generateHiddenInput(this._form);this._mentionsEnabled||T.invoke("MComposerStatusTextarea:flush",null,{value:this._textarea.value,hasMentions:this._mentionsEnabled});if(!this._albumChosen){b=this._getPrivacySelector();if(b&&b.getSelectedValue()==S.PostParam.ONLY_ME){b=Ja.getURIBuilder().setString("type",ya.ONLY_ME_IMPRESSION).getURI();o.ajaxify(null,null,new P(b));var c=this._friendsInputController.hasTokens()||this._hasMentions;if(!c&&!window.confirm(W._("Only you will be able to see this post. Click 'Cancel' to change your audience."))){this._onlyMeFlyoutShown=!0;return}}else this._onlyMeFlyoutShown&&(b=Ja.getURIBuilder().setString("type",ya.ONLY_ME_CONVERSION).getURI(),o.ajaxify(null,null,new P(b)))}this._onlyMeFlyoutShown=!1;c=this._ogInputController&&this._ogInputController.getLoggingData();c&&q.log("og_composer_action_created",undefined,c);this._submitted=!0;this._updateSubmitButtonState();if(this._composerType===v.RECOMMENDATION&&(this._longReviewTips&&this._longReviewTips.children.length)){b=O.get(this._longReviewTips).threshold;c=this._textarea.value.length;var d=O.get(this._longReviewTips).force_length,e=O.get(this._longReviewTips).text_required;if(d&&(c!==0||e)&&c<b){if(this._shortReviewsDisableDone)return;d=W._("Your review must be at least {min_length} characters. Do you want to submit your star rating without your review?",[W._param("min_length",b)]);if(!a.confirm(d)){this._submitted=!1;this._updateSubmitButtonState();return}T.invoke("MComposerStatusTextarea:flush",null,{value:"",hasMentions:this._mentionsEnabled})}}u.log(w.COMPOSER_POST,{loaded_time:y.get(x.OPENED_AT),targetId:this._form.target.value||j.getID()});B.get(z.FORMAT_ID)===A.SLIDESHOW&&ha.log(Aa.SLIDESHOW_POST);this._callSubmit()};c.prototype._postToStory=function(){"use strict";__p&&__p();var a=$(this._getStatusText()),b=I.get(H.SHARE_URI)!==null;if(!this._hasPhotos()&&a===""&&!b){a="There must be photos uploaded to the composer or text in order to successfully post to stories.";throw a}b=Ga.getURI({controller:Ka,docID:"1931212663571278"});a=this._formPostToStoryDataObject();var c=this._checkPostingEligbility(a);if(c){c=new P(b).setMethod("POST").setData({variables:JSON.stringify({client_mutation_id:Sa(),actor_id:this._form.target.value,input:a})});c.send()}};c.prototype._formPostToStoryDataObject=function(){"use strict";__p&&__p();var a={actor_id:this._form.target.value,client_mutation_id:Sa(),source:"MOBILE",logging:{composer_session_id:this._getSessionID(),ref:"mcomposer"},camera_post_context:{deduplication_id:this._getSessionID(),source:"composer"},audiences:[{stories:{self:{target_id:this._form.target.value}}}]},b=$(this._getStatusText());b!==""&&ba.isTextEligible(b)&&(a.message={text:b});b=E.get(D.PHOTO_INFO_LIST,null);if(b!==null){var c=[],d=!1;b.forEach(function(a){a.type==="photo"?c.push({photo:{id:a.fbid}}):a.type==="video"&&(d=!0,c.push({video:{id:a.fbid,notify_when_processed:!0}}))});a.attachments=c;d&&(a.web_graphml_migration_params={is_also_posting_video_to_feed:this._postToFeedEnabled})}b=oa.get(na.TOKENS);if(b!==null){var e=[];b.forEach(function(a){e.push(a.id)});a.with_tags_ids=e}b=G.get(F.ID);b!==null&&(a.explicit_place_id=b);if(this._ogInputController&&this._ogInputController.hasValue()){b={};var f=ja.get(C.ACTION_TYPE_ID);f&&(b.taggable_activity_id=f);f=ja.get(C.OBJECT_ID);f&&(b.object_id=f);a.inline_activities=[b]}this._textFormatPresetId&&(a.text_format_preset_id=this._textFormatPresetId);f=this._hasCompatibleLinkPreview();if(Y("AT4Bb85NIg32Oqr6YiGu7D0DvSLVP7SnPXrylPznwaa-uBNkPn-CBmKaVamSOGD_F2Miui8bwYQGlxXrUczPKzzr4GYL2-99ZRdPetfjqFd0bw")&&f){b=this._getLinkPreviewInformation();b&&(a.attachments===undefined?a.attachments=[{link:{share_scrape_data:JSON.stringify(b)}}]:a.attachments.push({link:{share_scrape_data:JSON.stringify(b)}}))}return a};c.prototype._getLinkPreviewInformation=function(){"use strict";__p&&__p();var a={},b=l.scry(this._form,"input","attachment[type]");a.share_type=b.length>0?b[0].value:null;b={};b.urlInfo={};var c=l.scry(this._form,"input","attachment[params][urlInfo][canonical]");b.urlInfo.canonical=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][urlInfo][final]");b.urlInfo["final"]=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][urlInfo][user]");b.urlInfo.user=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][locale]");b.locale=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][favicon]");b.favicon=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][lang]");b.lang=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][external_author_id]");b.external_author_id=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][title]");b.title=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][summary]");b.summary=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][medium]");b.medium=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][url]");b.url=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][global_share_id]");b.global_share_id=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][url_scrape_id]");b.url_scrape_id=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][hmac]");b.hmac=c.length>0?c[0].value:null;c=l.scry(this._form,"input","attachment[params][external_img]");b.external_img=c.length>0?c[0].value:null;a.share_params=b;a.shared_from_post_id=null;return a};c.prototype._checkPostingEligbility=function(a){"use strict";var b=a.with_tags_ids!==undefined&&a.with_tags_ids.length>0||a.explicit_place_id!==undefined||a.inline_activities!==undefined&&(a.inline_activities[0].taggable_activity_id!==undefined||a.inline_activities[0].object_id!==undefined),c=E.get(D.PHOTO_INFO_LIST,null);c=c!==null&&c.length>0&&(!b||b&&a.attachments[0].video===undefined);var d=I.get(H.SHARE_URI)!==null;b=!d||d&&this._hasValidLinkPreview&&!b;return a.message!==undefined&&!d||a.message===undefined&&c&&!d||a.message!==undefined&&!c&&b||a.message===undefined&&!c&&b?!0:!1};c.prototype._hasCompatibleLinkPreview=function(){"use strict";var a=I.get(H.SHARE_URI)!==null;return!a||a&&this._hasValidLinkPreview};c.prototype._toggleShareSelections=function(a){"use strict";this._postToFeedEnabled=a.getData().postToFeed,this._postToStoryEnabled=a.getData().postToStory,this._updateSubmitButtonState()};c.prototype._setTextFormatPresetId=function(a){"use strict";a&&a.presetID?this._textFormatPresetId=a.presetID:this._textFormatPresetId=null};c.prototype._showError=function(a){"use strict";l.show(this._error_btn),l.setContent(this._error_btn,a)};c.prototype._getAsyncContainer=function(){"use strict";return document.getElementById("structured_composer_async_container")||(this._clickedButton?this._clickedButton.parentNode:null)};c.prototype._getSessionID=function(){"use strict";return y.get(x.SESSION_ID,null)};c.prototype._getStatusText=function(){"use strict";return K.get(J.TEXT,"")};c.prototype._setStatusText=function(a){"use strict";var b={};b[J.TEXT]=a;M.statusUpdate(b)};c.prototype._submitToBackground=function(){"use strict";this._bgUploadWaitForMediaListener=T.listen("MMultiPhotoUploader:attachments:change",null,function(event){var a=event.getData();a.sending===0&&(T.removeCurrentListener(),setTimeout(function(){return this._submit()}.bind(this),0))}.bind(this)),this.cleanupSoftState(),this._closeComposer(),this._showLoadingIndicator=!1,this._setBackgroundUploadRunning(!0)};c.prototype._submit=function(){"use strict";__p&&__p();if(!this._shouldSubmit()){this._submitNoRequest();return}T.invoke("MComposer:submit");if(this._shouldSyncSubmit()){this._submitSyncRequest();this._cleanupForsaleIntercept();return}this._submitAsyncRequest();this._cleanupForsaleIntercept()};c.prototype._getWithTagCount=function(){"use strict";var a=oa.get(na.TOKENS);return a?a.length:0};c.prototype._getXYTagCount=function(){"use strict";return!this._tagSuggestionsController?0:this._tagSuggestionsController.getNumXYTags()};c.prototype._getTagsUser=function(){"use strict";return this._numMentions};c.prototype._scrollToTopOfFeedAfterNextTransition=function(){"use strict";if(!da.USE_PUSH_STATE)return;T.listen("m:history:change",null,function(){setTimeout(function(){var a=X("tlFeed");a&&R.scrollToNodeWithOffset(a,-50)},10),T.removeCurrentListener()})};c.prototype._submitAsyncRequest=function(){"use strict";__p&&__p();var a=l.convertFormToDictionary(this._form),b={};b.hasPhoto=this._hasPhotos();b.hasVideo=this._hasVideos();b.xy_tag_count=this._getXYTagCount();b.with_tag_count=this._getWithTagCount();b.tags_user=this._getTagsUser();b=[new ca(this._getSessionID(),b)];this._backgroundUploadRunning||b.push({postprocess:function(){this.cleanupSoftState()}.bind(this)});this._showLoadingIndicator&&(b.push({response:function(){this._submittingScreen?l.hide(this._submittingScreen):n.hide(),this._navigateAwayFromComposer(a),this._showLoadingIndicator||this._resetPosition()}.bind(this)}),this._submittingScreen?l.show(this._submittingScreen):n.show(!0));this._backgroundUploadRunning||b.push({response:function(){return this._scrollToTopOfFeedAfterNextTransition()}.bind(this)});var c=l.scry(this._form,"input","background_upload")[0];c&&(c.value=this._backgroundUploadRunning?"1":"");this._backgroundUploadRunning&&b.push({error:function(){this._setBackgroundUploadRunning(!1,{msg:"error"})}.bind(this),"finally":function(){this._setBackgroundUploadRunning(!1),this._navigateAwayFromComposer(a)}.bind(this)});c=this._hasPhotos()?"media":"text";o.form(null,this._form,"async_composer",p.CACHE,this._getAsyncContainer(),!1,b,"composer_async_post_"+c);this._staticTemplates.style.height="";if(this._submittingScreen||this._backgroundUploadRunning)return;this._navigateAwayFromComposer(a);this._showLoadingIndicator||this._resetPosition()};c.prototype._submitNoRequest=function(){"use strict";this._staticTemplates.style.height="",this._navigateAwayFromComposer(l.convertFormToDictionary(this._form))};c.prototype._submitSyncRequest=function(){"use strict";this._form.submit(),this._resetPosition()};c.prototype._setBackgroundUploadRunning=function(a,b){b===void 0&&(b={}),this._backgroundUploadRunning=a,this.hasNavigationPolicy()&&this.currentNavigationPolicy().setBackgroundUploadRunning(a),this._backgroundUploadProgress.setBackgroundUploadRunning(a,b)};c.prototype._getIsAlbumDisabled=function(){"use strict";return!this._albumPicker||y.get(x.DISABLE_ALBUM,this._defaultHideConfig[x.DISABLE_ALBUM])};c.prototype._getIsSlideshowDisabled=function(){"use strict";return!this._slideshowToggle||y.get(x.DISABLE_SLIDESHOW,this._defaultHideConfig[x.DISABLE_SLIDESHOW])};c.prototype._updateButtonVisibility=function(a,b,c){"use strict";a=l.scry(this._form,"button",a)[0];if(a){b=!!y.get(b,this._defaultHideConfig[b]);i.conditionShow(a,c?!b:b)}};c.prototype._handlePhotoUpdate=function(){"use strict";var a=E.get(D.PHOTO_INFO_LIST,null);this._multiPhotoUploader&&a&&a.length>0&&(this._multiPhotoUploader.getUploader().component.setAttachmentsSilent(a),this._showMultiPhotoUploader())};c.prototype._updateSlideshowUIState=function(){"use strict";var a=B.get(z.FORMAT_ID,null),b=ma.get(la.IS_VALID,!1),c=E.get(D.PHOTO_INFO_LIST,[]).length;this._slideshowInput&&(this._slideshowInput.value=!this._getIsSlideshowDisabled()&&b&&a===A.SLIDESHOW?"1":"0");this._slideshowNoticePhotoMax&&i.conditionShow(this._slideshowNoticePhotoMax,a===A.SLIDESHOW&&c>za.max_photo_num);this._slideshowNoticePhotoMin&&i.conditionShow(this._slideshowNoticePhotoMin,a===A.SLIDESHOW&&c<za.min_photo_num);this._getIsSlideshowDisabled()?this._slideshowToggle&&i.hide(this._slideshowToggle):c>=za.min_photo_num&&(this._slideshowToggle&&i.show(this._slideshowToggle),this._slideshowNUX&&this._slideshowNUX.showIfNotShown())};c.prototype._handleFormatUpdate=function(){"use strict";__p&&__p();var a=B.get(z.FORMAT_ID,null),b=B.get(z.PREVIOUS_FORMAT_ID,null);this._updateSlideshowUIState();this._updateSubmitButtonState();this._slideshowPreviewButton&&i.conditionShow(this._slideshowPreviewButton,a===A.SLIDESHOW);this._submitButtonNodes!==null&&this._submitButtonNodes.forEach(function(b){i.conditionShow(b,a!==A.SLIDESHOW)});this._slideshowToggleOptions!==null&&(this._slideshowToggleOptions.find(function(b){return b.value===(a||A.PHOTO)}).checked=!0);if(!a||a===b)return;E.get(D.PHOTO_INFO_LIST,[]).length;a===A.SLIDESHOW?ha.log(Aa.SLIDESHOW_INTENT):b===A.SLIDESHOW&&ha.log(Aa.SLIDESHOW_CANCEL)};c.prototype._handleSlideshowUpdate=function(){"use strict";this._updateSlideshowUIState()};c.prototype._handleSlideshowToggleUpdate=function(a){var b;if(this._getIsSlideshowDisabled())return;a=this._slideshowToggleOptions.find(function(a){return a.checked}).value;M.formatUpdate((b={},b[z.FORMAT_ID]=a,b))};c.prototype._handleConfigUpdate=function(){"use strict";__p&&__p();this._form.action=y.get(x.ACTION);this._composerTitle.textContent=y.get(x.COMPOSER_TITLE);this._photoAction&&(this._photoAction=g.create(this._photoAction,y.get(x.ACTOR_ID)).toString());this._updateButtonVisibility("photo-button",x.DISABLE_PHOTOS,!0);this._updateButtonVisibility("with-button",x.DISABLE_PEOPLE_TAGS,!0);this._updateButtonVisibility("og-button",x.DISABLE_OG_TAG,!0);this._updateButtonVisibility("privacy-button",x.DISABLE_PRIVACY,!0);this._updateButtonVisibility("post-type-button",x.SHOW_POST_TYPE_SELECTOR,!1);y.get(x.SHOW_POST_TYPE_SELECTOR)||(T.invoke("MStructuredComposerPostTypeInput::setPublishNow"),this._updatePostType(U.PUBLISHED,!1));this._updateHiddenForm("target",x.TARGET_ID);y.get(x.DISABLE_MENTIONS,!1)?(T.invoke("MMentions:disable"),this._mentionsEnabled=!1):(T.invoke("MMentions:enable"),this._mentionsEnabled=!0);var a=this._ogInputController&&this._ogInputController.hasValue();a&&this._ogInputController.setDisableOgTagPreview(y.get(x.DISABLE_OG_TAG_PREVIEW,!1));a=y.get(x.PLACEHOLDER);a&&this._setPlaceholder(a);a=document.getElementById("composer_album_info");if(a){var b=y.get(x.DISABLE_ALBUM_INFO,this._defaultHideConfig[x.DISABLE_ALBUM_INFO]);b?(i.hide(a),V("album_fbid").value="0"):(i.show(a),V("album_fbid").value=this._albumID)}this._updateSlideshowUIState()};c.prototype._updateHiddenForm=function(a,b){"use strict";a=l.scry(this._form,"input",a)[0];a&&(a.value=y.get(b))};c.prototype._handleStatusUpdate=function(){"use strict";this._updateLongReviewTipText(),this._updateShareScraper()};c.prototype._logWritten=function(){"use strict";if(this._getStatusText().trim()<Va)return;u.log(w.COMPOSER_WRITTEN,{publish_target:this._form.target.value||j.getID(),loaded_time:y.get(x.OPENED_AT),written_time:Date.now()});this._cleanupLogWritten()};c.prototype._cleanupLogWritten=function(){"use strict";if(!this._logWrittenListener)return;this._logWrittenListener.remove();this._logWrittenListener=null};c.prototype._getFormInput=function(){"use strict";return l.scry(this._form,"input","mentionsHiddenInput")[0]||this._textarea};c.prototype._saveConfig=function(){"use strict";var a=this._getFormInput();this._defaultConfig={action:this._form.action,targetid:this._form.target.value,inputname:a.name,placeholder:this._placeholder?this._placeholder.textContent:this._textarea.placeholder,composertitle:this._composerTitle.textContent,pinplace:this._pinPlace,forceasync:this._forceAsync};this._defaultConfig[x.BUTTON_TEXT_SUBMIT]=this._submitButtonNodes[0].textContent};c.prototype._changeConfig=function(a){"use strict";__p&&__p();var b=this._getFormInput();this._form.action=a.action;this._form.target&&(this._form.target.value=a.targetid);this._setPlaceholder(a.placeholder);this._composerTitle.textContent=a.composertitle;this._pinPlace=a.pinplace;this._forceAsync=a.forceasync;b.name=a.inputname;this._showPostTypeSelectionFlow=a.showposttypeselector};c.prototype._extendComposerHeight=function(){"use strict";this._composer.style.display!=="none"&&(this._staticTemplates.style.height=a.innerHeight+"px")};c.prototype.setPrivacySelector=function(a){"use strict";this._privacySelector=a};c.prototype._getPrivacySelector=function(){"use strict";return this._privacySelector&&sa.getInstance(this._privacySelector)};c.prototype._updateShareScraper=function(){"use strict";__p&&__p();if(!this._shouldShowLinkPreview())return;if(I.get(H.LINK_NO_CHANGE))return;var a=Da.permissiveMatch(this._getStatusText()),b=I.get(H.DISABLED_LINKS),c=I.get(H.SHARE_URI);if(a!==c&&(!b||!b[a])){if(this._multiPhotoUploader){b=this._multiPhotoUploader.getUploader().component.getAttachmentCount();if(b===0)this._multiPhotoUploader.resetState();else return}if(a&&c&&c.indexOf(a)!=-1||!a)return;setTimeout(function(){M.shareLinkUpdate(a),M.configDisablePhotosUpdate(!!a)},0)}};c.prototype._updatePostType=function(a,b){"use strict";this._postTypeInput.value=a;var c=null;a===U.DRAFT?(this._isUnpublishedPost=!0,c=W._("Save")):a===U.PUBLISHED?(this._isUnpublishedPost=!1,c=b?W._("Backdate"):W._("Post")):a===U.SCHEDULED&&(this._isUnpublishedPost=!0,c=W._("Schedule"));if(c){b=l.scry(this._composer,"button","submit_composer");b.forEach(function(a){l.setContent(a,c),this._slideshowPreviewController&&this._slideshowPreviewController.setSubmitButtonText(c)}.bind(this))}};c.prototype._updateSchedulePostTime=function(a){"use strict";this._schedulePostYear=l.find(this._form,"input","scheduled_post_year"),this._schedulePostMonth=l.find(this._form,"input","scheduled_post_month"),this._schedulePostDay=l.find(this._form,"input","scheduled_post_day"),this._schedulePostHour=l.find(this._form,"input","scheduled_post_hour"),this._schedulePostMinute=l.find(this._form,"input","scheduled_post_minute"),this._schedulePostAMPM=l.find(this._form,"input","scheduled_post_ampm"),this._schedulePostYear.value=a.year,this._schedulePostMonth.value=a.month,this._schedulePostDay.value=a.day,this._schedulePostHour.value=a.hour,this._schedulePostMinute.value=a.minute,this._schedulePostAMPM.value=a.ampm};c.prototype._updateBackdatedPostTime=function(a){"use strict";this._backdatedPostYear=l.find(this._form,"input","backdated_post_year"),this._backdatedPostMonth=l.find(this._form,"input","backdated_post_month"),this._backdatedPostDay=l.find(this._form,"input","backdated_post_day"),this._backdatedPostYear.value=a.year,this._backdatedPostMonth.value=a.month,this._backdatedPostDay.value=a.day};c.prototype.setPhotoAction=function(a){"use strict";a&&(this._attachPhoto=V("attach_photo"),this._photoButton=l.find(this._form,"button","photo-button"));this._photoAction=a;return this};c.prototype.setKeyboardStateDown=function(){"use strict"};c.prototype.setLongReviewTips=function(a){"use strict";this._longReviewTips=a};c.prototype.setShortReviewsDisableDone=function(a){"use strict";this._shortReviewsDisableDone=a};c.prototype.setSlideshowPreview=function(a){"use strict";this._slideshowPreview=a,this._slideshowPreviewButton=l.find(this._composer,"button","show_slideshow_preview"),this._slideshowPreviewController=new wa(this._slideshowPreview,this._slideshowPreviewButton)};c.prototype.setSlideshowNUX=function(a){"use strict";this._slideshowNUX=a};c.prototype._determineFormAction=function(){"use strict";this._hasPhotos()&&this._photoAction!==""?this._form.action=this._photoAction:this._form.action=y.get(x.ACTION)||this._defaultAction};c.prototype._determineMultiPhotoComposerState=function(){"use strict";if(!this._multiPhotoUploader)return;this._photoButton&&i.conditionClass(this._photoButton,"active",this._hasPhotos());if(!this._getIsAlbumDisabled()){var a=B.get(z.FORMAT_ID,null);i.conditionShow(V("album-button"),this._hasPhotos()&&a!==A.SLIDESHOW);!this._hasPhotos()&&this._albumChosen&&this._resetAlbumSelection()}};c.prototype._showMultiPhotoUploader=function(){"use strict";if(!this._multiPhotoUploader)return;this._determineMultiPhotoComposerState();this._multiPhotoUploader.alterPreviewGrid(!0);this._getIsSlideshowDisabled()||this._multiPhotoUploader.getUploader().setProps({showDropShadow:!1})};c.prototype._hasVideos=function(){"use strict";return!1};c.prototype._hasPhotos=function(){"use strict";if(this._multiPhotoUploader)return this._multiPhotoUploader.hasPhotos(!!this._backgroundUploadProgress);else if(!this._getIsAlbumDisabled())return this._hasPhoto;else return this._photoOpen&&this._hasPhoto};c.prototype._pagePostClicked=function(a){"use strict";if(!a)return;a=O.get(a);this._changeConfig(a);this._privacySelector&&l.hide(this._privacySelector)};c.prototype.start=function(){"use strict";__p&&__p();this._form.addEventListener("reset",function(){if(this._submittingScreen)return;this._resetComposer()}.bind(this));this._listeners.push(T.listen("MComposer:entry:js",null,function(event){var a=event.getData();this._onComposerCancel=a[s.ON_CANCEL];this._onComposerSubmit=a[s.ON_SUBMIT];a[s.ON_OPEN]===v.PHOTO?this._navigateToComposerAndShowFileDialog(a):a[s.ON_OPEN]===v.CHECKIN?this._navigateToComposerAndCheckin(a,event):a[s.ON_OPEN]===v.ACTIVITY?this._navigateToComposerAndShowActivitySelector(a,event):a[s.ON_OPEN]===v.TAG_FRIEND?this._navigateToComposerAndOpenFriendTagger(a,event):this._navigateToComposerAndFocus(v.STATUS,a);this._changeSettingsAfterOpen();this._showPrivacyEducationOnComposerOpen()}.bind(this)));this._starsRatableInput&&(this._listeners.push(T.listen("MPagesStarsRatableBase-starsSet",null,this._updateSubmitButtonState.bind(this))),this._listeners.push(T.listen("MPagesStarsRatableBase-starTapped",null,function(a){h.log("ReviewProductionLoggerConfig",{event:"composer_star_click",page_id:this._recommendationData.pageid,star_clicked:a.getData().rating,surface:this._getRecommendationSurface()})}.bind(this))));this._listen("click",ga.ENTRY_TRIGGER_LEGACY,function(event){if(Z&&Z.listenersRegistered())return;var a=event.getNode(ga.ENTRY_TRIGGER_LEGACY),b=O.get(a);b&&b.og_activity&&!b.og_activity.fbt_phrase&&(b.og_activity.fbt_phrase=this._ogTagger._getTagPhrase(b.og_activity.action_type,b.og_activity.icon,b.og_activity.object_str,b.og_activity.object_id,b.og_activity.location_str));this._navigateToComposerAndFocus(v.STATUS,b);this._showPrivacyEducationOnComposerOpen();this._clickedButton=a}.bind(this));if(Ea.isBrowser("Mobile Safari < 8")){var a=!0;this._listen("click","cancel_composer",function(event){a?(a=!1,setTimeout(function(){Q.click(event.getTarget(),event)},0)):(a=!0,this._navigateAwayFromComposerAndCancel())}.bind(this))}else this._listen("click","cancel_composer",this._navigateAwayFromComposerAndCancel.bind(this));this._listen("click","submit_composer",this._pickDestination.bind(this));this._listen("click","forsale_intercept_nonforsale",this._confirmClicked.bind(this));this._listen("click","forsale_intercept_forsale",this._postForSale.bind(this));this._listen("m:viewport:scroll-to-header",null,this._extendComposerHeight.bind(this));this._listen("click","checkin_link",function(event){if(Z&&Z.listenersRegistered())return;this._clickedButton=event.getNode("checkin_link");this._navigateToComposerAndCheckin();event.prevent()}.bind(this));this._listeners.push(T.listen("MComposer:close:activity",null,function(){this._stayHiddenUntilOGTaggerCloses=!1,l.show(this._composer)}.bind(this)),T.listen("cancel","MComposer:dialog:place",function(){return this._navigateAwayFromComposerAndCancel()}.bind(this)),T.listen("close","MComposer:dialog:place",function(){l.show(this._composer)}.bind(this)));this._listeners.push(T.listen("MComposer:post:backdate",null,function(event){this._isBackdated=l.find(this._form,"input","is_backdated"),this._isBackdated.value=event.getData().value}.bind(this)));this._listeners.push(T.listen("MComposer:post:draft",null,function(event){var a=event.getData();this._updatePostType(a.type,a.isBackdated)}.bind(this)));this._listeners.push(T.listen("MComposer:post:scheduled:time",null,function(event){var a=event.getData();this._updateSchedulePostTime(a)}.bind(this)));this._listeners.push(T.listen("MComposer:post:backdated:time",null,function(event){var a=event.getData();this._updateBackdatedPostTime(a)}.bind(this)));this._ogTagger&&(this._listen("click","activity_link",this._navigateToComposerAndShowActivitySelector.bind(this)),this._listen("click","og_included_place_checkin",function(event){this._ogTagger.hide(),this._startCheckin()}.bind(this)),this._listeners.push(this._ogTagger.listen("cancelFromActivity",this._navigateAwayFromComposerAndCancel.bind(this))));this._listeners.push(y.addListener("change",function(){return this._handleConfigUpdate()}.bind(this)));this._listeners.push(E.addListener("change",function(){return this._handlePhotoUpdate()}.bind(this)));this._listeners.push(K.addChangeListener(function(){return this._handleStatusUpdate()}.bind(this)));this._listeners.push(B.addChangeListener(function(){return this._handleFormatUpdate()}.bind(this)));this._listeners.push(ma.addChangeListener(function(){return this._handleSlideshowUpdate()}.bind(this)));this._slideshowPreviewController&&(this._listen("change","slideshow-option",this._handleSlideshowToggleUpdate.bind(this)),this._listen("MStructuredComposerSlideshowPreview-submit",null,this._confirmClicked.bind(this)));this._listen("click","write_post_posts_by_others",function(event){this._pagePostClicked(event.getNode("write_post_posts_by_others")),event.prevent()}.bind(this));this._listen("composerPhotoLinkPostsByOthers",null,function(event){this._pagePostClicked(event.getData()),event.prevent()}.bind(this));this._listen("click","write_post_admin",function(event){this._pagePostClicked(event.getNode("write_post_admin")),event.prevent()}.bind(this));this._listen("click","page_checkin",function(event){var a=O.get(event.getNode("page_checkin"));this._isPageCheckin=!0;a[s.COMPOSITION]||(a[s.COMPOSITION]=new ia().setStoreData(L.CONFIG,Ta(a,Pa(x))).setStoreData(L.PLACE,{id:a.pageid,name:a.pagename,new_place:!1}).serialize());this._photoAction&&(this._photoAction=new Ca(this._photoAction).addQueryData("target",a.targetid).toString());this._navigateToComposer(v.CHECKIN,a);this._ogTagger&&this._ogTagger.setPlaceID(a.pageid);event.prevent()}.bind(this));this._listeners.push(T.listen("MComposer-write-recommendation",null,function(event){this._writeRecommendation(event.getData().element)}.bind(this)));this._listen("click","write-recommendation",function(event){this._writeRecommendation(event.getNode("write-recommendation")),event.prevent()}.bind(this));this._listen("MStructuredComposerFriendsInput-done",null,function(){return this._updateTagExpansion()}.bind(this));this._listen("MStructuredComposerFriendsInput-addedAutoTags",null,function(){return this._updateTagExpansion()}.bind(this));this._listen("MStructuredComposerFriendsInput-addedManualXYTags",null,function(){return this._updateTagExpansion()}.bind(this));this._listen("MStructuredComposerFriendsInput-removedManualTags",null,function(){return this._updateTagExpansion()}.bind(this));this._listen("MStructuredComposerOGInput:update",null,function(){return this._updateTagExpansion()}.bind(this));this._listen("MMentions:change",null,function(event){var a=event.getData();if(a.input!==this._textarea)return;this._hasMentions=a.hasTags;this._numMentions=a.numTags?a.numTags:0;this._updateTagExpansion()}.bind(this));this._listeners.push(G.addChangeListener(function(){if(G.isEmpty())return;if(this._ogTagger){var a=G.get(F.SUGGESTED_OG_ACTION_TYPE_ID,null),b=G.get(F.ID),c=G.get(F.SUGGESTION_MECHANISM);this._ogTagger.setPlaceID(b);a&&!this._ogInputController.hasValue()&&(this._ogTagger.setCancelButtonText(W._("Skip")),this._ogTagger.selectActionTypeImplicitly(a)&&(l.hide(this._composer),this._stayHiddenUntilOGTaggerCloses=!0,this._ogTagger.setSuggestionMechanism(c),q.log("og_composer_implicit_verb_selected",undefined,{place_id:b,suggestion_mechanism:c}),T.invoke("MComposer:open:activity")))}}.bind(this)));this._listen("MAlbumPicker:createalbum:open",null,function(event){this._isCreateAlbumDialogOpen=!0}.bind(this));this._listen("MAlbumPicker:createalbum:close",null,function(event){this._isCreateAlbumDialogOpen=!1}.bind(this));this._listen("keydown","tokenizer-input",function(event){if(event.getNode("structured-composer")&&this.getShouldScroll()){var a=event.getNode("tokenizer-input");a=Fa.getPos(a).y;R.scrollTo(0,a)}}.bind(this));this._listen("blur","tokenizer-input",function(event){event.getNode("structured-composer")&&this.getShouldScroll()&&R.scrollToHeader()}.bind(this));this._listen("keyup","composer-textarea",this._updateLongReviewTipText.bind(this));this._listeners.push(K.addChangeListener(function(){return this._handleStatusUpdate()}.bind(this)));this._listen("click","photo_link",function(event){if(Z&&Z.listenersRegistered())return;var a=event.getNode("photo_link"),b=O.get(a);this.getShouldScroll()&&R.scrollToHeader();this._multiPhotoUploader?(this._getIsAlbumDisabled()||l.show(V("album-button")),this._navigateToComposerAndShowFileDialog(b,event)):(!this._getIsAlbumDisabled()?(this._navigateToComposerAndShowFileDialog(b,event),event.prevent()):(this._navigateToComposer(v.PHOTO,b),this._photoOpen=!0,l.show(this._attachPhoto),i.conditionClass(this._photoButton,"active",!0)),this._clickedButton=a,event.kill(),T.invoke("composerPhotoLink"),T.invoke("composerPhotoLinkPostsByOthers",null,event.getNode("write_post_posts_by_others")))}.bind(this));this._listen("click","add-photo-thumbnail",function(event){u.log(w.MEDIA_INTENT),Q.click(V("photo_input"),event),event.prevent()});this._listen("click","photo-button",function(event){u.log(w.MEDIA_INTENT),this._multiPhotoUploader?(this._closePrivacy(),Q.click(V("photo_input"),event),this._determineFormAction(),this._showMultiPhotoUploader()):!this._getIsAlbumDisabled()?(Q.click(V("photo_input"),event),event.prevent()):(this._closePrivacy(),this._photoOpen?l.hide(this._attachPhoto):l.show(this._attachPhoto),this._photoOpen=!this._photoOpen,i.conditionClass(this._photoButton,"active",this._photoOpen))}.bind(this));this._listen("click","video-button",function(event){u.log(w.MEDIA_INTENT),this._multiPhotoUploader&&(this._closePrivacy(),Q.click(V("video_input"),event),this._determineFormAction(),this._showMultiPhotoUploader())}.bind(this));this._getIsAlbumDisabled()||(this._listeners.push(this._albumPicker.listen("cancel",function(event){u.log(w.ALBUM_CANCEL),this._restoreComposer()}.bind(this))),this._listeners.push(this._albumPicker.listen("choose-album",function(event){event.is_mobile_uploads_album?this._resetAlbumSelection():(T.invoke("MStructuredComposer-selectAlbum"),u.log(w.ALBUM_ADD),V("album_fbid").value=event.album_id,V("album_privacy").value=event.privacy_id,this._albumChosen=!0,this._closePrivacy(),this._privacySelector&&l.hide(this._privacySelector)),l.show(this._composer)}.bind(this))),this._listen("click","album-button",function(event){u.log(w.ALBUM_INTENT),this._albumPicker.show(),l.hide(this._composer)}.bind(this)));this._listen("MMultiPhotoUploader:attachments:add",null,function(a){y.isEmpty()||u.log(w.PHOTO_ADD,a.getData())});this._listen("MMultiPhotoUploader:attachments:remove",null,function(a){y.isEmpty()||u.log(w.PHOTO_REMOVE,a.getData())});this._listen("change","photo-input",function(event){var a,b=V("photo_input");b.value!==""&&this._photoAction!==""?(this._multiPhotoUploader||(a={photo_count:1},T.invoke("MStructuredComposer-addedPhoto",null,a)),b.name="file1",this._hasPhoto=!0,this._determineFormAction(),this._photoButton&&i.conditionClass(this._photoButton,"active",!0),this._getIsAlbumDisabled()||(this._multiPhotoUploader||l.show(V("photo_display")),l.show(V("album-button")))):(this._hasPhoto=!1,this._determineFormAction(),i.conditionClass(this._photoButton,"active",!1),this._multiPhotoUploader||(a={photo_count:0},T.invoke("MStructuredComposer-addedPhoto",null,a)),!this._getIsAlbumDisabled()&&!this._multiPhotoUploader&&this._removeAlbumAndPhoto())}.bind(this));this._listen("multi-photos-attachment-change",null,function(event){__p&&__p();var a=event.getData();if(this._multiPhotoUploader.getUploader().component!==a.multiPhotoUploader)return;a=a.attachments;var b=E.get(D.PHOTO_INFO_LIST,[]);if(!La(a,b)){b={};b[D.PHOTO_INFO_LIST]=a;M.photoUpdate(b)}}.bind(this));this._listen("multi-photos-change",null,function(event){if(event.getData().input_id!="photo_input")return;var a=this._multiPhotoUploader.getPhotosCount(),b={photo_count:a,is_multi_photo_upload:!0};T.invoke("MStructuredComposer-addedPhoto",null,b);this._photosPreviewNux&&(a>0?(this._multiPhotoUploader.getUploader().setProps({showDropShadow:!1}),l.show(this._photosPreviewNux)):(this._multiPhotoUploader.getUploader().setProps({showDropShadow:!0}),l.hide(this._photosPreviewNux)));this._determineFormAction();this._determineMultiPhotoComposerState()}.bind(this));this._listen("click","composer-buttons",function(event){this._textarea.blur()}.bind(this));this._listen("focus","composer-textarea",function(event){this.getShouldScroll()&&(this._getStatusText()===""&&qa.scrollTo(this._textarea,R.getHeaderTop()))}.bind(this));this._listen("click","composer-textarea",function(event){this._closePrivacy(),this.getShouldScroll()&&(this._getStatusText()===""&&qa.scrollTo(this._textarea,R.getHeaderTop()))}.bind(this));this._listen(["m:page:loading"],null,this.cleanup.bind(this));this._listen("audience-x-opened",null,function(event){l.hide(this._composer)}.bind(this));this._listen("MMultiPhotoUploader:attachments:change",null,function(event){var a=event.getData();this._photosUploading=a.sending+a.polling!==0;this._updateSubmitButtonState()}.bind(this));this._listen("MWebActivityUploader:received:share",null,this._navigateToComposer.bind(this,v.PHOTO));(this._photoPreview||this._photosPreviewConfig)&&this._listen("click","structured-composer-photo-preview-done",this._hidePhotoPreviews.bind(this));T.invoke("MStructuredComposer:start");Y("AT6K-URikFOFazUIaoAx-XDT94Bki4xS8QGF6KJ7rAF70kazaC7RtM9M8bDhH1Gz1HtQXc9GHpv5cV7GPRh2FbeF")&&(T.listen("composer:destination-picker:toggle",null,function(a){return this._toggleShareSelections(a)}.bind(this)),T.listen("click","display_destination_picker",this._composerHasContent),T.listen("MStructuredComposerSATP:changed",null,function(a){return this._setTextFormatPresetId(a.getData())}.bind(this)),T.listen("composer:destination-picker:link-preview-changed",null,function(a){return this._hasValidLinkPreview=!a.getData().isPreviewValid}.bind(this)));fa.register(this);return this};c.prototype._cancelComposer=function(){"use strict";this._staticTemplates.style.height="",T.invoke("MStructuredComposer-canceled",null),u.log(w.COMPOSER_CANCEL,{maximum_character_count:K.get(J.LONGEST_LENGTH),loaded_time:y.get(x.OPENED_AT),publish_target:this._form.target.value||j.getID()||-1,remaining_character_count:this._getStatusText().length}),this._hasPhotos(),this._resetComposer()};c.prototype.cleanup=function(){"use strict";T.invoke("MStructuredComposer:cleanup");T.invoke("MCustomPrivacy::removeListener");this._closeComposer();this._form.removeEventListener("reset",this._resetComposer,!1);for(var a=0;a<this._listeners.length;a++)this._listeners[a].remove();this._listeners=[];fa.unregister(this)};c.prototype._listen=function(event,a,b){"use strict";this._listeners.push(T.listen(event,a,b))};c.prototype._isAudience=function(a){"use strict";__p&&__p();var b=l.scry(this._buttonbar,"table","privacy-table")[0];if(!b){var c=this._getSavedCustomHiddenInput();return c?c.value==a:!1}c=l.scry(b,"tr","privacy-option checked")[0];if(!c)return!1;b=O.get(c);return b.value==a};c.prototype.setInAudienceAlignmentExp=function(a){"use strict";this._inAudienceAlignmentPublicExp=a};c.prototype.setInAudienceAlignmentOnlyMeExp=function(a){"use strict";this._inAudienceAlignmentOnlyMeExp=a};c.prototype.setAudienceAlignmentFlyout=function(a){"use strict";this._audienceAlignmentFlyout=a};c.prototype._composerEligibleForInterstitial=function(a){"use strict";__p&&__p();var b=this._form.target.value;if(b&&b!=j.getID())return!1;if(this._composerType!==v.STATUS)return!1;if(!this._isAudience(a))return!1;if(R.getScreenHeight()<340&&N.IS_ANDROID){this._audienceAlignmentFlyout.deviceTooShort();return!1}return!0};c.prototype.setNewcomerAudienceNux=function(a){"use strict";this._newcomerAudienceNux=a};c.prototype.setStickyGuardrailFlyout=function(a){"use strict";this._showStickyGuardrailFlyout=a};c.prototype.setSharePreview=function(a){"use strict";this._sharePreview=a};c.prototype.setShowLoadingIndicator=function(a){"use strict";this._showLoadingIndicator=a};c.prototype.setWasAsyncLoadedWithPlaceholderComposer=function(){"use strict";this._composerAsyncLoaderRoot=X("composer-async-loader-root");if(!this._composerAsyncLoaderRoot)return;this._wasLoadedWithAsyncPlaceholderComposer=!0;this._submittingScreen=l.find(this._composerAsyncLoaderRoot,"div","composer-submitting")};c.prototype.copyPlaceholderComposerFormTextAndFocus=function(a){"use strict";var b=l.scry(this._composerAsyncLoaderRoot,"form","composer-placeholder-form"),c=l.scry(this._composerAsyncLoaderRoot,"textarea","composer-placeholder-textarea"),d=!1;c.length>0&&(c[0].value.length>0&&this._setCompositionDataStatusText(a,c[0].value),d=c[0]===Oa());b.length>0&&l.remove(b[0]);l.show(this._composer);d&&this._textarea.focus()};c.prototype.captureFriendsPrivacyRow=function(){"use strict";this._friendsPrivacyRow=this._getPrivacyRow("value",S.PostParam.FRIENDS),this._friendsPrivacyRow||this.closeInterstitial(this._postInterstitialTooltipText[0]),this._waitingForFriendsRow&&this._handleInterstitialFriends()};c.prototype.capturePublicPrivacyRow=function(){"use strict";var a=this._getSavedCustomHiddenInput();if(a){a=Ha.getURIBuilder().setString("new_post_param",S.PostParam.EVERYONE.toString()).setBool("update_icon",!0).getURI();new P(a).send()}else this._publicPrivacyRow=this._getPrivacyRow("value",S.PostParam.EVERYONE),T.invoke("MPrivacyComposerMenu:updatePrivacy",null,{row:this._publicPrivacyRow})};c.prototype._getPrivacyRow=function(a,b){"use strict";__p&&__p();var c=l.scry(this._buttonbar,"table","privacy-table")[0];if(!c)return null;for(var d=0;d<c.rows.length;d++){var e=c.rows[d],f=O.get(e);if(f[a]==b)return e}return null};c.prototype._hideForInterstitial=function(){"use strict";l.hide(this._composer),this._textarea.blur()};c.prototype._closeComposer=function(){"use strict";this._textarea.blur(),l.hide(this._composer),l.show(this._mainPage)};c.prototype._toggleSubmitButtonState=function(a){"use strict";this._submitButtonNodes.forEach(function(b){b.disabled=!a}),this._forsaleInterceptForsale&&(this._forsaleInterceptForsale.disabled=!a,this._forsaleInterceptNonForsale.disabled=!a),this._slideshowPreviewButton&&(this._slideshowPreviewButton.disabled=!a)};c.prototype._toggleCancelButtonHidden=function(a){"use strict";var b=l.find(this._composer,"button","cancel_composer");b=b.parentElement;a?l.hide(b):l.show(b)};c.prototype._toggleSubmitButtonHidden=function(a){"use strict";this._submitButtonNodes.forEach(function(b){i.conditionShow(b,!a)})};c.prototype._restoreComposerWithoutFocus=function(){"use strict";T.invoke("MMentions:decorations:show",null,{}),l.hide(this._mainPage),l.show(this._composer),l.show(this._textarea),l.show(this._buttonbar)};c.prototype._skipFocus=function(){"use strict";return y.get(x.SKIP_FOCUS)};c.prototype._restoreComposer=function(){"use strict";this._restoreComposerWithoutFocus(),this._focusOnTextarea()};c.prototype._incrementPhotosPreviewNuxCounter=function(){"use strict";new P(Ia.getURIBuilder().getURI()).send()};c.prototype._showPhotosPreview=function(a){"use strict";if(!this._photoPreview)return;a.state===ra.UPLOADED&&!a.isPollingTagSuggestions&&(this._photosPreviewNux&&this._incrementPhotosPreviewNuxCounter(),l.hide(this._composer),this._photoPreview.show(a,this._tagSuggestionsController.getFaceboxesCopyForPhoto(a.fbid)))};c.prototype._hidePhotoPreviews=function(){"use strict";if(!this._photoPreview)return;l.show(this._composer);this._photoPreview.hide()};c.prototype._updateTagExpansion=function(){"use strict";var a=this._friendsInputController.hasTokens()||this._hasMentions,b=this._getPrivacySelector();b&&b.setShowTagExpansion(a)};c.prototype._startCheckin=function(){"use strict";T.invoke("open","MComposer:dialog:place")};c.prototype._registerPhotoPreviewEvents=function(){"use strict";var a=this._multiPhotoUploader.getUploader();a.setProps({onThumbnailClicked:this._showPhotosPreview.bind(this)});this._photoPreview.setOnAddXYTag(this._tagSuggestionsController.addXYTag.bind(this._tagSuggestionsController));this._photoPreview.setOnDeleteXYTag(this._tagSuggestionsController.deleteXYTag.bind(this._tagSuggestionsController));this._photoPreview.setWaterfall(a.component.getWaterfallID(),a.component.getWaterfallAppName(),a.component.getWaterfallSource())};c.prototype._initPhotoPreview=function(){"use strict";this._multiPhotoUploader&&this._tagSuggestionsController&&this._photosPreviewConfig&&!this._photoPreview&&(this._photoPreview=new va(this._photosPreviewConfig),this._registerPhotoPreviewEvents())};Ma(c,{scrollToElem:null,showPlace:!0,shouldScroll:!0,syncSubmit:!1,eventTaggingNuxHref:null});Object.assign(c.prototype,{_defaultAction:null,_defaultConfig:null,_photoAction:null,_photoOpen:!1,_hasPhoto:!1,_albumChosen:!1,_onlyMeFlyoutShown:!1,_prefill:null,_forceAsync:!1,_isCheckin:!1,_isUnpublishedPost:!1,_isPageCheckin:!1,_pinPlace:!1,_albumPicker:null,_EventTaggingNuxDisplayed:!1,_ogTagger:null,_textarea:null,_attachPhoto:null,_clickedButton:null,_composer:null,_composerTitle:null,_contextualMessage:null,_form:null,_mainPage:null,_photoButton:null,_staticTemplates:null,_ogTaggerLoaded:!1,_slideshowNUX:null,_listeners:null});function $(a){if(!a)return"";a=a.trim();a=a.replace(/\n{3,}/,"\n\n");a=a.replace(/\t+/," ");return a}e.exports=c}),null);
__d("InitMStructuredComposer",["DOM","MAlbumPicker","MLegacyDataStore","MOpenGraphTagger","MStructuredComposer","Stratcom","$"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();function a(a){__p&&__p();b=a.friends_tagger;var c=m(a.open_id),d=i.get(c),e=d._friendsTagger||b.fromID(a.friends_tagger_id),f=null;a.album_picker_id&&(f=d._albumPicker||new h(m(a.album_picker_id)));var n;a.og_tagger_id&&(n=new j(m(a.og_tagger_id)));d=new k(c,e,null,f,n,a.multi_photo_uploader,a.page_info,a.create_label,a.update_label,a.composer_target_type,a.composer_entry_point,a.friends_input,null,a.og_clearable_preview,a.should_show_tag_suggestions,a.should_auto_tag,a.photos_preview_config,a.photos_preview_nux);d.setDefaultHideConfig&&d.setDefaultHideConfig(a.hide_config||{});a.privacy_selector_rewrite_id&&d.setPrivacySelector(m(a.privacy_selector_rewrite_id));i.set(c,{composer:d});a.scroll_to_elem_id&&d.setScrollToElem(a.scroll_to_elem_id);d.setSyncSubmit(a.syncsubmit);d.setShowPlace(a.showplace);d.setShouldScroll(a.shouldscroll);d.setLongReviewTips(a.long_review_tips);d.setShortReviewsDisableDone(a.short_reviews_disable_done);d.setSlideshowNUX(a.slideshow_nux);a.slideshow_preview_id&&d.setSlideshowPreview(m(a.slideshow_preview_id));a.was_loaded_with_placeholder_composer&&d.setWasAsyncLoadedWithPlaceholderComposer(a.was_loaded_with_placeholder_composer);d.start();a.photouploaduri&&d.setPhotoAction(a.photouploaduri);d.setInAudienceAlignmentExp(a.in_aaa_exp);d.setInAudienceAlignmentOnlyMeExp(a.in_aaa_onlyme_exp);d.setAudienceAlignmentFlyout(a.aaa_flyout);a.newcomer_audience_nux&&d.setNewcomerAudienceNux(a.newcomer_audience_nux);a.show_sticky_guardrail_flyout&&d.setStickyGuardrailFlyout(a.show_sticky_guardrail_flyout);d.setSharePreview(a.share_preview);d.setShowLoadingIndicator(a.show_loading_indicator);l.listen("MPrivacyComposerMenu::custom",null,function(b){b.getData().selector.parentNode.id==a.privacy_selector_rewrite_id&&(b.getData().visible?g.hide(m("structured_composer")):(g.hide(m("viewport")),g.show(m("structured_composer"))))});l.invoke("InitMStructuredComposer:composer-initialized")}f.main=a}),null);
__d("MStructuredComposerFriendsInputReact",["BanzaiODS","CSS","DOM","MComposerLogger","MComposerNavigationMixin","MComposerWaterfallEvent","MCompositionUserActions","MCompositionWithFields","MCompositionWithStore","MSubscriptionsHandlerMixin","MTokenCollection.react","MTokenRenderer.react","MUnifiedTaggerConstants","React","ReactDOM","Stratcom","TokenCollection","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){__p&&__p();var z,A="mtouch_composer_facerec_suggestions",B=s.SHOW_UNIFIED_TAGGER;b=babelHelpers.inherits(a,x(k,p));z=b&&b.prototype;function a(a,b,c){"use strict";__p&&__p();z.constructor.call(this),this.$MStructuredComposerFriendsInputReact1=a,this.$MStructuredComposerFriendsInputReact2=b,this.$MStructuredComposerFriendsInputReact3=new w(),this.$MStructuredComposerFriendsInputReact4=u.render(t.createElement(q,{onClick:this.$MStructuredComposerFriendsInputReact5.bind(this),onRemove:this.$MStructuredComposerFriendsInputReact6.bind(this),renderer:r,collection:this.$MStructuredComposerFriendsInputReact3,collectionKey:"users_with"}),i.find(b,"ul","friend-tokens")),this.$MStructuredComposerFriendsInputReact7=c,this.$MStructuredComposerFriendsInputReact8=c.style.display,this.$MStructuredComposerFriendsInputReact9={},B&&this.addSubscriptions(v.listen("MComposer:tagger:click",s.TOKEN_TYPES.PEOPLE,function(){return this.$MStructuredComposerFriendsInputReact5()}.bind(this))),this.addSubscriptions(v.listen("click","inline-with-button",function(){y(function(){this.$MStructuredComposerFriendsInputReact5()}.bind(this),10)}.bind(this)),v.listen("MComposer:tagger:open",null,function(){return this.$MStructuredComposerFriendsInputReact5()}.bind(this))),this.addSubscriptions(i.listen(this.$MStructuredComposerFriendsInputReact7,"click",null,function(){return this.$MStructuredComposerFriendsInputReact5()}.bind(this)),this.$MStructuredComposerFriendsInputReact1.listen("cancel",function(){this.currentNavigationPolicy().addOnClose(function(){return this.$MStructuredComposerFriendsInputReact10()}.bind(this)).close()}.bind(this)),this.$MStructuredComposerFriendsInputReact1.listen("submit",function(event){this.currentNavigationPolicy().addOnClose(function(){var a={};a[n.TOKENS]=event.tokens;m.withUpdate(a);j.log(l.FRIEND_TAG_ADD,{num_tags:event.tokens.length});this.$MStructuredComposerFriendsInputReact11(event.tokens.length)}.bind(this)).close()}.bind(this)),o.addChangeListener(function(){return this.$MStructuredComposerFriendsInputReact12()}.bind(this)))}a.prototype.$MStructuredComposerFriendsInputReact12=function(){"use strict";var a=o.get(n.TOKENS,[]);a!==this.$MStructuredComposerFriendsInputReact3.entries&&(this.$MStructuredComposerFriendsInputReact3.entries=a,this.$MStructuredComposerFriendsInputReact13(),this.$MStructuredComposerFriendsInputReact4.forceUpdate(),this.$MStructuredComposerFriendsInputReact14(),this.$MStructuredComposerFriendsInputReact11(),this.$MStructuredComposerFriendsInputReact15())};a.prototype.$MStructuredComposerFriendsInputReact15=function(){"use strict";this.$MStructuredComposerFriendsInputReact16&&this.$MStructuredComposerFriendsInputReact16(this.$MStructuredComposerFriendsInputReact3.entries.slice())};a.prototype.$MStructuredComposerFriendsInputReact13=function(){"use strict";B&&v.invoke("MComposer:tagger:update",null,{people:this.$MStructuredComposerFriendsInputReact3.entries})};a.prototype.$MStructuredComposerFriendsInputReact17=function(a){"use strict";var b=!this.$MStructuredComposerFriendsInputReact3.hasEntry(a);b&&(this.$MStructuredComposerFriendsInputReact3.addEntry(a),this.$MStructuredComposerFriendsInputReact13(),this.$MStructuredComposerFriendsInputReact14(),this.$MStructuredComposerFriendsInputReact4.forceUpdate());return b};a.prototype.addManualXYTag=function(a){"use strict";this.$MStructuredComposerFriendsInputReact17(a)&&this.$MStructuredComposerFriendsInputReact18(),this.$MStructuredComposerFriendsInputReact15()};a.prototype.addAutoToken=function(a){"use strict";this.$MStructuredComposerFriendsInputReact9[a.id]||this.$MStructuredComposerFriendsInputReact17(a)&&(this.$MStructuredComposerFriendsInputReact19(),g.bumpEntityKey(A,"add_auto_tag"))};a.prototype.onRemove=function(a){"use strict";this.$MStructuredComposerFriendsInputReact3.removeEntry(a),this.$MStructuredComposerFriendsInputReact14(),this.$MStructuredComposerFriendsInputReact13(),this.$MStructuredComposerFriendsInputReact4.forceUpdate(),this.$MStructuredComposerFriendsInputReact15()};a.prototype.$MStructuredComposerFriendsInputReact6=function(a){"use strict";this.$MStructuredComposerFriendsInputReact9[a.id]=!0,this.onRemove(a),a.autoTag&&g.bumpEntityKey(A,"remove_auto_tag"),this.$MStructuredComposerFriendsInputReact20()};a.prototype.$MStructuredComposerFriendsInputReact14=function(){"use strict";var a=this.$MStructuredComposerFriendsInputReact3.entries.length>0;B||h.conditionShow(this.$MStructuredComposerFriendsInputReact2,a);h.conditionClass(this.$MStructuredComposerFriendsInputReact7,"active",a)};a.prototype.$MStructuredComposerFriendsInputReact5=function(){"use strict";this.newNavigationPolicy().addOnOpen(function(){j.log(l.FRIEND_TAG_INTENT),this.$MStructuredComposerFriendsInputReact1.setEntries(this.$MStructuredComposerFriendsInputReact3.entries.slice()),setTimeout(this.$MStructuredComposerFriendsInputReact1.show.bind(this.$MStructuredComposerFriendsInputReact1))}.bind(this)).addOnCloseByBrowser(function(){this.$MStructuredComposerFriendsInputReact1.hide(),this.$MStructuredComposerFriendsInputReact10()}.bind(this)).open()};a.prototype.$MStructuredComposerFriendsInputReact11=function(a){"use strict";v.invoke("MStructuredComposerFriendsInput-done",null,{num_tags:a})};a.prototype.$MStructuredComposerFriendsInputReact19=function(){"use strict";v.invoke("MStructuredComposerFriendsInput-addedAutoTags",null,{})};a.prototype.$MStructuredComposerFriendsInputReact18=function(){"use strict";v.invoke("MStructuredComposerFriendsInput-addedManualXYTags",null,{})};a.prototype.$MStructuredComposerFriendsInputReact20=function(){"use strict";v.invoke("MStructuredComposerFriendsInput-removedManualTags",null,{})};a.prototype.$MStructuredComposerFriendsInputReact10=function(){"use strict";var a=this.getTokenCount();v.invoke("MStructuredComposerFriendsInput-done",null,{cancel:!0,num_tags:a});j.log(l.FRIEND_TAG_CANCEL,{num_tags:a})};a.prototype.reset=function(){"use strict";this.$MStructuredComposerFriendsInputReact4.entries=[],B||i.hide(this.$MStructuredComposerFriendsInputReact2),this.$MStructuredComposerFriendsInputReact3.entries=[],this.$MStructuredComposerFriendsInputReact9={},this.$MStructuredComposerFriendsInputReact1.clear(),this.$MStructuredComposerFriendsInputReact4.forceUpdate(),h.conditionClass(this.$MStructuredComposerFriendsInputReact7,"active",!1),this.$MStructuredComposerFriendsInputReact1.hide()};a.prototype.getTokenCount=function(){"use strict";return this.$MStructuredComposerFriendsInputReact3.entries.length};a.prototype.hasTokens=function(){"use strict";return this.getTokenCount()>0};a.prototype.setVisible=function(a){"use strict";h.conditionShow(this.$MStructuredComposerFriendsInputReact7,a)};a.prototype.setOnEntriesChangedHandler=function(a){"use strict";this.$MStructuredComposerFriendsInputReact16=a};a.prototype.getEntries=function(){"use strict";return this.$MStructuredComposerFriendsInputReact3.entries};e.exports=a}),null);
__d("MTokenizerParagraphRoot.react",["React","cx"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;b=g.PropTypes;i=babelHelpers.inherits(a,g.Component);i&&i.prototype;a.prototype.render=function(){"use strict";return g.createElement("div",{className:"_5hd3"},"\u2014",this.props.showSpace?" ":"",this.props.children)};function a(){"use strict";i.apply(this,arguments)}a.propTypes={showSpace:b.bool};a.defaultProps={showSpace:!0};e.exports=a}),null);
__d("MTokenizerParagraphToken.react",["MTouchableArea.react","React","cx","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;b=h.PropTypes;var l={use:{token:"mToken _4tk2",noborder:"mToken _4tk2 _3a7k"}};c=babelHelpers.inherits(a,h.Component);k=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.getClassListForAttribute=function(a){return l[a][this.props[a]]}.bind(this),b}a.prototype.render=function(){"use strict";return h.createElement(g,null,h.createElement("span",babelHelpers["extends"]({},this.props,{className:j(this.props.className,this.getClassListForAttribute("use"))}),h.createElement("span",{className:"_4tk0"},this.props.children)))};a.propTypes={use:b.oneOf(["token","noborder"])};a.defaultProps={use:"token"};e.exports=a}),null);
__d("MTokenizerParagraphAtPlace.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;d=babelHelpers.inherits(a,i.Component);k=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.renderNonSpecificPlace=function(){return i.createElement(g,null,j._("in {city-name}.",[j._param("city-name",this.renderPlaceToken())]))}.bind(this),this.renderPlaceToken=function(){return i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PLACE)},this.props.place.name)}.bind(this),this.renderSpecificPlace=function(){return i.createElement(g,null,j._("at {place-name}",[j._param("place-name",this.renderPlaceToken())]))}.bind(this),b}a.prototype.render=function(){"use strict";return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace()};a.propTypes={onTokenClick:c.func.isRequired,place:c.object.isRequired};e.exports=a}),null);
__d("intlList",["React","fbt","invariant","keyMirror"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=j({AND:null,NONE:null,OR:null}),l=j({COMMA:null,SEMICOLON:null});a=function(a,b,c){__p&&__p();b=b||k.AND;c=c||l.COMMA;var d=a.length;if(d===0)return"";else if(d===1)return a[0];var e=a[d-1],f=a[0];for(var g=1;g<d-1;++g)switch(c){case l.SEMICOLON:f=h._("{previous items}; {following items}",[h._param("previous items",f),h._param("following items",a[g])]);break;default:f=h._("{previous items}, {following items}",[h._param("previous items",f),h._param("following items",a[g])])}return m(f,e,b,c)};function m(a,b,c,d){switch(c){case k.AND:return h._("{list of items} and {last item}",[h._param("list of items",a),h._param("last item",b)]);case k.OR:return h._("{list of items} or {last item}",[h._param("list of items",a),h._param("last item",b)]);case k.NONE:switch(d){case l.SEMICOLON:return h._("{previous items}; {last item}",[h._param("previous items",a),h._param("last item",b)]);default:return h._("{list of items}, {last item}",[h._param("list of items",a),h._param("last item",b)])}default:i(0)}}a.DELIMITERS=l;a.CONJUNCTIONS=k;e.exports=a}),null);
__d("MTokenizerParagraphTokenList.react",["MTokenizerParagraphToken.react","React","fbt","intlList","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l;b=h.PropTypes;l=babelHelpers.inherits(a,h.Component);l&&l.prototype;a.prototype.render=function(){"use strict";var a=this.props.names.length;a=a===2?this.props.names[1]:i._("{count} others",[i._param("count",a-1)]);a=[h.createElement(g,null,this.props.names[0]),h.createElement(g,null,a)];return h.createElement("span",{onClick:this.props.onClick,role:"presentation"},j(a,j.CONJUNCTIONS.AND))};function a(){"use strict";l.apply(this,arguments)}a.propTypes={onClick:b.func,names:function(a,b,c){c=Array.isArray(a[b]);c&&a[b].length>1||k(0)}};e.exports=a}),null);
__d("MTokenizerParagraphWithMultiplePeople.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphTokenList.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;k=babelHelpers.inherits(a,i.Component);k&&k.prototype;a.prototype.render=function(){"use strict";return i.createElement(g,null,j._("with {list-of-people}.",[j._param("list-of-people",i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PEOPLE),names:this.props.people.map(function(a){return a.name})}))]))};function a(){"use strict";k.apply(this,arguments)}a.propTypes={onTokenClick:c.func.isRequired,people:c.array.isRequired};e.exports=a}),null);
__d("MTokenizerParagraphWithMultiplePeopleAtPlace.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","MTokenizerParagraphTokenList.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=j.PropTypes;d=babelHelpers.inherits(a,j.Component);l=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=l.constructor).call.apply(a,[this].concat(d)),this.getPeopleNames=function(){return this.props.people.map(function(a){return a.name})}.bind(this),this.renderNonSpecificPlace=function(){return j.createElement(g,null,k._("with {list-of-people} in {non-specific-place-name}.",[k._param("list-of-people",this.renderPeopleToken()),k._param("non-specific-place-name",this.renderPlaceToken())]))}.bind(this),this.renderPeopleToken=function(){return j.createElement(i,{onClick:this.props.onTokenClick.bind(null,m.PEOPLE),names:this.getPeopleNames()})}.bind(this),this.renderPlaceToken=function(){return j.createElement(h,{onClick:this.props.onTokenClick.bind(null,m.PLACE)},this.props.place.name)}.bind(this),this.renderSpecificPlace=function(){return j.createElement(g,null,k._("with {list-of-people} at {place-name}.",[k._param("list-of-people",this.renderPeopleToken()),k._param("place-name",this.renderPlaceToken())]))}.bind(this),b}a.prototype.render=function(){"use strict";return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace()};a.propTypes={onTokenClick:c.func.isRequired,place:c.object.isRequired,people:c.array.isRequired};e.exports=a}),null);
__d("MTokenizerParagraphIcon.react",["Image.react","MTokenizerParagraphToken.react","React","cx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;b=i.PropTypes;k=babelHelpers.inherits(a,i.Component);k&&k.prototype;a.prototype.render=function(){"use strict";return i.createElement(h,this.props,i.createElement(g,{className:"_2r5v",src:this.props.src}))};function a(){"use strict";k.apply(this,arguments)}a.propTypes={use:b.oneOf(["token","noborder"])};a.defaultProps={use:"noborder"};e.exports=a}),null);
__d("MTokenizerParagraphWithOGActivity.react",["MTaggableActivityPreviewTemplateQuery","MTokenizerParagraphIcon.react","MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","MTokenizerParagraphTokenList.react","React","cx","ix","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o,p=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=l.PropTypes;d=babelHelpers.inherits(a,l.Component);o=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=o.constructor).call.apply(a,[this].concat(d)),this.state={template:null},this.getTemplateQuery=function(a){var b=new g(a.ogactivity.id);a.people.length===1?b.setHasPerson():a.people.length>1&&b.setHasPeople();a.place&&b.setHasPlace();return b},this.shouldRenderLoader=function(){return!(this.state.template&&this.props.ogactivity.icon)}.bind(this),this.renderLoading=function(){return l.createElement(h,{className:"_12zh",src:n("85428")})},this.renderTemplate=function(a){return this.state.template.renderArray(this.state.template.getTokens().map(this.renderToken))}.bind(this),this.renderToken=function(a){a=a.token;var b=this.props.onTokenClick.bind(null,a===p.PERSON?p.PEOPLE:a);switch(a){case p.ICON:return[l.createElement(h,{onClick:b,src:this.props.ogactivity.icon,use:"token"})," "];case p.OBJECT:return l.createElement(j,{onClick:b,key:a},this.props.ogactivity.object);case p.PEOPLE:return l.createElement(k,{onClick:b,names:this.props.people.map(function(a){return a.name}),key:a});case p.PERSON:return l.createElement(j,{onClick:b,key:a},this.props.people[0].name);case p.PLACE:return l.createElement(j,{onClick:b,key:a},this.props.place.name)}}.bind(this),b}a.prototype.componentDidMount=function(){"use strict";this.$1=!0,this.startTemplateQuery(this.props)};a.prototype.componentWillUnnount=function(){"use strict";this.$1=!1};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.setState({template:null}),this.startTemplateQuery(a)};a.prototype.startTemplateQuery=function(a){"use strict";this.getTemplateQuery(a).fetch().done(function(a){this.$1&&this.setState({template:a})}.bind(this))};a.prototype.render=function(){"use strict";var a=this.shouldRenderLoader()?this.renderLoading():this.renderTemplate();return l.createElement(i,null,a)};a.propTypes={ogactivity:c.object.isRequired,onTokenClick:c.func.isRequired,people:c.array,place:c.object};e.exports=a}),null);
__d("MTokenizerParagraphWithPerson.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;k=babelHelpers.inherits(a,i.Component);k&&k.prototype;a.prototype.render=function(){"use strict";return i.createElement(g,null,j._("with {name1}.",[j._param("name1",i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PEOPLE)},this.props.person.name))]))};function a(){"use strict";k.apply(this,arguments)}a.propTypes={onTokenClick:c.func.isRequired,person:c.object.isRequired};e.exports=a}),null);
__d("MTokenizerParagraphWithPersonAtPlace.react",["MTokenizerParagraphRoot.react","MTokenizerParagraphToken.react","React","fbt","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k,l=b("MUnifiedTaggerConstants").TOKEN_TYPES;c=i.PropTypes;d=babelHelpers.inherits(a,i.Component);k=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.renderNonSpecificPlace=function(){return i.createElement(g,null,j._("with {name1} in {city-name}.",[j._param("name1",this.renderPersonToken()),j._param("city-name",this.renderPlaceToken())]))}.bind(this),this.renderPersonToken=function(){return i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PEOPLE)},this.props.person.name)}.bind(this),this.renderPlaceToken=function(){return i.createElement(h,{onClick:this.props.onTokenClick.bind(null,l.PLACE)},this.props.place.name)}.bind(this),this.renderSpecificPlace=function(){return i.createElement(g,null,j._("with {name1} at {place-name}.",[j._param("name1",this.renderPersonToken()),j._param("place-name",this.renderPlaceToken())]))}.bind(this),b}a.prototype.render=function(){"use strict";return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace()};a.propTypes={onTokenClick:c.func.isRequired,place:c.object.isRequired,person:c.object.isRequired};e.exports=a}),null);
__d("MTokenizerParagraph.react",["MTokenizerParagraphAtPlace.react","MTokenizerParagraphWithMultiplePeople.react","MTokenizerParagraphWithMultiplePeopleAtPlace.react","MTokenizerParagraphWithOGActivity.react","MTokenizerParagraphWithPerson.react","MTokenizerParagraphWithPersonAtPlace.react","React"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n;b=m.PropTypes;c=babelHelpers.inherits(a,m.Component);n=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=n.constructor).call.apply(a,[this].concat(d)),this.renderTokens=function(){__p&&__p();var a=this.props.ogactivity,b=this.props.people||[],c=this.props.place;if(a)return m.createElement(j,babelHelpers["extends"]({},this.props,{ogactivity:a,people:b,place:c}));if(b.length>1&&c)return m.createElement(i,babelHelpers["extends"]({},this.props,{place:c,people:b}));if(b.length===1&&c)return m.createElement(l,babelHelpers["extends"]({},this.props,{place:c,person:b[0]}));if(c)return m.createElement(g,babelHelpers["extends"]({},this.props,{place:c}));if(b.length>1)return m.createElement(h,babelHelpers["extends"]({},this.props,{people:b}));return b.length===1?m.createElement(k,babelHelpers["extends"]({},this.props,{person:b[0]})):m.createElement("div",this.props)}.bind(this),b}a.prototype.render=function(){"use strict";return this.renderTokens()};a.propTypes={ogactivity:b.object,onTokenClick:b.func,people:b.array,place:b.object};a.defaultProps={ogactivity:null,people:[],place:null};e.exports=a}),null);
__d("MStructuredComposerUnifiedTagger",["MCompositionPlaceFields","MCompositionPlaceStore","MSubscriptionsHandlerMixin","MTokenizerParagraph.react","React","ReactDOM","Stratcom","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o;b=babelHelpers.inherits(a,n(i));o=b&&b.prototype;function a(a){"use strict";o.constructor.call(this),this.$MStructuredComposerUnifiedTagger1={ogActivity:null,people:null,place:null},this.$MStructuredComposerUnifiedTagger2=a,this.addSubscriptions(h.addListener("change",function(){h.isEmpty()?this.setAttachments({place:null}):this.setAttachments({place:{name:h.get(g.NAME),isNonSpecific:h.get(g.IS_NON_SPECIFIC,!1)}})}.bind(this)),m.listen("MComposer:tagger:update",null,function(event){return this.setAttachments(event.getData())}.bind(this)),m.listen("MComposer:tagger:update:og-icon",null,function(event){return this.setOGIcon(event.getData().icon)}.bind(this)),m.listen("MComposer:tagger:clear",null,function(){return this.clear()}.bind(this))),this.$MStructuredComposerUnifiedTagger3()}a.prototype.clear=function(){"use strict";this.$MStructuredComposerUnifiedTagger1.ogActivity=null;this.$MStructuredComposerUnifiedTagger1.people=null;this.$MStructuredComposerUnifiedTagger1.place=null;return this.$MStructuredComposerUnifiedTagger3()};a.prototype.$MStructuredComposerUnifiedTagger4=function(a){"use strict";m.invoke("MComposer:tagger:click",a)};a.prototype.$MStructuredComposerUnifiedTagger5=function(){"use strict";return!!(this.$MStructuredComposerUnifiedTagger1.ogActivity||this.$MStructuredComposerUnifiedTagger1.people&&this.$MStructuredComposerUnifiedTagger1.people.length||this.$MStructuredComposerUnifiedTagger1.place)};a.prototype.$MStructuredComposerUnifiedTagger3=function(){"use strict";this.$MStructuredComposerUnifiedTagger5()?l.render(k.createElement(j,{ogactivity:this.$MStructuredComposerUnifiedTagger1.ogActivity,onTokenClick:function(a){return this.$MStructuredComposerUnifiedTagger4(a)}.bind(this),people:this.$MStructuredComposerUnifiedTagger1.people,place:this.$MStructuredComposerUnifiedTagger1.place}),this.$MStructuredComposerUnifiedTagger2):l.unmountComponentAtNode(this.$MStructuredComposerUnifiedTagger2);return this};a.prototype.setAttachments=function(a){"use strict";Object.assign(this.$MStructuredComposerUnifiedTagger1,a);return this.$MStructuredComposerUnifiedTagger3()};a.prototype.setOGIcon=function(a){"use strict";this.$MStructuredComposerUnifiedTagger1.ogActivity&&(this.$MStructuredComposerUnifiedTagger1.ogActivity.icon=a);return this.$MStructuredComposerUnifiedTagger3()};e.exports=a}),null);
__d("MComposerLegacyPlaceAttachment",["CSS","DOM","MComposerLogger","MComposerWaterfallEvent","MCompositionConfigFields","MCompositionConfigStore","MCompositionPlaceFields","MCompositionPlaceStore","MCompositionUserActions","MSubscriptionsHandlerMixin","Stratcom","memoize","mixin","MUnifiedTaggerConstants"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t,u=b("MUnifiedTaggerConstants").SHOW_UNIFIED_TAGGER;c=babelHelpers.inherits(a,s(p));t=c&&c.prototype;function a(a){"use strict";t.constructor.call(this),this.$MComposerLegacyPlaceAttachment1=a,this.$MComposerLegacyPlaceAttachment2=r(function(){return h.find(this.$MComposerLegacyPlaceAttachment1,"li","token")}.bind(this)),this.$MComposerLegacyPlaceAttachment3=r(function(){return h.find(this.$MComposerLegacyPlaceAttachment2(),"a","remove-token")}.bind(this)),this.addSubscriptions(n.addListener("change",function(){return this.$MComposerLegacyPlaceAttachment4()}.bind(this)),h.listen(this.$MComposerLegacyPlaceAttachment1,"click","remove-token",function(event){return this.$MComposerLegacyPlaceAttachment5(event)}.bind(this)),h.listen(this.$MComposerLegacyPlaceAttachment1,"click","at-button",function(){return this.$MComposerLegacyPlaceAttachment6()}.bind(this)))}a.prototype.$MComposerLegacyPlaceAttachment7=function(){"use strict";return!l.get(k.PIN_PLACE,!1)};a.prototype.$MComposerLegacyPlaceAttachment8=function(){"use strict";return!n.isEmpty()&&!l.get(k.DISABLE_PLACE_TAG,!1)};a.prototype.$MComposerLegacyPlaceAttachment6=function(){"use strict";q.invoke("MStructuredComposer-addLocationClicked")};a.prototype.$MComposerLegacyPlaceAttachment4=function(){"use strict";if(u)return;g.conditionShow(this.$MComposerLegacyPlaceAttachment1,this.$MComposerLegacyPlaceAttachment8());g.conditionShow(this.$MComposerLegacyPlaceAttachment3(),this.$MComposerLegacyPlaceAttachment7());this.$MComposerLegacyPlaceAttachment8()&&h.replace(this.$MComposerLegacyPlaceAttachment2().firstChild,h.create("span",{className:"innerToken"},n.get(m.NAME)))};a.prototype.$MComposerLegacyPlaceAttachment5=function(event){"use strict";event.kill(),q.invoke("MStructuredComposer-removedLocation"),i.log(j.LOCATION_REMOVE),o.placeRemove()};e.exports=a}),null);
__d("MComposerStatusTextarea",["DOM","MCompositionConfigFields","MCompositionConfigStore","MCompositionStatusFields","MCompositionStatusStore","MCompositionUserActions","MJSEnvironment","MSubscriptionsHandlerMixin","MViewport","Scroll","Stratcom","Style","debounceCore","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u,v=480,w=m.IS_ANDROID||m.IS_APPLE_WEBKIT_IOS||m.IS_CHROME||m.IS_FIREFOX&&m.OS_VERSION>14;function x(a){var b=s(a,300);return function(){b.reset();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b.apply(null,c)}}b=babelHelpers.inherits(a,t(n));u=b&&b.prototype;function a(a){__p&&__p();a=a.textareaNode;u.constructor.call(this);this.$MComposerStatusTextarea1=a;a.tagName!=="TEXTAREA"?this.$MComposerStatusTextarea2=g.find(a,"textarea"):this.$MComposerStatusTextarea2=a;m.IS_APPLE_WEBKIT_IOS&&!m.IS_CHROME&&m.OS_VERSION>=7&&o.getScreenHeight()<=v&&r.set(this.$MComposerStatusTextarea2,"height","75px");this.addSubscriptions(k.addChangeListener(function(){return this.$MComposerStatusTextarea3()}.bind(this)),i.addChangeListener(function(){return this.$MComposerStatusTextarea4()}.bind(this)),g.listen(this.$MComposerStatusTextarea2,w?"input":"keyup",null,x(function(event){return this.$MComposerStatusTextarea5(event)}.bind(this))),q.listen("MMentions:change",null,function(event){return this.$MComposerStatusTextarea6(event)}.bind(this)),q.listen("MComposerStatusTextarea:flush",null,function(event){return this.$MComposerStatusTextarea7(event)}.bind(this)))}a.prototype.$MComposerStatusTextarea6=function(event){"use strict";var a=event.getData().input;if(a!==this.$MComposerStatusTextarea2)return;this.$MComposerStatusTextarea8(a.value)};a.prototype.$MComposerStatusTextarea3=function(){"use strict";var a=k.get(j.TEXT,"");this.$MComposerStatusTextarea2.value=a;q.invoke("MJSPlaceholder")};a.prototype.$MComposerStatusTextarea4=function(){"use strict";var a=i.get(h.INPUT_NAME),b=this.$MComposerStatusTextarea9();b.getAttribute("name")!==a&&b.setAttribute("name",a)};a.prototype.$MComposerStatusTextarea9=function(){"use strict";var a=g.scry(this.$MComposerStatusTextarea1,"input","mentionsHiddenInput")[0];return a||this.$MComposerStatusTextarea2};a.prototype.$MComposerStatusTextarea5=function(event){"use strict";this.$MComposerStatusTextarea8(event.getTarget().value)};a.prototype.$MComposerStatusTextarea7=function(event){"use strict";var a=event.getData();this.$MComposerStatusTextarea8(a.value);if(a.hasMentions===!1){var b=this.$MComposerStatusTextarea9();b!==this.$MComposerStatusTextarea2&&(b.value=a.value)}};a.prototype.$MComposerStatusTextarea8=function(a){"use strict";var b=this.$MComposerStatusTextarea2.selectionStart,c=this.$MComposerStatusTextarea2.selectionEnd,d=p.getTop(this.$MComposerStatusTextarea2),e={};e[j.TEXT]=a;l.statusUpdate(e);p.setTop(this.$MComposerStatusTextarea2,d);this.$MComposerStatusTextarea2.setSelectionRange(b,c)};e.exports=a}),null);
__d("MComposerPlaceButton",["CSS","MCompositionConfigFields","MCompositionConfigStore","MCompositionPlaceStore","MSubscriptionsHandlerMixin","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m;b=babelHelpers.inherits(a,l(k));m=b&&b.prototype;function a(a){"use strict";m.constructor.call(this),this.$MComposerPlaceButton1=a,this.addSubscriptions(i.addListener("change",function(){return this.$MComposerPlaceButton2()}.bind(this)),j.addListener("change",function(){return this.$MComposerPlaceButton3()}.bind(this)))}a.prototype.$MComposerPlaceButton4=function(){"use strict";return!j.isEmpty()};a.prototype.$MComposerPlaceButton5=function(){"use strict";return!i.get(h.PIN_PLACE)&&!i.get(h.DISABLE_PLACE_TAG)};a.prototype.$MComposerPlaceButton2=function(){"use strict";g.conditionShow(this.$MComposerPlaceButton1,this.$MComposerPlaceButton5())};a.prototype.$MComposerPlaceButton3=function(){"use strict";g.conditionClass(this.$MComposerPlaceButton1,"active",this.$MComposerPlaceButton4())};e.exports=a}),null);
__d("MComposerPlaceDialog",["DOM","MComposerLogger","MComposerNavigationMixin","MComposerWaterfallEvent","MCompositionConfigFields","MCompositionConfigStore","MCompositionPlaceFields","MCompositionPlaceStore","MCompositionUserActions","MPlacesTagger","MRequest","MSubscriptionsHandlerMixin","MUnifiedTaggerConstants","Stratcom","fbt","getObjectValues","mixin","whitelistObjectKeys"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();var y;b=babelHelpers.inherits(a,w(i,r));y=b&&b.prototype;function a(a,b){__p&&__p();var c=b.preview;b=b.tagger;y.constructor.call(this);this.$MComposerPlaceDialog1=c;this.$MComposerPlaceDialog2=a;this.$MComposerPlaceDialog3=b||new p(this.$MComposerPlaceDialog2);this.$MComposerPlaceDialog4=!0;this.addSubscriptions(this.$MComposerPlaceDialog1.addListener("clear",function(){return this.$MComposerPlaceDialog5()}.bind(this)),this.$MComposerPlaceDialog3.listen("cancel",function(){return this.$MComposerPlaceDialog6()}.bind(this)),this.$MComposerPlaceDialog3.listen("submit",function(a){return this.$MComposerPlaceDialog7(a)}.bind(this)),n.addListener("change",function(){return this.$MComposerPlaceDialog8()}.bind(this)),t.listen("click","at-button",function(){return this.$MComposerPlaceDialog9()}.bind(this)),t.listen("open","MComposer:dialog:place",function(){this.$MComposerPlaceDialog4=!1,this.$MComposerPlaceDialog9()}.bind(this)),t.listen("back","MComposer:dialog:place",function(){return this.$MComposerPlaceDialog10()}.bind(this)),t.listen("MComposer:tagger:click",s.TOKEN_TYPES.PLACE,function(){return this.$MComposerPlaceDialog9()}.bind(this)))}a.prototype.$MComposerPlaceDialog11=function(){"use strict";o.placeRemove(),this.$MComposerPlaceDialog10()};a.prototype.$MComposerPlaceDialog10=function(){"use strict";this.$MComposerPlaceDialog3.hide(),this.$MComposerPlaceDialog4||(this.$MComposerPlaceDialog4=!0,t.invoke("close","MComposer:dialog:place"))};a.prototype.$MComposerPlaceDialog12=function(){"use strict";return!l.get(k.PIN_PLACE)&&!l.get(k.DISABLE_PLACE_TAG)};a.prototype.$MComposerPlaceDialog13=function(){"use strict";return n.get(m.IS_NON_SPECIFIC)};a.prototype.$MComposerPlaceDialog8=function(){"use strict";n.isEmpty()?this.$MComposerPlaceDialog1.clear():this.$MComposerPlaceDialog1.setValue(this.$MComposerPlaceDialog14())};a.prototype.$MComposerPlaceDialog9=function(){"use strict";__p&&__p();if(this.hasNavigationPolicy())return;if(!this.$MComposerPlaceDialog12()){this.$MComposerPlaceDialog4=!0;return}setTimeout(function(){h.log(j.LOCATION_INTENT),this.$MComposerPlaceDialog4?this.newNavigationPolicy().addOnOpen(function(){return this.$MComposerPlaceDialog15()}.bind(this)).addOnClose(function(){return this.$MComposerPlaceDialog10()}.bind(this)).open():this.$MComposerPlaceDialog15()}.bind(this),10)};a.prototype.$MComposerPlaceDialog6=function(){"use strict";if(this.$MComposerPlaceDialog4&&!this.hasNavigationPolicy())return;h.log(j.LOCATION_CANCEL);this.$MComposerPlaceDialog4?this.currentNavigationPolicy().close():(this.$MComposerPlaceDialog4=!0,t.invoke("cancel","MComposer:dialog:place"),this.$MComposerPlaceDialog3.hide())};a.prototype.$MComposerPlaceDialog5=function(){"use strict";if(this.$MComposerPlaceDialog4&&!this.hasNavigationPolicy())return;h.log(j.LOCATION_CANCEL);this.$MComposerPlaceDialog4?this.currentNavigationPolicy().addOnClose(function(){return this.$MComposerPlaceDialog11()}.bind(this)).close():this.$MComposerPlaceDialog10()};a.prototype.$MComposerPlaceDialog7=function(a){"use strict";if(this.$MComposerPlaceDialog4&&!this.hasNavigationPolicy())return;h.log(j.LOCATION_ADD);this.$MComposerPlaceDialog4?this.currentNavigationPolicy().addOnClose(function(){return this.$MComposerPlaceDialog16(a)}.bind(this)).close():(this.$MComposerPlaceDialog10(),this.$MComposerPlaceDialog16(a))};a.prototype.$MComposerPlaceDialog15=function(){"use strict";this.$MComposerPlaceDialog3.show();var a=g.scry(this.$MComposerPlaceDialog2,"*","places-category-selector-container")[0];a&&a.id&&a.children.length===0&&new q("/places/addform/category.php").addData({target_id:a.id,parent_id:0}).setMethod("GET").send()};a.prototype.$MComposerPlaceDialog14=function(){"use strict";if(n.get(m.IS_NON_SPECIFIC))return u._("in {non-specific-place-name}.",[u._param("non-specific-place-name",n.get(m.NAME))]);else return u._("at {place-name}",[u._param("place-name",n.get(m.NAME))])};a.prototype.$MComposerPlaceDialog16=function(a){"use strict";o.placeSet(x(a,v(m)))};e.exports=a}),null);
__d("MComposerInputsWrapper",["DOM","MComposerStoreToInputMap","MCompositionDispatcher","MCompositionStore","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();function l(a){return Object.prototype.hasOwnProperty.call(h,a.getID())}function m(a,b){return a+"-"+b}function a(a){"use strict";this.$1={},this.$2=a,this.$3=i.register(function(){return this.$4()}.bind(this)),k(function(){return i.unregister(this.$3)}.bind(this))}a.prototype.$5=function(){"use strict";return j.getRegisteredStores().filter(l)};a.prototype.$4=function(){"use strict";var a=this.$5();i.waitFor(a.map(function(a){return a.toUpdate()}));a.forEach(function(a){return this.$6(a)}.bind(this))};a.prototype.$6=function(a){"use strict";var b=a.getID(),c=h[b];Object.keys(c).forEach(function(d){this.$7(b,c[d],a.get(d,""))}.bind(this))};a.prototype.$7=function(a,b,c){"use strict";a=m(a,b);Object.prototype.hasOwnProperty.call(this.$1,a)||(this.$1[a]=g.create("input",{name:b,type:"hidden"}),g.appendContent(this.$2,this.$1[a]));this.$1[a].value=c};e.exports=a}),null);
__d("MComposerLegacyPlaceInput",["DOM","MCompositionPlaceFields","MCompositionPlaceStore","MSubscriptionsHandlerMixin","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l;b=babelHelpers.inherits(a,k(j));l=b&&b.prototype;function a(a){"use strict";l.constructor.call(this),this.$MComposerLegacyPlaceInput1=a,this.$MComposerLegacyPlaceInput2=g.find(this.$MComposerLegacyPlaceInput1,"input","at-input"),this.$MComposerLegacyPlaceInput3=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-cat-input"),this.$MComposerLegacyPlaceInput4=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-is-current"),this.$MComposerLegacyPlaceInput5=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-name-input"),this.$MComposerLegacyPlaceInput6=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-phone-input"),this.$MComposerLegacyPlaceInput7=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-website-input"),this.$MComposerLegacyPlaceInput8=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-address-input"),this.$MComposerLegacyPlaceInput9=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-zip-input"),this.$MComposerLegacyPlaceInput10=g.find(this.$MComposerLegacyPlaceInput1,"input","new-place-freeform"),this.$MComposerLegacyPlaceInput11=g.find(this.$MComposerLegacyPlaceInput1,"input","json-location"),this.$MComposerLegacyPlaceInput12=g.find(this.$MComposerLegacyPlaceInput1,"input","is-checkin"),this.addSubscriptions(i.addListener("change",this.$MComposerLegacyPlaceInput13.bind(this)))}a.prototype.$MComposerLegacyPlaceInput14=function(){"use strict";this.$MComposerLegacyPlaceInput2.value="",this.$MComposerLegacyPlaceInput5.value="",this.$MComposerLegacyPlaceInput6.value="",this.$MComposerLegacyPlaceInput7.value="",this.$MComposerLegacyPlaceInput8.value="",this.$MComposerLegacyPlaceInput9.value="",g.setContent(this.$MComposerLegacyPlaceInput3,null),this.$MComposerLegacyPlaceInput10.value="",this.$MComposerLegacyPlaceInput4.value="",this.$MComposerLegacyPlaceInput11.value="{}",this.$MComposerLegacyPlaceInput12.value=""};a.prototype.$MComposerLegacyPlaceInput13=function(){"use strict";i.isEmpty()?this.$MComposerLegacyPlaceInput14():this.$MComposerLegacyPlaceInput15()};a.prototype.$MComposerLegacyPlaceInput15=function(){"use strict";__p&&__p();this.$MComposerLegacyPlaceInput14();this.$MComposerLegacyPlaceInput12.value=!0;i.get(h.ID,!1)?this.$MComposerLegacyPlaceInput2.value=i.get(h.ID):this.$MComposerLegacyPlaceInput10.value=i.get(h.NAME,"");this.$MComposerLegacyPlaceInput11.value=i.get(h.JSON_LOCATION,"{}");if(i.get(h.IS_NEW)){this.$MComposerLegacyPlaceInput5.value=i.get(h.NAME,"");this.$MComposerLegacyPlaceInput6.value=i.get(h.PHONE,"");this.$MComposerLegacyPlaceInput7.value=i.get(h.WEBSITE,"");this.$MComposerLegacyPlaceInput8.value=i.get(h.ADDRESS,"");this.$MComposerLegacyPlaceInput9.value=i.get(h.ZIP,"");this.$MComposerLegacyPlaceInput10.value="";this.$MComposerLegacyPlaceInput4.value=i.get(h.IS_CURRENT,"");var a=i.get(h.TOPIC_TOKENS);a.value?this.$MComposerLegacyPlaceInput3.value=a.value:g.setContent(this.$MComposerLegacyPlaceInput3,a.map(function(a){return a.cloneNode(!0)}))}};e.exports=a}),null);
__d("XSharePreviewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_preview/",{sid:{type:"String"},surl:{type:"String"},existing_post_id:{type:"Int"}})}),null);
__d("MSharePreview",["CSS","DOM","MCompositionConfigFields","MCompositionConfigStore","MCompositionShareFields","MCompositionShareStore","MCompositionUserActions","MRequest","MSubscriptionsHandlerMixin","XSharePreviewAsyncController","$","mixin"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s;b=babelHelpers.inherits(a,r(o));s=b&&b.prototype;function a(a){"use strict";s.constructor.call(this),this.$MSharePreview1=h.scry(a,"div")[0],this.addSubscriptions(l.addListener("change",function(){return this.$MSharePreview2()}.bind(this)),h.listen(a,"click","close-link-preview-button",function(event){m.shareRemoveLinkPreview(l.get(k.SHARE_URI)),m.configDisablePhotosUpdate(!1)}))}a.prototype.init=function(){"use strict";__p&&__p();var a=j.get(i.POST_ID,null);if(!a)return;m.configDisablePhotosUpdate(!0);a=p.getURIBuilder().setInt("existing_post_id",a).getURI();this.$MSharePreview3=new n(a);this.$MSharePreview3.listen("finally",function(){g.hide(this.$MSharePreview1),this.$MSharePreview3=null}.bind(this));this.$MSharePreview3.send()};a.prototype.$MSharePreview2=function(){"use strict";__p&&__p();this.$MSharePreview3&&(this.$MSharePreview3.abort(),this.$MSharePreview3=null);if(l.isEmpty())h.setContent(q("mshare_preview_placeholder"),null);else{var a=l.get(k.ID),b=l.get(k.SHARE_URI);if(!a&&!b){h.setContent(q("mshare_preview_placeholder"),null);g.hide(this.$MSharePreview1);return}g.show(this.$MSharePreview1);a=p.getURIBuilder().setString("sid",a&&a.toString()).setString("surl",b).getURI();this.$MSharePreview3=new n(a);this.$MSharePreview3.listen("finally",function(){g.hide(this.$MSharePreview1),this.$MSharePreview3=null}.bind(this));this.$MSharePreview3.send()}};e.exports=a}),null);