if (self.CavalryLogger) { CavalryLogger.start_js(["rc3CP"]); }

__d("MReactTypeaheadView",["React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,g.Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.Renderer;return g.createElement(a,{data:this.props.data,query:this.props.query,waiting:this.props.waiting,loaderMarkup:this.props.loaderMarkup,onTouchStart:this.props.onTouchStart,onClickItem:this.props.onClickItem,simpleSearch:this.props.simpleSearch,excludedEntries:this.props.excludedEntries,maxSuggestionCount:this.props.maxSuggestionCount})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MLoadingSpinner.react",["MLoadingIndicator.react","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,h.Component);i&&i.prototype;a.prototype.render=function(){"use strict";return h.createElement("div",{className:this.props.className},h.createElement(g,{background:"light",size:"large"}))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("MTokenCollection.react",["React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;b=g.PropTypes;h=babelHelpers.inherits(a,g.Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.renderer,b=this.props.collection.entries.map(function(b,c){var d=null;return g.createElement(a,{collectionKey:this.props.collectionKey,entry:b,index:c,key:b.id,label:b.display,onRemove:this.props.onRemove,testid:d,truncate:this.props.truncateTokens})},this);return g.createElement("span",{className:this.props.className,onClick:this.props.onClick,role:"presentation"},b)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={className:b.string,collection:b.object.isRequired,collectionKey:b.string,onClick:b.func,onRemove:b.func,renderer:b.func.isRequired,tokenTestIDGenerator:b.func,truncateTokens:b.bool};e.exports=a}),null);
__d("MTokenRenderer.react",["React","cx","fbt","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;b=g.PropTypes;c=babelHelpers.inherits(a,g.Component);k=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){a.stopPropagation(),a.preventDefault(),this.props.onRemove&&this.props.onRemove(this.props.entry)}.bind(this),b}a.prototype.render=function(){"use strict";if(this.props.onRemove)var a="_5snx"+(this.props.truncate?" _p9m":""),b=g.createElement("button",{"aria-label":i._("Remove"),className:a,"data-sigil":"touchable",onClick:this.$1},g.createElement("span",{className:"_1xe9"},"\xa0\xd7\xa0"));a="_1xea"+(this.props.truncate?" _p9n":"");a=g.createElement("span",{className:a},this.props.label);var c="_5snw"+(this.props.truncate?" _p9o":""),d=g.createElement("input",{type:"hidden",value:this.props.entry.id,name:this.props.collectionKey+"["+this.props.index+"]"});return g.createElement("span",babelHelpers["extends"]({},this.props,{className:j(this.props.className,c)}),a,b,d)};a.propTypes={collectionKey:b.string,entry:b.object,index:b.number,label:b.string.isRequired,onRemove:b.func,testid:b.string,truncate:b.bool};e.exports=a}),null);
__d("MReactTypeahead",["DOM","EventEmitter","MPageController","MReactTypeaheadView","MRecentSearchesUpdater","MSearchConst","MSearchTypeaheadLogger","MSearchTypeaheadPerfLoggerUtil","MTypeaheadNullstateSource","MTypeaheadOnDemandSource","MTypeaheadTouchSource","MTypeaheadTouchSourceWithSuggestions","Parent","React","ReactDOM","Stratcom","SubscriptionsHandler","TypeaheadCompositeSource","URI","Vector","csx","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B){"use strict";__p&&__p();var C;b=t.PropTypes;var D=10;c=babelHelpers.inherits(a,t.Component);C=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=C.constructor).call.apply(a,[this].concat(d)),this.state={resultData:[],query:null,waiting:!1},this.$1=null,this.$3=null,this.listen=function(a,b){this.$3=this.$3||new h();return this.$3.addListener(a,b.bind(this))}.bind(this),this.$5=function(a,b){this.$3&&this.$3.emit.apply(this.$3,[a].concat(b))}.bind(this),this.waitForResults=function(){this.setState({waiting:!0})}.bind(this),this.showResults=function(a){this.props.setNullstateData!=null&&u.findDOMNode(this.refs.input).value===""&&(a=this.props.setNullstateData),this.props.hideSelected&&(a=this.$6(a)),a.forEach(function(a){a.uri=new y(a.uri).addQueryData("refid",l.refid);return a}),this.setState({resultData:a,waiting:!0},this.$7),this.$5("show",[a])}.bind(this),this.$6=function(a){var b=this.props.excludedEntries;return b?a.filter(function(a){return!b[a.id]}):a}.bind(this),this.$7=function(){this.state.query==null&&this.setState({waiting:!1})}.bind(this),this.complete=function(){this.setState({waiting:!1})}.bind(this),this.reset=function(){u.findDOMNode(this.refs.input).value="",this.query("",!0)}.bind(this),this.query=function(a,b){b=b||!1,(b||this.state.query!==a)&&(this.$5("update",[a]),this.$5("change",[a]),this.setState({query:a}))}.bind(this),this.inputChanged=function(){u.findDOMNode(this.refs.input).value===""&&this.query("")}.bind(this),this.onSearchFormSubmit=function(event){event.preventDefault();var a=u.findDOMNode(this.refs.input);a=a.value;this.$5("query",[this.state.resultData]);a=new y("/search/?query").addQueryData("query",a).toString();i.load(a)}.bind(this),this.setInputValue=function(a){a&&(u.findDOMNode(this.refs.input).value=a)}.bind(this),this.onKeyUp=function(event){var a=this.getInputValue();this.query(a);this.props.onKeyUp&&this.props.onKeyUp(event)}.bind(this),this.onClearButtonEvent=function(event){event.preventDefault(),this.reset(),this.focusInput()}.bind(this),this.getInputValue=function(){return u.findDOMNode(this.refs.input).value}.bind(this),this.getInputNode=function(){return u.findDOMNode(this.refs.input)}.bind(this),this.getValue=function(){return this.getInputValue()}.bind(this),this.focusInput=function(){u.findDOMNode(this.refs.input).focus()}.bind(this),this.blurInput=function(){u.findDOMNode(this.refs.input).blur()}.bind(this),this.$9=function(event,a,b){this.reset(),this.props.onClickItem&&this.props.onClickItem(event,a,b),this.props.showSelectedInput&&a.name&&this.setInputValue(a.name),this.$5("select",[s.bySelector(event.target,"._5fna")]),this.$5("result-selected",[a]),this.forceUpdate()}.bind(this),this.getDisplayedHeight=function(){var a=u.findDOMNode(this.refs.results),b=z.getPos(a).y;return z.getDim(a).y+b}.bind(this),this.getDatasource=function(){return this.$1}.bind(this),this.$10=function(a){this.$1&&this.$1.unbindFromTypeahead(this);this.$2&&(this.$2.release(),delete this.$2);this.$1=a;if(!this.$1)return;this.$2=new w();this.$2.addSubscriptions(a.listen("waiting",this.waitForResults),a.listen("resultsready",this.showResults),a.listen("complete",this.complete));a.bindToTypeahead(this)}.bind(this),this.configureDatasource=function(a){__p&&__p();if(this.$1)return;var b=this.props.typeaheadConfig.sources,c=[],d=new y(b.bootstrapped.src);if(this.props.includeFamilyTags){var e=d.getQueryData();e.filter.push("family_tags");d.setQueryData(e)}e=this.getTypeaheadTouchSource(d.toString(),b.bootstrapped.source_key,this.props.suggestions);e.setShowSecondaryAction(!0);e.clientRendered=!0;this.touchSource=e;c.push(e);b.nullstate&&(this.nullstateDataSource=this.getTypeaheadNullstateSource(b.nullstate.src),this.nullstateDataSource.setMaximumResultCount(b.nullstate.max_results),this.nullstateDataSource.setShowSecondaryAction(!0),this.nullstateDataSource.clientRendered=!0,c.push(this.nullstateDataSource));e=this.getTypeaheadOnDemandSource(b.online.src);e.setMaximumResultCount(b.online.max_results);e.setEnableImmediateReturnOfCachedResults(b.online.enable_caching);a&&(a.enableQueryThrottle&&e.setThrottleSendRequest(a.queryThrottleTime),e.setMaxResults(a.maxResults),e.setEnableEagerSendRequest(a.enableEagerSendRequest),e.setQueryDelay(a.queryWaitTime));e.setShowSecondaryAction(!0);e.clientRendered=!0;c.push(e);if(this.props.setAllSourceMaxCount)for(var d=0;d<c.length;d++){b=c[d];b.setMaximumResultCount(this.props.maxSuggestionCount)}var f=this.getTypeaheadCompositeSource(c);this.props.typeaheadConfig.excludeids&&this.props.typeaheadConfig.excludeids.forEach(function(a){f.addExcludeID(a)});f.clientRendered=!0;f.mergeKey="id";this.$10(f);this.$5("start")}.bind(this),this.configureMSideNavMarauderLogger=function(){if(!this.props.typeaheadConfig.mSideNavMarauderLogger||this.$12)return;this.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(this);this.$12=!0}.bind(this),this.configureMRecentSearchesUpdater=function(){if(this.props.typeaheadConfig.hasRecentSearches){var a=new k(this);this.$11().addSubscriptions({remove:a.destroy})}}.bind(this),this.configureMSearchTypeaheadLogger=function(){if(this.$13)return;this.$11().addSubscriptions(v.listen("m-typeahead-logger:new-session-id",null,this.addSessionIDToSearch));var a="/search/metrics.php",b=new m(this,a);this.$13=!0;this.$11().addSubscriptions(v.listen("log-m-search-session-end",null,function(a){b.blur(a.getData().reason)}))}.bind(this),this.configureMSearchTypeaheadPerfLogger=function(){if(!this.props.typeaheadConfig.typeaheadScubaInfo||this.$14)return;var a=n.getNewMSearchTypeaheadPerfLogger(this,this.props.typeaheadConfig.typeaheadScubaInfo,this.props.typeaheadConfig.sources.online.enable_caching);this.$11().addSubscriptions({remove:a.destroy});this.$14=!0}.bind(this),this.addSessionIDToSearch=function(a){if(!this.refs||!this.refs.searchForm)return;var b=u.findDOMNode(this.refs.searchForm),c=g.scry(b,"input","search-typeahead-session-id")[0];c||(c=document.createElement("input"),c.type="hidden",c.name="tsid",b.appendChild(c),v.addSigil(c,"search-typeahead-session-id"));c.value=a.getData().sessionID}.bind(this),this.getTypeaheadCompositeSource=function(a){return this.props.getTypeaheadCompositeSource?this.props.getTypeaheadCompositeSource(a):new x(a)}.bind(this),this.getTypeaheadOnDemandSource=function(a){return this.props.getTypeaheadOnDemandSource?this.props.getTypeaheadOnDemandSource(a):new p(a)}.bind(this),this.getTypeaheadTouchSource=function(a,b,c){if(this.props.getTypeaheadTouchSource)return this.props.getTypeaheadTouchSource(a,b);if(c){c=new r(a,b,c);this.props.maxSuggestionCount?c.setMaximumResultCount(this.props.maxSuggestionCount):c.setMaximumResultCount(D);return c}return new q(a,b)}.bind(this),this.getTypeaheadNullstateSource=function(a){return this.props.getTypeaheadNullstateSource?this.props.getTypeaheadNullstateSource(a):new o(a)}.bind(this),this.getTypeaheadType=function(){var a="m_side_nav";this.props.simpleSearch?a+="_simple":a+="_gsv2";return a}.bind(this),this.updateSuggestionsIds=function(a){this.touchSource&&this.touchSource.setSuggestionsIds(a),u.findDOMNode(this.refs.input).value===""&&this.reset()}.bind(this),this.$8=function(){this.props.onFocus&&this.props.onFocus(),this.query(this.getInputValue())}.bind(this),b}a.prototype.shouldComponentUpdate=function(a,b){__p&&__p();if(this.state.resultData!==b.resultData||this.state.waiting!==b.waiting)return!0;b=a.excludedEntries;var c=this.props.excludedEntries;for(var d in b)if(b[d]!==c[d])return!0;for(var e in c)if(c[e]!==b[e])return!0;return this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==a.maxSuggestionCount?!0:!1};a.prototype.componentDidMount=function(){this.refs.input.type="search",this.props.configureDataSourceOnNewProps&&this.configureDatasource(),this.props.focusOnMount&&this.focusInput(),this.props.initialInputValue&&this.setInputValue(this.props.initialInputValue)};a.prototype.UNSAFE_componentWillUpdate=function(){this.$5("render_start")};a.prototype.componentDidUpdate=function(a,b){this.props.onUpdate&&this.props.onUpdate(),this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==a.maxSuggestionCount&&(this.setDatasource(null),this.configureDatasource(),this.query(this.state.query,!0)),this.$5("rendered")};a.prototype.render=function(){var a=this.props.showClearButton&&this.state.query,b=this.props.typeaheadRootClassName||"_5fn4",c=t.createElement("input",{type:"search",ref:"input",className:"input",autoCorrect:"off",autoComplete:"off",autoCapitalize:"off",name:"query",placeholder:this.props.placeholder,onBlur:this.props.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.props.onKeyDown,onFocus:this.$8,onChange:this.inputChanged});this.props.typeaheadConfig.submitOnEnter&&(c=t.createElement("form",{ref:"searchForm",action:"/search",className:"_4e7a",onSubmit:this.onSearchFormSubmit},c,t.createElement("input",{type:"hidden",name:"source",value:"typeahead"})));var d="_5fn6 touchable";this.props.useStandardClearButton&&(d="_5fn6 touchable mClearButton");var e=this.props.hideSelected?this.$6(this.state.resultData):this.state.resultData;return t.createElement("div",{className:this.props.className},t.createElement("div",{className:b},t.createElement("div",{className:"_5fn5"},c,t.createElement("div",{className:d,"data-sigil":"touchable",style:{display:a?"":"none"},onMouseDown:this.onClearButtonEvent,onTouchStart:this.onClearButtonEvent},t.createElement("div",null,"\xd7")))),t.createElement(j,{ref:"results",Renderer:this.props.presenter.ViewRenderer,data:e,excludedEntries:this.props.excludedEntries,query:this.state.query,waiting:this.state.waiting,loaderMarkup:this.props.typeaheadConfig.loaderMarkup,onTouchStart:this.props.onTouchStart,simpleSearch:this.props.simpleSearch,onClickItem:this.$9,maxSuggestionCount:this.props.maxSuggestionCount}))};a.prototype.$11=function(){this.$4||(this.$4=new w());return this.$4};a.prototype.cleanup=function(){this.$10(null),this.$4&&this.$4.release()};a.prototype.componentWillUnmount=function(){this.cleanup()};a.propTypes={onClickItem:b.func,onBlur:b.func,onKeyUp:b.func,onKeyDown:b.func,onTouchStart:b.func,placeholder:b.string,presenter:b.object.isRequired,showClearButton:b.bool,typeaheadConfig:b.object.isRequired,excludedEntries:b.object,getTypeaheadOnDemandSource:b.func,getTypeaheadTouchSource:b.func,getTypeaheadCompositeSource:b.func,getTypeaheadNullstateSource:b.func,onFocus:b.func,simpleSearch:b.bool,suggestions:b.array,hideSelected:b.bool,maxSuggestionCount:b.number,configureDataSourceOnNewProps:b.bool,setAllSourceMaxCount:b.bool,setNullstateData:b.array,focusOnMount:b.bool,initialInputValue:b.string,showSelectedInput:b.bool};e.exports=a}),null);
__d("MTaggerResultsRow.react",["MXUIDiv.react","MXUILayout.react","MXUILayoutColumn.react","MXUILayoutFillColumn.react","React","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m;b=k.PropTypes;c=babelHelpers.inherits(a,k.Component);m=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=m.constructor).call.apply(a,[this].concat(d)),this.state={checked:!1},this.$1=function(){return k.createElement("div",{className:"_5rmb",style:{backgroundImage:"url("+this.props.data.photo+")"}})}.bind(this),this.$2=function(){var a=this.props.data;a=a.subtext;return!a?null:k.createElement("span",{className:"_5rmc"},a)}.bind(this),this.$3=function(event){this.setState({checked:!this.state.checked}),this.props.onClickItem&&this.props.onClickItem(event,this.props.data,this.props.checked)}.bind(this),b}a.prototype.render=function(){var a=this.props.data,b=this.props.checked?"_5tbv":"";return k.createElement(g,{"aria-checked":this.state.checked,className:"_5rmd",onClick:this.$3,role:"checkbox"},k.createElement(h,null,k.createElement(i,{key:"profile_image"},this.$1()),k.createElement(j,{alignself:"center",className:"_5rme",key:"display_name"},k.createElement("div",null,k.createElement("div",{className:"_5rmf"},a.display||a.name),this.$2())),k.createElement(i,{key:"check_mark"},k.createElement("div",{className:"_5tbx"},k.createElement("div",{className:b})))))};a.propTypes={data:b.object,onClickItem:b.func};e.exports=a}),null);
__d("MTaggerTypeaheadPresenter.react",["MTaggerResultsRow.react","React","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;b=h.PropTypes;var l=30;k=babelHelpers.inherits(a,h.Component);k&&k.prototype;a.prototype.render=function(){var a=this.props.data.slice(0,l).map(function(a){var b=!1;this.props.excludedEntries&&(b=!!this.props.excludedEntries[a.id]);return h.createElement(g,{key:a.id,data:a,onClickItem:this.props.onClickItem,checked:b})},this);return h.createElement("div",{className:"_53na",onTouchStart:this.props.onTouchStart},h.createElement("div",{className:"_1zep"},j._("SUGGESTIONS")),a)};function a(){k.apply(this,arguments)}a.propTypes={query:b.string,data:b.array,onClickItem:b.func,onTouchStart:b.func,excludedEntries:b.object};c={ViewRenderer:a};e.exports=c}),null);
__d("TokenCollection",[],(function(a,b,c,d,e,f){__p&&__p();function g(){"use strict";this.entries=[]}g.prototype.addEntry=function(a){"use strict";this.hasEntry(a)||this.entries.push(a);return this};g.prototype.removeEntry=function(a){"use strict";__p&&__p();if(this.hasEntry(a)){var b=0;while(b<this.entries.length){if(this.entries[b].id===a.id)break;b++}this.entries.splice(b,1)}return this};g.prototype.hasEntry=function(a){"use strict";var b=a.id;return this.entries.some(function(a){return a.id===b})};g.prototype.shallowClone=function(){"use strict";var a=new g();a.entries=this.entries.slice(0);return a};e.exports=g}),null);
__d("MTokenizer.react",["Keys","MLegacyDataStore","MReactTypeahead","MTaggerTypeaheadPresenter.react","MTokenCollection.react","MTokenRenderer.react","MViewport","React","ReactComponentRenderer","TokenCollection","Vector","cx","fbt","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u;a=n.PropTypes;b=babelHelpers.inherits(v,n.Component);u=b&&b.prototype;function v(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=u.constructor).call.apply(a,[this].concat(d)),this.state={focus:!1},this.init=function(){this.initWithoutFocus(),this.refs.typeahead.focusInput()}.bind(this),this.initWithoutFocus=function(){this.refs.typeahead.configureDatasource(),this.forceUpdate(),this.refs.typeahead.reset()}.bind(this),this.cleanup=function(){this.refs.typeahead.cleanup()}.bind(this),this.updateTypeahead=function(){this.forceUpdate()}.bind(this),this.onRemoveFromCollection=function(a){this.$1.removeEntry(a),this.props.onRemove&&this.props.onRemove(a),this.forceUpdate()}.bind(this),this.$3=function(a){this.state.focus||(a.preventDefault(),this.refs.typeahead.focusInput(),this.setState({focus:!0}))}.bind(this),this.$7=function(){this.$2===null&&(this.$2=m.getScrollTop())}.bind(this),this.$8=function(){this.$2!==null&&m.scrollTo(0,this.$2),this.$2=null}.bind(this),this.$5=function(event){if(this.props.scrollToTypeahead){this.$7();var a=this.refs.typeahead.getInputNode();a=q.getPos(a).y;m.scrollTo(0,a)}event.nativeEvent.keyCode===g.BACKSPACE&&this.$9()}.bind(this),this.$4=function(){this.props.scrollToTypeahead&&this.$8(),this.props.onInputBlur&&this.props.onInputBlur(),this.state.focus&&this.setState({focus:!1})}.bind(this),this.$6=function(event,a,b){b?this.onRemoveFromCollection(a):(this.$1.addEntry(a),this.props.onAdd&&this.props.onAdd(a)),this.props.hideSelected&&setTimeout(function(){this.refs.typeahead.focusInput()}.bind(this),0),event.stopPropagation(),this.forceUpdate()}.bind(this),this.getEntries=function(){return this.$1.entries}.bind(this),this.setEntries=function(a){this.$1.entries=a}.bind(this),this.$9=function(){var a=this.getEntries();a&&a.length&&!this.refs.typeahead.getInputValue()&&this.$1.removeEntry(a[a.length-1]);this.forceUpdate()}.bind(this),this.updateSuggestionsIds=function(a){this.init(),this.updateTypeaheadWithSuggestions(a)}.bind(this),this.updateTypeaheadWithSuggestions=function(a){this.refs.typeahead.updateSuggestionsIds(a)}.bind(this),this.focusAndUpdateSuggestionsIDs=function(a){this.refs.typeahead.updateSuggestionsIds(a),this.refs.typeahead.focusInput()}.bind(this),b}v.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$1=new p(),this.$2=null};v.prototype.componentWillUnmount=function(){"use strict";this.cleanup()};v.prototype.render=function(){"use strict";__p&&__p();var a=this.$1.entries||[],b={},c=a&&a.length>0;if(c)for(var d=0;d<a.length;++d)b[a[d].id]=!0;if(this.props.excludedEntries)for(var e in this.props.excludedEntries)b[e]=this.props.excludedEntries[e];a=c?null:this.props.placeholder;return n.createElement("div",babelHelpers["extends"]({},this.props,{className:t(this.props.className,"_5snt"),onClick:this.$3,role:"presentation"}),n.createElement(k,{ref:"collection",collection:this.$1,collectionKey:this.props.collectionKey,renderer:l,onRemove:this.onRemoveFromCollection}),n.createElement(i,{ref:"typeahead",className:"_5snu",typeaheadRootClassName:"_5snv",excludedEntries:b,placeholder:a,presenter:this.props.presenter,typeaheadConfig:this.props.typeaheadConfig,includeFamilyTags:this.props.includeFamilyTags,onBlur:this.$4,onKeyDown:this.$5,onClickItem:this.$6,suggestions:this.props.suggestions,hideSelected:this.props.hideSelected,maxSuggestionCount:this.props.maxSuggestionCount}))};v.propTypes={placeholder:a.string,typeaheadConfig:a.object.isRequired,presenter:a.object.isRequired,excludedEntries:a.object,collectionKey:a.string,onInputBlur:a.func,includeFamilyTags:a.bool,hideSelected:a.bool,onAdd:a.func,onRemove:a.func,maxSuggestionCount:a.number,scrollToTypeahead:a.bool};v.init=function(a){var b=s._("Start typing a name..."),c=h.get(a.container);c.tokenizer=new o(v,a.container);c.tokenizer.setProps({placeholder:b,presenter:j,typeaheadConfig:a.typeaheadConfig,suggestions:a.suggestions,hideSelected:a.hideselected,collectionKey:a.collectionKey});c.tokenizer.component.init()};e.exports=v}),null);
__d("MStructuredComposerTaggingInputReact",["React"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i="xy_tags",j="failed_suggestions";b=babelHelpers.inherits(a,g.Component);h=b&&b.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a,b,c,d){d=i+"["+d+"]";return g.createElement("div",{key:"tag"+a.fbid},g.createElement("input",{type:"hidden",name:d+"[x]",value:a.x}),g.createElement("input",{type:"hidden",name:d+"[y]",value:a.y}),g.createElement("input",{type:"hidden",name:d+"[fbid]",value:a.photoID}),g.createElement("input",{type:"hidden",name:d+"[name]",value:c}),g.createElement("input",{type:"hidden",name:d+"[subject]",value:b}),g.createElement("input",{type:"hidden",name:d+"[facebox]",value:a.fbid}),g.createElement("input",{type:"hidden",name:d+"[source]",value:"photos_touch_composer"}))},this.$2=function(){var a=this.props.tokenCollection,b=this.props.tagSuggestions,c=[],d=0;a.map(function(a){var e=b[a.id];e&&(c=c.concat(Object.keys(e).map(function(b){b=this.$1(e[b],a.id,a.name,d);d++;return b}.bind(this))))}.bind(this));return c}.bind(this),this.$3=function(a,b){b=j+"["+b+"]";return g.createElement("div",{key:"failed"+a.fbid},g.createElement("input",{type:"hidden",name:b+"[fbid]",value:a.fbid}),g.createElement("input",{type:"hidden",name:b+"[tagee]",value:a.recognitions[0].user.fbid}))},b}a.prototype.render=function(){"use strict";return g.createElement("div",null,this.$2(),this.props.failedSuggestions.map(this.$3))};e.exports=a}),null);
__d("XPhotosGetRecognitionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/photos/tagging/recognition/",{photos:{type:"IntVector"},recognition_project:{type:"String",defaultValue:"default"},include_unrecognized_faceboxes:{type:"Bool",defaultValue:!1},is_page:{type:"Bool",defaultValue:!1},target:{type:"Int"},include_face_crop_src:{type:"Bool",defaultValue:!1},include_recognized_user_profile_picture:{type:"Bool",defaultValue:!1},include_low_confidence_recognitions:{type:"Bool",defaultValue:!1},face_crop_width:{type:"Int",defaultValue:32},face_crop_height:{type:"Int",defaultValue:32}})}),null);
__d("MTagSuggestionsPoller",["MRequest","PhotosUploadWaterfallXMixin","PUWSteps","XPhotosGetRecognitionController","mixin","performanceNow"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m,n=4,o=2e3,p=8e3;b=babelHelpers.inherits(a,k(h));m=b&&b.prototype;function a(){"use strict";m.constructor.call(this),this.$MTagSuggestionsPoller1=o,this.$MTagSuggestionsPoller2=0,this.$MTagSuggestionsPoller3={},this.$MTagSuggestionsPoller4=!1,this.$MTagSuggestionsPoller5=null}a.prototype.setRecognitionProject=function(a){"use strict";this.$MTagSuggestionsPoller6=a;return this};a.prototype.setIncludeUnrecognized=function(a){"use strict";this.$MTagSuggestionsPoller7=a;return this};a.prototype.setTargetIsPage=function(a){"use strict";this.$MTagSuggestionsPoller8=a;return this};a.prototype.setTargetId=function(a){"use strict";this.$MTagSuggestionsPoller9=a;return this};a.prototype.setHandler=function(a){"use strict";this.$MTagSuggestionsPoller10=a;return this};a.prototype.setTimeoutHandler=function(a){"use strict";this.$MTagSuggestionsPoller11=a;return this};a.prototype.isPolling=function(){"use strict";return this.$MTagSuggestionsPoller4};a.prototype.setWaterfall=function(a,b,c){"use strict";this.$MTagSuggestionsPoller12=a;this.$MTagSuggestionsPoller13=b;this.$MTagSuggestionsPoller14=c;return this};a.prototype.addPhotoIDAndLog=function(a,b){"use strict";this.$MTagSuggestionsPoller3[a]=b,this.logStep(i.CLIENT_FACEREC_BEGIN,{fbid:a}),this.invalidateTimeout(),this.startMasterTimerIfNeeded()};a.prototype.removePhotoID=function(a){"use strict";delete this.$MTagSuggestionsPoller3[a]};a.prototype.hasPhotoID=function(a){"use strict";return Object.prototype.hasOwnProperty.call(this.$MTagSuggestionsPoller3,a)};a.prototype.$MTagSuggestionsPoller15=function(a){"use strict";return this.$MTagSuggestionsPoller3[a]};a.prototype.startMasterTimerIfNeeded=function(){"use strict";this.$MTagSuggestionsPoller5||(this.$MTagSuggestionsPoller16=l(),this.$MTagSuggestionsPoller5=setTimeout(this.$MTagSuggestionsPoller17.bind(this),p))};a.prototype.invalidateTimeout=function(){"use strict";this.$MTagSuggestionsPoller2=0,this.$MTagSuggestionsPoller5&&(clearTimeout(this.$MTagSuggestionsPoller5),this.$MTagSuggestionsPoller5=null)};a.prototype.start=function(){"use strict";__p&&__p();var a=this.$MTagSuggestionsPoller18();if(a.length>0){this.$MTagSuggestionsPoller4=!0;this.$MTagSuggestionsPoller2++;this.startMasterTimerIfNeeded();a=new g(this.$MTagSuggestionsPoller19(a));this.$MTagSuggestionsPoller20=a;a.listen("done",function(a){this.$MTagSuggestionsPoller21(a)}.bind(this));a.listen("error",function(a){this.$MTagSuggestionsPoller22(a)}.bind(this));a.setTimeout(p);a.send()}};a.prototype.$MTagSuggestionsPoller17=function(){"use strict";this.$MTagSuggestionsPoller11&&this.$MTagSuggestionsPoller11(this.$MTagSuggestionsPoller23()),this.abort()};a.prototype.abort=function(){"use strict";this.$MTagSuggestionsPoller4=!1;for(var a in this.$MTagSuggestionsPoller3)this.logStep(i.CLIENT_FACEREC_FAIL,{attempt_number:this.$MTagSuggestionsPoller2,elapsed_time:l()-this.$MTagSuggestionsPoller16,fbid:a});this.$MTagSuggestionsPoller3={};this.invalidateTimeout();this.$MTagSuggestionsPoller20&&(this.$MTagSuggestionsPoller20&&this.$MTagSuggestionsPoller20.abort(),this.$MTagSuggestionsPoller20=null)};a.prototype.$MTagSuggestionsPoller21=function(a){"use strict";if(a.payload){a=a.payload.filter(function(a){var b=a.fbid,c=this.hasPhotoID(b);c&&(a.attachmentID=this.$MTagSuggestionsPoller15(b),this.removePhotoID(b),this.logStep(i.CLIENT_FACEREC_SUCCESS,{attempt_number:this.$MTagSuggestionsPoller2,elapsed_time:l()-this.$MTagSuggestionsPoller16,xy_tag_count:a.faceboxes.length,fbid:b}));return c}.bind(this));a.length>0&&this.$MTagSuggestionsPoller10(a)}this.restart()};a.prototype.$MTagSuggestionsPoller22=function(a){"use strict";this.restart()};a.prototype.restart=function(){"use strict";this.$MTagSuggestionsPoller2<n?setTimeout(this.start.bind(this),this.$MTagSuggestionsPoller1):this.$MTagSuggestionsPoller17()};a.prototype.$MTagSuggestionsPoller18=function(){"use strict";var a=[];for(var b in this.$MTagSuggestionsPoller3)a.push(b);return a};a.prototype.$MTagSuggestionsPoller23=function(){"use strict";var a=[];for(var b in this.$MTagSuggestionsPoller3)a.push(this.$MTagSuggestionsPoller3[b]);return a};a.prototype.$MTagSuggestionsPoller19=function(a){"use strict";a=j.getURIBuilder().setIntVector("photos",a).setString("recognition_project",this.$MTagSuggestionsPoller6).setBool("include_unrecognized_faceboxes",this.$MTagSuggestionsPoller7).setBool("is_page",this.$MTagSuggestionsPoller8).setInt("target",this.$MTagSuggestionsPoller9).getURI();return a};a.prototype.getWaterfallID=function(){"use strict";return this.$MTagSuggestionsPoller12};a.prototype.getWaterfallAppName=function(){"use strict";return this.$MTagSuggestionsPoller13};a.prototype.getWaterfallSource=function(){"use strict";return this.$MTagSuggestionsPoller14};e.exports=a}),null);
__d("MTagSuggestionsController",["BanzaiODS","DOM","MStructuredComposerTaggingInputReact","MTagSuggestionsPoller","React","ReactDOM"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m="mtouch_composer_facerec_suggestions";function n(a,b,c,d,e,f){"use strict";this.$1=a,this.$1.setOnShow(this.onTokenizerInit.bind(this)),this.$1.setOnClear(this.reset.bind(this)),this.$2=b.getUploader(),this.$3=e,this.$3.setOnEntriesChangedHandler(this.$4.bind(this)),this.$5=0,this.$2.setProps({onPhotoUploadSuccess:this.onPhotoUploadSuccess.bind(this),onRemove:this.removeFaceboxesByPhotoID.bind(this)}),this.$6=new j().setRecognitionProject("composer_facerec").setIncludeUnrecognized(!0).setTargetIsPage(c==="page").setTargetId(d).setHandler(function(a){this.handleFaceboxResponse(a)}.bind(this)).setTimeoutHandler(function(a){this.onPollerTimeout(a)}.bind(this)).setWaterfall(this.$2.component.getWaterfallID(),this.$2.component.getWaterfallAppName(),this.$2.component.getWaterfallSource()),this.$7={},this.$8={},this.$9={},this.$10=!1,this.$11={},this.$12=!!f}n.prototype.onTokenizerInit=function(){"use strict";Object.keys(this.$9).length>0&&this.updateTypeaheadWithFaceboxSuggestions(),this.$10||(this.$10=!0,this.$1.getTokenizer().setProps({onAdd:this.$13.bind(this),onRemove:this.$14.bind(this)}))};n.prototype.$13=function(a){"use strict";this.$11[a.id]=!0};n.prototype.$14=function(a){"use strict";delete this.$11[a.id],a.autoTag&&g.bumpEntityKey(m,"remove_auto_tag")};n.prototype.$15=function(a){"use strict";__p&&__p();var b={};a.forEach(function(a){b[a.id]=!0});for(var c in this.$7)for(var d in this.$7[c]){a=this.$7[c][d];if(!a.tagUserID){if(!a.ignoreRecognition){var e=a.recognitions[0].user.fbid,f=a.recognitions[0].user.name;b[e]&&(a.tagUserID=e,a.tagName=f)}}else b[a.tagUserID]||(this.$8[a.tagUserID]&&a.ignoreRecognition&&delete this.$8[a.tagUserID][d],delete a.tagUserID,delete a.tagName)}};n.prototype.$4=function(a){"use strict";this.$15(a),this.$16(a)};n.prototype.$16=function(a){"use strict";__p&&__p();var b={};a.forEach(function(a){a=this.$8[a.id];for(var c in a){var d=a[c].attachmentID;b[d]||(b[d]=0);b[d]++}}.bind(this));this.$2.component.setAttachmentTagCounts(b)};n.prototype.onPhotoUploadSuccess=function(a,b){"use strict";this.$6.addPhotoIDAndLog(a,b),this.$2.component.setAttachmentProps(b,{isPollingTagSuggestions:!0}),this.$6.isPolling()||this.$6.start()};n.prototype.$17=function(a){"use strict";return{name:a.tagName,display:a.tagName,id:a.tagUserID,autoTag:!0}};n.prototype.handleFaceboxResponse=function(a){"use strict";__p&&__p();a.forEach(function(a){__p&&__p();var b=a.fbid,c=a.faceboxes;this.$2.component.setAttachmentProps(a.attachmentID,{isPollingTagSuggestions:!1});c.forEach(function(c){__p&&__p();c.photoID=b;c.attachmentID=a.attachmentID;this.$7[b]||(this.$7[b]={});this.$7[b][c.fbid]=c;if(c.recognitions.length>0){c.ignoreRecognition=!1;var d=c.recognitions[0].user.fbid;this.$8[d]||(this.$8[d]={});this.$8[d][c.fbid]=c;this.$9[d]||(this.$9[d]=0);this.$9[d]++;if(!this.$10&&this.$12){c.tagName=c.recognitions[0].user.name;c.tagUserID=d;d=this.$17(c);this.$3.addAutoToken(d)}}else c.ignoreRecognition=!0}.bind(this))}.bind(this));a=this.$3.getEntries();this.$15(a);this.$16(a)};n.prototype.removeFaceboxesByPhotoID=function(a){"use strict";__p&&__p();if(this.$6.hasPhotoID(a))this.$6.removePhotoID(a);else if(this.$7[a]){var b=this.$7[a];for(var c in b){var d=b[c];d.recognitions.length>0&&this.$18(d)}this.$7[a]=null}};n.prototype.$18=function(a){"use strict";__p&&__p();var b=a.tagUserID||a.recognitions[0].user.fbid;a.recognitions.length>0&&(this.$9[b]--,this.$9[b]===0&&delete this.$9[b]);if(this.$8[b]){delete this.$8[b][a.fbid];if(Object.keys(this.$8[b]).length<=0&&!this.$11[b]&&this.$12){b=this.$17(a);this.$3.onRemove(b)}else this.$16(this.$3.getEntries())}};n.prototype.updateTypeaheadWithFaceboxSuggestions=function(){"use strict";var a=Object.keys(this.$9);a=a.map(function(a){return+a});var b=this.$1.getTokenizer(),c=b.component.props.suggestions.map(function(a){return a.uid});c.forEach(function(b){a.indexOf(b)<0&&a.push(b)});b.updateTypeaheadWithSuggestions(a)};n.prototype.$19=function(){"use strict";var a=this.$1.getTokenizer();a.component.updateTypeaheadWithSuggestions([])};n.prototype.generateHiddenInput=function(a){"use strict";__p&&__p();var b=[];for(var c in this.$7)for(var d in this.$7[c]){var e=this.$7[c][d];e.recognitions.length>0&&e.ignoreRecognition&&e.tagUserID!==e.recognitions[0].user.fbid&&b.push(e)}e=h.create("div",{});h.appendContent(a,e);l.render(k.createElement(i,{tokenCollection:this.$3.getEntries(),tagSuggestions:this.$8,failedSuggestions:b}),e)};n.prototype.onPollerTimeout=function(a){"use strict";a.forEach(function(a){this.$2.component.setAttachmentProps(a,{isPollingTagSuggestions:!1})}.bind(this))};n.prototype.addXYTag=function(a){"use strict";var b=this.$7[a.photoID][a.fbid];b.recognitions.length>0&&this.$18(b);n.addFaceboxData(b,a.tagName,a.tagUserID);this.$8[b.tagUserID]||(this.$8[b.tagUserID]={});this.$8[b.tagUserID][b.fbid]=b;a=this.$17(b);this.$3.addManualXYTag(a);this.$5+=1};n.prototype.deleteXYTag=function(a){"use strict";var b=this.$7[a.photoID][a.fbid];b.ignoreRecognition=!0;delete b.tagUserID;delete b.tagName;this.$18(a);this.$5-=1};n.prototype.getNumXYTags=function(){"use strict";return this.$5};n.prototype.getFaceboxesCopyForPhoto=function(a){"use strict";var b={};for(var c in this.$7[a])b[c]=babelHelpers["extends"]({},this.$7[a][c]);return b};n.prototype.reset=function(){"use strict";this.$6.abort(),this.$9={},this.$7={},this.$8={},this.$19(),this.$10=!1,this.$11={},this.$5=0};n.addFaceboxData=function(a,b,c){"use strict";a.tagName=b,a.tagUserID=c,a.ignoreRecognition=!0};n.deleteFaceboxData=function(a){"use strict";delete a.tagUserID,delete a.tagName,a.ignoreRecognition=!0};e.exports=n}),null);
__d("MQuickSearch",["DOM","HTML","MRequest","MRequestTypes","MViewport","Stratcom","Vector","$","destroyOnUnload","eventsMixinDeprecated","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=[];function a(a,b){"use strict";__p&&__p();this._uri=a.uri;this._args=a.args||{};var c=n(a.nodeID);this._input=g.find(c,"input","quicksearch-input");this._button=g.scry(c,"*","quicksearch-button")[0];this._container=n(a.containerID);this._resultsBoxID=a.resultsBoxID;this._resultsBox=n(this._resultsBoxID);this._shouldScroll=a.shouldScroll;a.throbber&&(this._throbber=new h(a.throbber));this._request=null;this._searchLogger=b||null;this._listeners=[g.listen(this._input,"focus",null,this._focus.bind(this)),g.listen(this._input,"blur",null,this._cleanup.bind(this)),g.listen(this._input,"keydown",null,this._handleKeyDown.bind(this)),g.listen(this._input,"keyup",null,this._handleKeyUp.bind(this))];this._button&&this._listeners.push(g.listen(this._button,"click",null,this._click.bind(this)));this._args.bootstrap&&this.search(this._input.value);r.push(this);o(function(){l.removeCurrentListener(),r.forEach(function(a){return a._destroy()}),r=[]})}a.prototype._handleKeyDown=function(event){"use strict";this._scrollToContainer(),this._previousText=this._input.value};a.prototype._handleKeyUp=function(event){"use strict";if(event.getSpecialKey()==="delete"&&(this._args.bootstrap||this._args.showInitialResultsOnClear)){var a=this._input.value;a.trim()===""&&a!==this._previousText&&this.reset()}};a.prototype._scrollToContainer=function(){"use strict";if(this._shouldScroll){var a=m.getPos(this._container);k.scrollTo(a.x,a.y)}};a.prototype._update=function(){"use strict";__p&&__p();var a=this._input.value;if(this._previousText==a)return;this._previousText=a;if(/^\s*$/.test(a)&&!this._args.bootstrap){this._resetContent();this._abortRequest();return}this._saveInitialNodes();this.search(a)};a.prototype.search=function(a){"use strict";__p&&__p();if(this.invoke("search",a).getPrevented())return;this._throbber&&g.setContent(this._resultsBox,this._throbber);this.addQueryParameters({q:a||""});this._abortRequest();this._searchLogger&&this._searchLogger.onSearch(this._args);this._request=new i(this._uri);this._request.setType(j.DEPENDENT);this._request.listen("done",function(a){this._resultsBox=n(this._resultsBoxID),this._searchLogger&&this._searchLogger.onResults(this._request,this._resultsBox),this._needsDefaultNodes&&(this._saveInitialNodes(),this._needsDefaultNodes=!1),this._request=null}.bind(this));this._request.setMethod("GET");this._request.setData(this._args).send()};a.prototype._abortRequest=function(){"use strict";this._request&&this._request.abort()&&(this._request=null)};a.prototype._resetContent=function(){"use strict";this._resultsBox=n(this._resultsBoxID),g.setContent(this._resultsBox,this._initialNodes)};a.prototype.resetToThrobber=function(){"use strict";this._resultsBox=n(this._resultsBoxID),this._throbber&&this._resultsBox&&g.setContent(this._resultsBox,this._throbber)};a.prototype.addQueryParameters=function(a){"use strict";Object.assign(this._args,a)};a.prototype.maybeAddQueryParameters=function(a){"use strict";for(var b in a)b in this._args||(this._args[b]=a[b])};a.prototype.clear=function(){"use strict";this._input.value="",this._initialNodes=null};a.prototype._focus=function(event){"use strict";this._focused=!0,this._button&&(this._button.setAttribute("type","button"),this._button.disabled=!1),this._scrollToContainer(),this._previousText=this._input.value,clearInterval(this._interval),this._interval=q(this._update.bind(this),300)};a.prototype._click=function(event){"use strict";event.prevent(),this.reset()};a.prototype._cleanup=function(){"use strict";this._searchLogger&&this._searchLogger.onCleanup(),this._focused=!1,!this._input.value&&this._button&&(this._button.setAttribute("type","submit"),this._button.disabled=!0),clearInterval(this._interval)};a.prototype.reset=function(){"use strict";this._abortRequest(),this._cleanup(),this._saveInitialNodes(),this._resetContent(),this._input.value="",this._input.blur(),this._button&&(this._button.setAttribute("type","submit"),this._button.disabled=!0),this._args.showInitialResultsOnClear&&this.search(""),this._scrollToContainer()};a.prototype._saveInitialNodes=function(){"use strict";this._initialNodes||(this._initialNodes=Array.from(this._resultsBox.childNodes))};a.prototype._destroy=function(){"use strict";this._listeners.forEach(function(a){return a&&a.remove()}),this._listeners.length=0};a.prototype.setNeedsDefaultNodes=function(){"use strict";this._needsDefaultNodes=!0};a.getInstances=function(){"use strict";return r};p(a,["search"]);Object.assign(a.prototype,{_uri:null,_args:null,_input:null,_button:null,_container:null,_resultsBox:null,_shouldScroll:!0,_throbber:null,_focused:!1,_initialNodes:null,_previousText:null,_interval:null,_needsDefaultNodes:!1,_searchLogger:null});e.exports=a}),null);
__d("MQuickSearchOG",["MQuickSearch","Stratcom"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";__p&&__p();var b=new g(a);h.listen("m:quicksearch:actionSelected",null,function(a){var c={};c.atID=a.getData().at_id;c.placeID=a.getData().place_id;c.sid=a.getData().sid;b.setNeedsDefaultNodes();b.addQueryParameters(c);b.search()}.bind(this));h.listen("m:quicksearch:clear",null,function(){b.clear(),b.resetToThrobber()}.bind(this))}e.exports=a}),null);
__d("MPrivacyDeferredSelector",["MRequest","MRequestTypes","MURI","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=null,l=null,m=null;!1;var n=!1;function a(a,b,c,d){l=a,k=b,m=c,n=d,j.listen("MPrivacyDeferredSelector::init",null,function(event){o(event),j.removeCurrentListener()})}function o(event){var a=new i("/privacy/selector");a.setQueryData({pt_id:l,eco:k,selected:m,defaultSelector:!0,useSmallIcons:n});a=new g(a.toString());a.setType(h.DEPENDENT);a.send()}function b(a){j.invoke("MPrivacyDeferredSelector-loaded",null,{id:a})}function c(a){a}e.exports={init:a,informLoaded:b,setShowNewcomerAudienceSelector:c}}),null);
__d("MSubscriptionsHandlerMixin",["SubscriptionsHandler","destroyOnUnload"],(function(a,b,c,d,e,f,g,h){a={__subscriptionsHandler:null,addSubscriptions:function(){this.__subscriptionsHandler||(this.__subscriptionsHandler=new g(),h(function(){this.__subscriptionsHandler.release(),this.__subscriptionsHandler=null}.bind(this)));for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.__subscriptionsHandler.addSubscriptions.apply(this.__subscriptionsHandler,b)}};e.exports=a}),null);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}})}),null);
__d("WebGraphQLLegacyHelper",["invariant"],(function(a,b,c,d,e,f,g){"use strict";e.exports={getURI:function(a){var b=a.controller,c=a.docID,d=a.queryID;a=a.variables;c!=d&&(c||d)!=null||g(0);b=b.getURIBuilder();d?b.setFBID("query_id",d):b.setFBID("doc_id",c);a&&b.setString("variables",JSON.stringify(a));return b.getURI()}}}),null);