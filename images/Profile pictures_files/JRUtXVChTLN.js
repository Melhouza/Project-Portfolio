if (self.CavalryLogger) { CavalryLogger.start_js(["av1BT"]); }

__d("XFeedSubFollowController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/profile/sub_follow/",{id:{type:"Int"},action:{type:"Enum",enumType:1},location:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("MProfileSeeFirst",["Bootloader","CSS","DOM","FollowStrings","MRequest","MURI","Stratcom","SubscriptionsHandler","XFeedSubFollowController","$","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r,s,t,u="unfollow",v="follow",w="see_first",x="/a/subscriptions/remove",y="/a/subscriptions/add",z=151;function A(a,b,c,d,e,f,g,j,k,l,m,o,p){"use strict";this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e.children[0],this.$6=f,this.$7=g,this.$8=j,this.$9=k,this.$10=l,this.$11=!1,this.$12=m,this.$13=o,this.$16=p,h.addClass(this.getActiveFollowButton(this.$6),"selectedOption"),i.setContent(this.$5,this.getFollowString(this.$6)),this.$14=new n(),this.$14.addSubscriptions(i.listen(a,"click",null,function(){this.$6===u&&!this.$11&&(this.$1.setAttribute("data-sigil","follow-flyout"),this.changeFollowState(v)),this.$11=!this.$11,this.$11||s&&s.hideAwesomizerUpsell()}.bind(this)),i.listen(b,"click",null,this.changeFollowState.bind(this,u)),i.listen(c,"click",null,this.changeFollowState.bind(this,v)),i.listen(d,"click",null,this.changeFollowState.bind(this,w))),q(this.destroy.bind(this))}A.prototype.setActionBarFollowButton=function(a){"use strict";if(a===this.$6)return;h.removeClass(this.$1,"following");h.removeClass(this.$1,"seefirst");h.removeClass(this.$1,"follow");a===u?h.addClass(this.$1,"follow"):a===v?h.addClass(this.$1,"following"):h.addClass(this.$1,"seefirst");var b=i.find(this.$1,"*","m-profile-action-button-label");i.setContent(b,this.getActionBarButtonText(a))};A.prototype.changeFollowState=function(a){"use strict";__p&&__p();if(a===this.$6)return;a===u&&this.$1.removeAttribute("data-sigil");this.changeFollowStateUI(a);if(this.$6===u){var b=this.$13===z&&this.$16!==null&&this.$16!==undefined?new k(this.$16):new k(new l(y));b.setData({subject_id:this.$7,forceredirect:!1,location:this.$13});b.listen("done",function(a){a===w?this.changeSubFollowState(a):this.$6=a}.bind(this,a));b.listen("error",this.changeFollowStateUI.bind(this,this.$6));b.send()}else if(a===u){b=new k(new l(x)).setData({subject_id:this.$7,forceredirect:!1,location:this.$13});b.listen("error",this.changeFollowStateUI.bind(this,this.$6));b.listen("done",function(a){this.$6=a}.bind(this,a));b.send()}else this.changeSubFollowState(a);this.$10&&(a===u||a===w?this.renderAwesomizerUpsell(a,this.$12):a===v&&(s&&s.hideAwesomizerUpsell()))};A.prototype.renderAwesomizerUpsell=function(b,c){"use strict";g.loadModules(["React","ReactDOM","MAwesomizerUpsell.react"],function(d,e,f){a=d;r=e;t||(t=i.create("div"),p("page").appendChild(t));d={followState:b,isWorkUser:c};s=r.render(a.createElement(f,d),t)},"MProfileSeeFirst")};A.prototype.changeSubFollowState=function(a){"use strict";a===w&&(this.$15=m.listen("revert",null,function(){m.removeCurrentListener(),alert(this.$9),this.changeFollowStateUI(v),this.$6=v}.bind(this)));var b=o.getURIBuilder().setInt("id",this.$7).setEnum("action",a).setInt("location",this.$13).getURI();b=new k(b);b.listen("done",function(a){this.$6=a}.bind(this,a));b.listen("error",this.changeFollowStateUI.bind(this,this.$6));b.send()};A.prototype.changeFollowStateUI=function(a){"use strict";var b=this.getActiveFollowButton(a);h.removeClass(this.$2,"selectedOption");h.removeClass(this.$3,"selectedOption");h.removeClass(this.$4,"selectedOption");h.addClass(b,"selectedOption");this.setActionBarFollowButton(a);i.setContent(this.$5,this.getFollowString(a))};A.prototype.getActionBarButtonText=function(a){"use strict";if(a===u)return j.follow;else if(a===v)return j.followed;else return j.seeFirst};A.prototype.getFollowString=function(a){"use strict";if(a===u)if(this.$8)return j.unfollowFriendSubtextMobile;else return j.unfollowNonFriendSubtextMobile;else if(a===v)return j.regularFollowSubtextMobile;else return j.seeFirstSubtextMobile};A.prototype.getActiveFollowButton=function(a){"use strict";if(a===u)return this.$2;else if(a===v)return this.$3;else return this.$4};A.prototype.destroy=function(){"use strict";t&&(r.unmountComponentAtNode(t),i.remove(t),t=null,s=null),this.$14&&this.$14.release(),this.$14=null,this.$15&&this.$15.remove()};var B=null;b={init:function(a,b,c,d,e,f,g,h,i,j,k,l,m){B&&B.destroy(),B=new A(a,b,c,d,e,f,g,h,i,j,k,l,m)}};e.exports=b}),null);
__d("MBreakupUnfriendFlyoutClickListener",["DOM","MRequest","Stratcom"],(function(a,b,c,d,e,f,g,h,i){"use strict";a={bindListener:function(a,b){var c=g.listen(a,"click",null,function(){new h(b).send(),c.remove()});i.listen("m:page:unload",null,function(){i.removeCurrentListener(),c&&c.remove()})}};e.exports=a}),null);
__d("MProfileFriendingToggleButton",["CSS","DOM","MFriendingActionError","Stratcom","destroyOnUnload","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();function a(a,b,c){"use strict";__p&&__p();this.$1=a;this.$2=b;this.$3=c;var d=[h.listen(this.$1,"click",null,this.$4.bind(this)),j.listen("friending_state_change",null,this.$5.bind(this))];this.$2&&d.push(h.listen(this.$2,"click",null,this.$6.bind(this)));k(function(){this.$1=null;this.$2=null;while(d.length)d.pop().remove()}.bind(this))}a.prototype.$4=function(){"use strict";g.hide(this.$1),this.$2&&g.show(this.$2),this.$7()};a.prototype.$6=function(){"use strict";this.$2&&g.hide(this.$2),g.show(this.$1)};a.prototype.$7=function(){"use strict";var a=l("pymkMProfile");a&&h.remove(a)};a.prototype.$5=function(a){"use strict";__p&&__p();a=a.getData();if(a.userid!==this.$3)return;a.action==="cancel"&&(this.$2&&g.hide(this.$2),g.show(this.$1));if(a.error===i.SEND_OUTGOING_REQUEST_ERROR||a.error===i.CONFIRM_INCOMING_REQUEST_ERROR){this.$6();return}if(a.error===i.CANCEL_OUTGOING_REQUEST_ERROR){this.$4();return}};e.exports=a}),null);
__d("MProfileIntroCardLogging",["BanzaiLogger","DOM","MLegacyDataStore","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j){f.init=function(a,b,c,d){var e=h.listen(a,"click",c,function(event){return g.log(b,babelHelpers["extends"]({},d,i.get(event.getNode(c))))});j(function(){return e.remove()})}}),null);
__d("XProfileTilesLogDismissController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/tiles/log/dismiss/",{section_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MProfileTileActions",["CSS","DOM","MRequest","XProfileTilesLogDismissController","csx","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l){a={addCollapseListeners:function(a,b){var c=a.querySelector("._lvb");c!==null&&h.listen(c,"click",null,function(event){g.addClass(a,"_3n40");var c=j.getURIBuilder().setEnum("section_type",b);new i(c.getURI()).setMethod("POST").send()})}};e.exports=a}),null);
__d("MProfileTilesLogging",["BanzaiLogger","DOM","MLegacyDataStore","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j){var k="TimelineExpandedContextLoggerConfig",l="expanded-context-log";f.init=function(a){var b=h.listen(a,"click",l,function(a){return g.log(k,i.get(a.getNode(l)))});j(function(){return b.remove()})}}),null);
__d("MTimelineActionBar",["MarauderLogger","MLegacyDataStore","MParent","QE2Logger","Stratcom","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m="hq-profile-logging-action-bar-button";function n(){"use strict";var a=k.listen("click",[m],n.$1);l(function(){return a&&a.remove()})}n.$1=function(a){"use strict";j.logExposureForUser("frx_profile_msite_universe");a=a.getTarget();a=a instanceof Element?i.bySigil(a,m):null;if(a===null)return;a=h.get(a);a=a["hq-profile-logging"];g.log("profile_high_quality_action",undefined,a)};e.exports=n}),null);
__d("MTimelineCTRLogger",["BanzaiLogger","MLegacyDataStore","Stratcom"],(function(a,b,c,d,e,f,g,h,i){var j="timeline-ctr-logger";i.listen("click",j,function(a){a=h.get(a.getNode(j));g.log(a.config,a.data)});e.exports={}}),null);
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={isSupported:function(){return window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(h.isBrowser("Firefox < 41")||h.isPlatform("iOS < 10.3"))||h.isBrowser("Chrome >= 43")},copy:function(a,b){__p&&__p();b=b||document.body;if(!b)return!1;var c=!0,d=document.createElement("textarea");b.appendChild(d);d.value=a;if(h.isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(d);var e=window.getSelection();e.removeAllRanges();e.addRange(a);d.setSelectionRange(0,999999)}else d.select();try{c=document.execCommand("copy")}catch(a){c=!1}b.removeChild(d);return c},copyAsync:function(a){var b=window.navigator;if(b&&b.clipboard&&typeof b.clipboard.writeText==="function")return b.clipboard.writeText(a);return i.copy(a)?g.resolve():g.reject()}};e.exports=i}),null);
__d("MTimelineShareProfile",["Clipboard","MLegacyDataStore","Stratcom","destroyOnUnload","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k){var l="share_profile_link";a={init:function(){var a=i.listen("click",l,function(a){a=h.get(a.getNode(l));g.isSupported()&&g.copy(a.uri)?prompt(k._("The following link has been copied to your clipboard."),a.uri):prompt(k._("Tap and hold the link below to select and copy the address."),a.uri)});j(function(){a.remove()})}};e.exports=a}),null);
__d("MTimelineUnfriendConfirmation",["MLegacyDataStore","MRequest","Stratcom","destroyOnUnload","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="unfriend",m;function a(){if(m)return;m=i.listen("click",l,function(a){a=g.get(a.getNode(l));new h(a.unfriendAttemptURI).send();var b=k._("Are you sure you want to remove {name} as your friend?",[k._param("name",a.shortName)]);confirm(b.toString())&&new h(a.unfriendURI).send()});j(function(){m&&m.remove(),m=null})}f.init=a}),null);
__d("MTimelineUnit",["CSS","DOM","$","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a={hideByID:function(a){h.hide(i(a))},hideOffScreen:function(a,b){g.conditionClass(a,"deleting",!0);j(g.conditionClass.bind(null,a,"deleted",!0),0);if(b){var c=function c(d){a.removeEventListener(d.type,c,!0),b(a)};a.addEventListener("webkitTransitionEnd",c,!0)}},unhideOffScreen:function(a){h.show(a),j(g.conditionClass.bind(null,a,"deleted",!1),0)}};e.exports=a}),null);
__d("TimelineViewportTrackingLogType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",DURATION:"duration"})}),null);
__d("MTimelineViewportTracking",["Banzai","CSS","DataAttributeUtils","FBJSON","MEntstreamViewportTracking","StratcomManager","TimelineViewportTrackingLogType","cx","setTimeout"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p;p=babelHelpers.inherits(q,k);p&&p.prototype;q.init=function(a){l.enableDispatch(document,"scroll"),new q().init(a)};q.prototype.__getStreamRoot=function(){this.$MTimelineViewportTracking1=this.$MTimelineViewportTracking1||document.getElementById("timelineBody")||document.getElementById("root");return this.$MTimelineViewportTracking1};q.prototype.getStoryID=function(a){a=i.getDataFt(a);return!a?null:j.parse(a,e.id).tl_objid};q.prototype.sendDataToLog=function(a){g.post("timeline_feed_tracking",{ft:a,log_type:m.IMPRESSION})};q.prototype.markStoryRead=function(a){o(this.$MTimelineViewportTracking2.bind(this,a),1e3)};q.prototype.$MTimelineViewportTracking2=function(a){h.addClass(a,"_1tl-"),h.removeClass(a,"_1tl_"),h.removeClass(a,"_1tm0")};function q(){p.apply(this,arguments)}e.exports=q}),null);
__d("MTimelineXFriendingButton",["CSS","DOM","MFriendingActionError","Stratcom","destroyOnUnload","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m,n,o,p;function q(){var a=m.style.display!=="none",b=l("pymkMProfile");g.conditionShow(m,!a);g.conditionShow(n,a);b&&h.remove(b);a||o.hide()}function r(a){a=a.getData();if(a.userid!==p)return;(a.error===i.SEND_OUTGOING_REQUEST_ERROR||a.error===i.CANCEL_OUTGOING_REQUEST_ERROR)&&q();a.action==="cancel"&&o.hide()}function a(a,c,d){__p&&__p();m=a;n=c.getContext();b=h.find(c.getRoot(),"*","cancel-request-button");o=c;p=d;var e=[j.listen("friending_state_change",null,r),h.listen(m,"click",null,q),h.listen(b,"click",null,q)];k(function(){m=null;n=null;b=null;n=null;while(e.length)e.pop().remove()})}f.init=a}),null);
__d("MUnitFlyout",["CSS","DOM","MActionBubbleHelper","MLegacyDataStore","MParent","MTimelineUnit","Stratcom","$"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o;({});function a(a){__p&&__p();if(o)return;o=a;var b,c="m-unit-popup-opener",d="hidesUnit",e="deletesUnit",f="reportComponentUnit",p="reportUnit",q="action-title",r="action-subtitle";function s(){__p&&__p();var a=k.bySigil(o.getCausalElement(),c);a=j.get(a);var d=n(a.target);g.conditionClass(d,"editing",!0);var e=o.getRoot();a=a.editOptions;var f=h.scry(z,"a");f.forEach(function(a){i.toggleActionBubbleItem(a,!1,"MUnitFlyout",c)});for(var l in a)a[l].rel==="dialog"?u(e,l,a[l].uri):t(e,l,a[l].uri),v(e,l,a[l].label,a[l].subtitle,a[l].icon);b=d}function t(a,b,c){a=h.find(a,"a",b);a.href=c;a.removeAttribute("rel");m.removeSigil(a,"dialog-link");i.toggleActionBubbleItem(a,!!c,"MUnitFlyout",b)}function u(a,b,c){a=h.find(a,"a",b);var d=j.get(a);d.dialogURI=c;a.setAttribute("rel","dialog");m.addSigil(a,"dialog-link");i.toggleActionBubbleItem(a,!!c,"MUnitFlyout",b)}function v(a,b,c,d,e){__p&&__p();a=h.find(a,"a",b);if(c){b=h.find(a,"div",q);b&&(b.textContent=c)}if(d){b=h.find(a,"div",r);b&&(b.textContent=d)}if(e){c=h.find(a,"i");c&&h.replace(c,e)}}function w(){b&&(g.conditionClass(b,"editing",!1),b=null)}function x(event){__p&&__p();var a=event.getNode(d)||event.getNode(e);if(a){a=b;if(a&&m.hasSigil(a,f)){var c=k.bySigil(a,p),g=h.scry(c,"*",f);g.length<2&&(a=c)}g=event.getNode(e)?h.remove.bind(h,a):null;l.hideOffScreen(a,g)}o.hide()}function y(){o&&o.updateIfShown()}var z=a.getRoot(),A=[m.listen("m:page:unload",null,function(){while(A&&A.length>0)A.pop().remove();o=null;b=null;z=null;({})}),m.listen(["m-timeline-rebalance","m-timeline-section-loader:onshow"],null,y),a.addListener("beforeshow",s),a.addListener("hide",w),h.listen(z,"click",null,x)]}f.main=a}),null);
__d("MFlyoutAutoHideAfter",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=null,this.$2=a,this.$3=null}a.prototype.enable=function(){"use strict";this.$1=[this.$2.addListener("show",this.$4.bind(this)),this.$2.addListener("hide",this.$5.bind(this))],this.$2.isShown()&&this.$4()};a.prototype.disable=function(){"use strict";this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null;this.$2=null};a.prototype.$5=function(){"use strict";this.$3&&clearTimeout(this.$3),this.$3=null};a.prototype.$4=function(){"use strict";this.$5(),this.$3=setTimeout(this.$2.hide.bind(this.$2),this.$2.config.auto_hide_after*1e3)};e.exports=a}),null);