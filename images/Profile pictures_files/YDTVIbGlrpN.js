if (self.CavalryLogger) { CavalryLogger.start_js(["\/I\/cz"]); }

__d("MGenericJewel",["CSS","DOM","MHistory","MJewel","MJewels","MViewport","ScriptPath","Stratcom","$"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p={};function a(a,b,c){__p&&__p();if(p[a])return;p[a]=!0;var d,e;h.listen(o(j.JEWEL_NAV_NODE_ID),"click",a,function(b){b.getNode("icon")&&(b.prevent(),!d?(i.pushSoftState(a),n.invoke("MGenericJewel::clicked",a,{open:!0})):a===k.SEARCH&&n.invoke("m:chrome:tab:show",a,{open:!0})),m.set("topbar_"+a)});var f=!1;a===k.SEARCH&&c&&n.listen("m:graph-search:rendered",null,function(){g.conditionClass(c,"popover_hidden",!0),f=!0});n.listen("m:history:change",null,function(h){var i=h.getData().soft===a;!i&&(d||e)&&n.invoke("m:chrome:tab:hide",a);g.conditionClass(b,"popoverOpen",i);c&&!f&&(g.conditionClass(c,"popover_hidden",!i),g.conditionClass(c,"popover_visible",i),i&&(c.style.minHeight=l.getUseableHeight()+"px"));i&&!d&&(n.invoke("m:chrome:tab:show",a),g.addClass(b,"noCount"),g.removeClass(b,"hasCount"));e=h.getData().soft===undefined;d=i})}e.exports={init:a}}),null);
__d("MInitJewelCounts",["Arbiter"],(function(a,b,c,d,e,f,g){"use strict";function a(a){g.inform("m:jewels:init-counts",a,"persistent")}e.exports={main:a}}),null);
__d("MJewelSet",["MViewport","Popover","ScriptPath","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k={_haveInitializedJewels:!1,init:function(){if(k._haveInitializedJewels)return;k._haveInitializedJewels=!0;j.listen("m:viewport:orientation-change",null,k._onOrientationChange);j.listen("m:jewel:flyout:open",null,k._onJewelOpen)},_onJewelOpen:function(event){var a=event.getData();i.set("topbar_"+a.jewel)},_onOrientationChange:function(){setTimeout(function(){var a=h._activePopover;if(!a)return;g.getHeight()+"px"!==a.flyout.style.minHeight&&a.refreshConstraints()},800)}};e.exports=k}),null);
__d("XFeedNewStoriesBadgeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/badge/",{})}),null);
__d("MOutOfFeedNewStoriesPolling",["Arbiter","ArbiterToken","MPageController","MRequest","Stratcom","TimeSlice","XFeedNewStoriesBadgeController","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o=null,p=0,q=!1,r=new g(),s=9,t=15e3;function u(){if(p>s)return;clearTimeout(o);o=n(l.guard(function(){v()},"Feed jewel count polling",{propagationType:l.PropagationType.ORPHAN}),t)}function v(){var a=m.getURIBuilder().getURI();a=new j(a);a.listen("done",function(a){x(a.payload.count)});a.listen("finally",function(){a=null,u()});a.send()}function w(){x(0),clearTimeout(o),o=null}function x(a){p=a,r.inform("MOutOfFeedNewStoriesPolling/updateCount",{count:a},g.BEHAVIOR_STATE)}function a(a){y();return r.subscribe("MOutOfFeedNewStoriesPolling/updateCount",a)}function y(){if(q)return;q=!0;k.listen("m:homepage:load",null,function(){w()});k.listen("m:homepage:unload",null,function(){u()});i.isHomeishPath(location.href)||u()}e.exports={addPollingListener:a,MAX_COUNT:s}}),null);
__d("formatNumber",["fbt","intlNumUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a,b){return h.formatNumber(a,b)}function i(a,b){b=g._({"*":"{number}+"},[g._param("number",h.formatNumberWithThousandDelimiters(a,b),[0,a])]);return b.toString()}function j(a,b){b=g._({"*":"\u003C {number}"},[g._param("number",h.formatNumberWithThousandDelimiters(a,b),[0,a])]);return b.toString()}function b(a,b,c){return a>b?i(b,c):h.formatNumberWithThousandDelimiters(a,c)}function c(a,b,c){return a<b?j(b,c):h.formatNumberWithThousandDelimiters(a,c)}a.withThousandDelimiters=h.formatNumberWithThousandDelimiters;a.withMaxLimit=b;a.withMinLimit=c;e.exports=a}),null);
__d("MFeedJewel",["CSS","DOM","MHistory","MJewel","MJewels","MOutOfFeedNewStoriesPolling","MPageController","MURI","QE2Logger","ScriptPath","Stratcom","SubscriptionsHandler","$","formatNumber"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u,v,w,x;function y(a){g.conditionClass(x,"popoverOpen",!0)}function z(a){g.conditionClass(x,"popoverOpen",!1)}function A(){if(w)return;w=new r();w.addSubscriptions(h.listen(s(j.JEWEL_NAV_NODE_ID),"click","feed",D));w.addSubscriptions(q.listen("m:history:change",null,C))}function B(){w&&w.release(),w=null}function C(a){a=a.getData().soft;for(var b=0,c=Object.keys(k);b<c.length;b++)if(k[c[b]]===a){z();return}y()}function D(a){var b=a.getNode("icon").getAttribute("href");new n(b).normalize().toString()===new n(i.getPath()).normalize().toString()&&(a.kill(),m.reload({reloaded:!0}));p.set("topbar_feed")}function E(a){h.setContent(u,t.withMaxLimit(a,l.MAX_COUNT)),g.conditionClass(x,"noCount",a===0),g.conditionClass(x,"hasCount",a>0)}function a(a,b){__p&&__p();if(v)return;v=!0;x=a;u=h.find(x,"span","count");q.listen("m:homepage:load",null,function(){y(),A()});q.listen("m:homepage:unload",null,function(){z(),B()});b&&A();u&&l.addPollingListener(function(a,b){return E(b.count)})}e.exports={init:a}}),null);
__d("XNotificationJewelContentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/notifications/jewel/content/",{spinner_id:{type:"String",required:!0}})}),null);
__d("MNotificationsJewel",["Arbiter","DOM","EventListener","MJewel","MJewels","MLogState","MRequest","MURI","Popover","Stratcom","XNotificationJewelContentController","invariant","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";__p&&__p();var t="notif_",u,v,w,x=!1,y={};function z(){u||r(0),g.subscribe("m:jewels:init-counts",A,"all"),v=u.listen("jewel_click",C),u.listen("cleared",E),x||(x=!0,p.listen("m_notification",null,G),p.listen("m:jewel-set:notifications-jewel:refresh-flyout",null,I.refreshNotificationsConstraints),p.listen("notifications_read",null,H),p.listen("notifications_seen",null,H),p.listen("m:jewel:flyout:open",null,B))}function A(event,a){var b=a.unread_notification_ids;a=a.notification_count;b&&(y=b);a&&u&&(u.reregisterListeners(),u.updateCount(a,E))}function B(event){var a=event.getData();if(a.jewel!=="notifications")return;F()}function C(){u||r(0),v&&(v.remove(),v=null),new m("/a/jewel_notifications_log.php").addData({click_type:"jewel_click",count:u.getCount()}).send()}function D(a){return t+a}function E(){v&&(v.remove(),v=null);var a=y;y={};var b=[];for(var c in a)b.push(c);a=new m(new n("/a/jewel_notifications_read.php").toString());a.addData({ids:b,count:b.length,seen:!0});a.send()}function F(){u||r(0);var a=u._getContentsElement(),b="notifications-flyout-loading";if(p.hasSigil(a,b)){b=q.getURIBuilder().setString("spinner_id",a.getAttribute("id")).getURI();w||(w=new m(b),w.listen("finally",function(){w=null}),w.send())}}function G(event){__p&&__p();u||r(0);var a=event.getData();if(a&&a.data){if(a.data.type==="friend_confirmed")return;!u.isOpen()&&!y[a.data.alert_id]&&u.setCount(a.data.unread+u.getCount());u.removeMenuContent(D(a.data.alert_id));y[a.data.alert_id]=!0;u.isOpen()&&E();F()}}function H(event){__p&&__p();u||r(0);var a=event.getData();if(!a)return;var b=event.getType()=="notifications_read";if(a.alert_ids){var c=0;for(var d=0;d<a.alert_ids.length;d++)y[a.alert_ids[d]]&&(delete y[a.alert_ids[d]],b&&u.updateMenuColor(D(a.alert_ids[d]),!0,!1),c++);d=u.getCount();u.setCount(d-c)}else{u.setCount(0);if(b)for(var e in y)u.updateMenuColor(D(e),!0,!1);y={}}}var I={initJewel:function(){u=new j("notifications",{pos:l.CLICK_POSITION_NOTIFICATIONS_FLYOUT,softState:k.NOTIFICATIONS}),z()},refreshNotificationsConstraints:function(){o.getInstance("notifications_flyout").refreshConstraints()},refreshNotificationsConstraintsOnImageLoad:function(){var a=document.getElementById("notifications_flyout");if(!a)return;I.refreshNotificationsConstraints();var b=s(I.refreshNotificationsConstraints,500);h.scry(a,"img","notif_thumb").forEach(function(a){var c=i.listen(a,"load",function(){c.remove(),b()})})}};e.exports=I}),null);
__d("XBookmarksFlyoutBodyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/bookmarks/flyout/body/",{id:{type:"String",required:!0}})}),null);
__d("MChromeTabsBootloader",["MJewels","MRequest","Stratcom","XBookmarksFlyoutBodyController"],(function(a,b,c,d,e,f,g,h,i,j){a={bootloadBookmarks:function(a){i.listen("m:chrome:tab:show",g.BOOKMARKS,function(){i.removeCurrentListener(),new h(j.getURIBuilder().setString("id",a).getURI()).send()})}};e.exports=a}),null);
__d("MJewelNotifications",["Bootloader","ChannelEventType","MRequest","MURI","Run","Stratcom","SubscriptionsHandler","isFacebookURI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=[],this.$3=!1,this.$4=!1,this.$5=new m(),this.$5.addSubscriptions(k.onLeave(function(){this.$5.release()}.bind(this)),l.listen(h.NOTIFICATIONS_NEW,null,this.onNotificationReceive.bind(this)))}a.prototype.getNotifications=function(){return this.$2};a.prototype.registerListeners=function(){this.$5.addSubscriptions(l.listen(h.NOTIFICATIONS_READ,null,this.onNotificationRead.bind(this)),l.listen("click","live-notifications",this.onNotificationClick.bind(this)),l.listen("m:jewel:flyout:open",null,this.onJewelOpen.bind(this)))};a.prototype.onJewelOpen=function(event){var a=event.getData();a=a&&a.jewel&&a.jewel==="notifications";a&&this.$4&&this.updateUI()};a.prototype.onNotificationClick=function(event){var a=event.getNode("live-notification");if(!a)return;a=a.getAttribute("data-alertid");this.readNotification(a);this.updateUI();new i("/a/jewel_notifications_log.php").addData({click_type:"jewel_notif_click",id:a}).send()};a.prototype.onNotificationRead=function(event){var a=event.getData();a&&a.alert_ids&&(a.alert_ids.forEach(function(a){this.readNotification(a)}.bind(this)),this.updateUI())};a.prototype.readNotification=function(a){this.$2.forEach(function(b){b.alert_id==a&&(b.unread&&(this.$4=!0),b.unread=!1)}.bind(this))};a.prototype.addNotification=function(a){this.$2=this.$2.filter(function(b){return b.alert_id!==a.alert_id}),a.timestamp=Date.now(),this.$2.push(a),this.$4=!0};a.prototype.onNotificationReceive=function(event){var a=event.getData();if(a&&a.data){if(a.data.type==="friend_confirmed")return;this.$3||(this.$3=!0,this.registerListeners());this.addNotification(a.data);this.updateUI()}};a.prototype.updateUI=function(){if(!this.$3||!this.$4)return;g.loadModules(["React","ReactDOM","MJewelNotificationList.react","Popover"],function(a,b,c,d){if(!d.getInstance("notifications_flyout").isOpen())return;var e={notifications:this.$2};b.render(a.createElement(c,e),this.$1);d.getInstance("notifications_flyout").refreshConstraints();this.$4=!1}.bind(this),"MJewelNotifications")};e.exports=a}),null);
__d("MSideNavMarauderLogger",["MarauderLogger","MLegacyDataStore","MTouchClick","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k="";function a(event){g.toggleModule("sidebar_menu",!0)}function b(event){g.toggleModule("sidebar_menu",!1)}function c(event){var a=event.getNode("tag:a"),b=event.getNode("tag:div");g.log("open_application","sidebar_menu",{application_link_type:"local_module",display_name:b?b.innerText:"unknown",url:a&&a.href});g.setNavigationModule("sidebar_menu")}function d(){o("session_start")}function f(){o("cancel")}function l(a){__p&&__p();a=a.getData();if(a.node.rel<=0)return;var b=0,c="",d=h.get(a.node);d&&(b=d.bootstrap?1:0,c=d.type);d=0;var e=null;for(var f=0;f<a.results.length;f++){var g=a.results[f];if(g.rel>0){if(g.rel==a.node.rel){e=d;break}d++}}o("click",{query:a.query,is_bootstrapped:b,display_position:e},c,a.node.rel)}function m(a){a=a.getData();o("click",{query:a.query,is_bootstrapped:a.node.bootstrap?1:0,display_position:a.position},a.node.type,a.node.id)}function n(a){k!==a&&o("search_keystroke",{prev_query:k,new_query:a}),k=a}function o(a,b,c,d){g.log(a,"search_typeahead",b,c,d)}function p(a){return a.listen("change",n)}j.listen("m:side-area:show",null,a);j.listen("m:side-area:hide",null,b);j.listen("click","side-menu-item",c);a=i.hasTouchEvents()?"touchend":"click";j.listen(a,"search-activator",d);j.listen(a,"graph-search-activator",d);j.listen("click","graph-search-entry-point",d);j.listen("m:search-overlay:cancel",null,f);j.listen("m:search-overlay:cancel-react",null,f);j.listen("m:search-typeahead:select",null,l);j.listen("m:search-typeahead:select-react",null,m);e.exports={setupTypeaheadListener:p}}),null);
__d("MBackToNewsFeed",["JavelinHistory","MHistory"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={init:function(){__p&&__p();if(!i._isBrowserSupported())return;if(h.hasSoftState())return;if(history.state&&history.state.addedNewsFeed)return;var a=location.href,b=document.title;document.title="Facebook";window.history.replaceState({},"Facebook","/home.php");window.history.pushState({addedNewsFeed:1},"Current",a);document.title=b},_isBrowserSupported:function(){return g.CAN_USE_PUSH_STATE}};e.exports=i}),null);
__d("MBackToTop",["JavelinHistory","MPageController","MPageControllerPath","MStopNGo","MViewport","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=k.getScreenHeight(),n={init:function(a){__p&&__p();if(!n._isBrowserSupported())return;if(n._initialized)return;n._initialized=!0;n._reload=a.reload;j.listen("go",n._pushScrollingStateIfNeeded);j.listen("stop",function(){return setTimeout(n._pushScrollingStateIfNeeded,1e3)});l.listen("popstate",null,n._onpopstate)},_onpopstate:function(a){n._lastpop=Date.now();if(!n._isPathSupported())return;if(n._isScrollingState())return;i.isRequestPath(location.href)&&k.getScrollTop()>m&&(window.setTimeout(function(){k.scrollToTop(),n._reload==="full"&&h.reload()},1),a.stop())},_pushScrollingStateIfNeeded:function(){if(!n._isPathSupported())return;if(n._isScrollingState())return;k.getScrollTop()>m&&Date.now()-n._lastpop>1e3&&window.history.pushState({scrolling:1},null)},_initialized:!1,_lastpop:0,_reload:null,_isScrollingState:function(){var a=window.history.state;return a&&a.scrolling},_isBrowserSupported:function(){return g.CAN_USE_PUSH_STATE},_isPathSupported:function(){return h.isHomeishPath(location.href)}};e.exports=n}),null);
__d("MNotificationClick",["CSS","MLegacyDataStore","MRequest","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k="notification",l="list_",m="acw",n="aclb",o={},p=!1;e.exports={init:function(){if(p)return;j.listen("click",k,q);j.listen("m:page:render:cache:complete",null,r);p=!0}};function q(event){var a=event.getNode("touchable");if(!a)return;var b=h.get(a).notif_id;if(!b)return;new i("/a/jewel_notifications_log.php").addData({click_type:"notification_click",id:b,target_id:h.get(a).target_id}).send();s(event)}function r(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in o)t(b)}function s(event){__p&&__p();var a=event.getNode("marea");if(!a)return;a=a.getAttribute("id");if(!a)return;t(a);var b=a.startsWith(l)?a.substring(l.length):l+a;t(b);o[a]=!0;o[b]=!0}function t(a){a=document.getElementById(a);a&&(g.addClass(a,m),g.removeClass(a,n))}}),null);
__d("MActionBubbleMask",["CSS","DOM","MViewport","Stratcom","cx","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m="_5nvw",n="_5nvx",o=300;function a(a){"use strict";this.$1=null,this.$2=null,this.$3=a}a.prototype.enable=function(){"use strict";var a=this.$3.getRoot().getAttribute("data-mask-class");a||(a=m);this.$2=h.create("div",{className:a});this.$1=[this.$3.addListener("show",this.$4.bind(this)),this.$3.addListener("hide",this.$5.bind(this)),this.$3.addListener("reposition",this.$6.bind(this)),h.listen(this.$2,"touchend",null,function(a){a.stop()})];this.$3.isShown()&&this.$4()};a.prototype.disable=function(){"use strict";this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null;this.$2=null};a.prototype.$4=function(){"use strict";h.insertBefore(this.$3.getRoot(),this.$2),g.addClass(this.$3.getCausalElement(),n),this.$7=j.listen("scroll",null,this.$6.bind(this)),this.$6()};a.prototype.$5=function(){"use strict";h.remove(this.$2);var a=this.$3.getCausalElement();a&&g.removeClass(a,n);this.$7&&this.$7.remove();this.$7=null};a.prototype.$6=function(){"use strict";l(function(){this.$2.style.top=i.getScrollTop()-o+"px",this.$2.style.height=i.getHeight()+o*2+"px"}.bind(this))};e.exports=a}),null);
__d("MLayerHideOnCloseClick",["DOM"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=null,this.$2=null,this.$3=a}a.prototype.enable=function(){"use strict";this.$1=[this.$3.addListener("show",this.$4.bind(this)),this.$3.addListener("hide",this.$5.bind(this))],this.$3.isShown()&&this.$4()};a.prototype.disable=function(){"use strict";this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null};a.prototype.$5=function(){"use strict";this.$2&&this.$2.remove()};a.prototype.$4=function(){"use strict";this.$2=g.listen(this.$3.getRoot(),"click","mlayer-hide-on-click",this.$3.hide.bind(this.$3))};e.exports=a}),null);
__d("MSearchTabBar",["CSS","DOM","MActionBubbleMask","MFlyout","MLayerDestroyOnTransition","MLayerHideOnBlur","MLayerHideOnCloseClick","Stratcom","SubscriptionsHandler","containsNode","cx","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";__p&&__p();function s(a,b,c){__p&&__p();c===void 0&&(c={destroyOnTransition:!0}),this.render=function(){__p&&__p();this.$3==null&&(this.$3=h.create("div",{className:"button touchable _x02 _x03"},h.create("div",{className:"_x04"})),this.$9.addSubscriptions(h.listen(this.$3,"click",null,this.$12)),h.appendContent(this.$1,this.$3));this.$4==null&&(this.$4=h.create("div",{className:"_x08"}));if(this.$8==null){var a=[l,i,m];this.$10.destroyOnTransition&&a.push(k);this.$8=new j({classNames:["_55i2","accelerate"],nubalign:"center",offsetY:5,position:"below",margin:"none",width:"wide",addedBehaviors:a,context:this.$3},this.$4)}a=this.$5;if(a==null){a=[];for(var b=this.$2,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a.push(h.create("a",{href:e.uri,className:"_x0a"+(e.is_selected===!0?" _x0b":""),"data-sigil":"mlayer-hide-on-click"},e.label))}h.prependContent(this.$1,a);this.$5=a}e=this.$6;e==null&&(e=this.$3.offsetWidth,this.$6=e);d=this.$1.offsetWidth-e;c=0;b=0;e=a.length;var f;for(;b<a.length;b++)this.$2[b].is_selected&&(f=b),this.$7[b]==null&&(this.$7[b]=a[b].offsetWidth),c+=this.$7[b],e===a.length&&c>d&&(e=b);b=a.slice();if(e<b.length&&f!=null&&f>=e){c=b[f];b.splice(f,1);b.splice(e-1,0,c)}for(var d=0;d<b.length;d++)d<e?h.appendContent(this.$1,b[d]):h.appendContent(this.$4,b[d]);h.appendContent(this.$1,this.$3);e<b.length?g.removeClass(this.$3,"_x03"):g.addClass(this.$3,"_x03")}.bind(this),this.$12=function(event){if(!p(this.$3,event.getTarget()))return;g.addClass(this.$3,"_x0d");n.addSigil(this.$3,"selected");n.removeCurrentListener()}.bind(this),this.$11=function(){g.removeClass(this.$3,"_x0d"),n.removeSigil(this.$3,"selected"),n.listen("click",null,this.$12)}.bind(this),this.$1=a,this.$7=[],this.$10=c,this.$9=new o(),this.$9.addSubscriptions(n.listen("m:flyout:close",null,this.$11),n.listen(["m:viewport:orientation-change","resize"],null,r(this.render,200))),c.destroyOnTransition&&this.$9.addSubscriptions(n.listen("m:page:unload",null,function(){this.$9.release()}.bind(this))),b!=null&&this.setTabs(b)}s.prototype.setTabs=function(a){this.$2=a;this.$5!=null&&this.$5.forEach(function(a){return h.remove(a)});this.$5=null;this.render();return this};s.init=function(a,b,c){c===void 0&&(c={destroyOnTransition:!0});return new s(a,b,c)};e.exports=s}),null);
__d("XGroupSearchResultsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/search/",{groupID:{type:"Int"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},source:{type:"String"}})}),null);
__d("MSearchSimplificationUtils",["MHistory","URI","XGroupSearchResultsController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=new RegExp("^/(search/top|graphsearch/str.+/keywords_(top|search))"),k=new RegExp("^/(search|graphsearch|groups/search)"),l=new RegExp("^/(groups/search)");function m(a){var b=g.getPath();b=new h(b).getPath();return b.match(a)!=null}var n={getKeywordSemantic:function(a){return"keywords_search("+a+")"},getKeywordURI:function(a){return new h("/search/top/").addQueryData("q",a)},getGroupSearchURI:function(a,b){return i.getURIBuilder().setInt("groupID",a).setString("query",b).getURI()},isSearchURI:function(a){return a.getPath().match(k)!=null},isTopTabURI:function(a){return a.getPath().match(j)!=null},isCurrentPathTopTabPath:function(){return m(j)},isCurrentPathSERPPath:function(){return m(k)},isCurrentPathScopedSearchPath:function(){return m(l)},isTypeaheadOpen:function(){return g.getParam(g.SOFT_STATE_KEY)==="search"},isTabOverlayOpen:function(){return g.getParam(g.SOFT_STATE_KEY)!=null},getQueryFromCurrentPath:function(){if(!n.isCurrentPathSERPPath())return null;var a=new h(g.getPath()),b=a.getQueryData();if(b.q!=null)return b.q;b=a.getPath();a=b.match(/\/graphsearch\/str\/([^\/]+)/);return a!=null?decodeURIComponent(a[1]).replace(/\+/g," "):null}};e.exports=n}),null);
__d("MSearchTabsAboveBEM",["DOM","MSearchSimplificationUtils","MSearchTabBar","Stratcom","SubscriptionsHandler","URI","csx","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();function p(a){this.$10=function(){this.$12()}.bind(this),this.$9=function(){this.$12()}.bind(this),this.$11=function(){var a=h.isCurrentPathSERPPath();a||p.setTabs(this.$8())}.bind(this),this.$3=a}p.prototype.enable=function(){this.$1={isVisible:!1};this.$2=g.create("div",{className:"_1t4h"});var a=document.querySelector("._234-");a!=null?g.insertBefore(a,this.$2):g.appendContent(this.$3.getRoot(),this.$2);p.$7=i.init(this.$2,p.$6!=null?p.$6:this.$8(),{destroyOnTransition:!1});g.hide(this.$2);this.$4=new k();this.$4.addSubscriptions(j.listen("m:page:render:complete",null,this.$9),j.listen("m:history:change",null,this.$10),j.listen("m:page:unload",null,this.$11));this.$12()};p.prototype.disable=function(){this.$4.release(),g.remove(this.$2)};p.prototype.$12=function(){var a=h.isCurrentPathSERPPath(),b=h.isTypeaheadOpen(),c=h.isCurrentPathScopedSearchPath();this.$13({isVisible:a&&!b&&!c})};p.prototype.$13=function(a){var b=babelHelpers["extends"]({},this.$1);this.$1=babelHelpers["extends"]({},this.$1,a);b.isVisible!==this.$1.isVisible&&(this.$1.isVisible?(g.show(this.$2),p.$7.render()):g.hide(this.$2))};p.prototype.$8=function(){this.$5==null&&(this.$5=[{is_selected:!0,label:o._("All"),uri:new l("#")},{label:o._("Posts"),uri:new l("#")},{label:o._("People"),uri:new l("#")},{label:o._("Photos"),uri:new l("#")},{label:o._("Videos"),uri:new l("#")},{label:o._("Pages"),uri:new l("#")},{label:o._("Places"),uri:new l("#")},{label:o._("Groups"),uri:new l("#")},{label:o._("Apps"),uri:new l("#")},{label:o._("Events"),uri:new l("#")}]);return this.$5};p.setTabs=function(a){p.$6=a;var b=p.$7;b!=null&&b.setTabs(a)};e.exports=p}),null);
__d("MLink",["DOM","ErrorUtils","FBLogger","MLegacyDataStore","MLinkHack","MLynx","MPageCache","MPageController","Stratcom","URI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q="standalone"in window.navigator&&window.navigator.standalone,r=!1;function a(){__p&&__p();if(r)return;r=!0;g.listen(document.documentElement,"click",null,function(event){__p&&__p();if(event.getPrevented())return;h.applyWithGuard(function(){__p&&__p();var a=event.getNode("tag:a");if(!a)return;var b=event.getRawEvent();if(a.getAttribute("onclick")||(b.which||b.button)>=2)return;k.remove(a);b=a.getAttribute("href");var c=new p(b),d=c.getProtocol();if(d&&d!="http"&&d!="https")return;var e=c.getDomain(),f=b&&b.charAt(0);f=!f||/[\/#]/.test(f);var g=c.getPort()?[e,c.getPort()].join(":"):e;f||location.host===g;f=e&&!/\.facebook.com$/i.test(e);f&&!l.isShimmedLink(a)&&i("FIXME").mustfix("Loading an external URL without shimming: %s",b);g=a.getAttribute("target");if((g=="_blank"||f)&&q)return;if(g=="_blank")window.open(b,"_blank");else if(c.getPath().toLowerCase().indexOf("/dialog/oauth")>-1)return;else if(g||d&&d+":"!==location.protocol||o.hasSigil(a,"no_mpc")||f)window.location=b;else if(b)if(b.indexOf("#")===0){e=document.getElementById(b.substr(1));e&&e.scrollIntoView()}else{c=j.get(a);c.fromCache&&m.setScrollHistory(b,0);n.load(b,{replace:c.behavior==="replace-state",expiration:c.fromCache?n.HISTORY_EXPIRE_MS:null,scrollToTop:!0})}else{if(a.hasAttribute("data-sigil"))return;g="";d=event.getTarget();while(d&&d!=document.body)g=g+" <"+d.nodeName,d.id&&(g=g+" id="+d.id),d.className&&(g=g+" class="+d.className),g=g+" >",d=d.parentNode;i("FIXME").warn('handleClick: unknown link action: <a id="%s" class="%s" /> Path: %s',a.id,a.className,g);return}event.prevent()},null,[],null,"LinkController")})}f.setupListener=a}),null);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h=/[ ]+/g,i=/[^ ]+/g,j=new RegExp("[^ "+n()+"]+|"+a(),"g"),k=new RegExp(a(),"g"),l=1e3,m=!1;function n(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+n()+"]"}var o={},p={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var q in p){var r=p[q].split(" ");for(var s=0;s<r.length;s++)o[r[s]]=q}function b(a){return a.replace(k," ")}function t(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(o[c]||c)+b;return b.replace(h," ")}function u(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d)d=d[0],c.push(d),d=b.exec(a);return c}function c(a,b){__p&&__p();b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){m&&d>=l&&(c={},d=0);var g=t(e),h=a(g);c[e]={value:e,flatValue:g,tokens:u(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===undefined&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var v=c(b),w=c(function(a){return a},j);function d(a,b,c){__p&&__p();var d=a=="query"||a=="query_punc",e=a=="query_punc"?w:v;b=e(b,a=="prefix");var f=a=="prefix"?g(b.sortedTokens):b.tokens,h=e(c).tokens,i={},j=b.isPrefixQuery&&d?f.length-1:null;e=function(b,c){for(var e=0;e<h.length;++e){var f=h[e];if(!i[e]&&(f==b||(d&&c===j||a=="prefix")&&f.indexOf(b)===0))return i[e]=!0}return!1};return Boolean(f.length&&f.every(e))}function f(){m=!0}r={flatten:t,parse:v,parseIncludingPunctuations:w,getPunctuation:a,makeParse:c,isExactMatch:d.bind(null,"exact"),isQueryMatch:d.bind(null,"query"),isQueryMatchIncludingPunctuations:d.bind(null,"query_punc"),isPrefixMatch:d.bind(null,"prefix"),tokenize:u,enableCacheSizeLimit:f};e.exports=r}),null);