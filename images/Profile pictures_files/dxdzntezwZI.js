if (self.CavalryLogger) { CavalryLogger.start_js(["+VBBq"]); }

__d("MSiteDiodeSourceGroup",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER:"messenger",MLITE:"mlite"})}),null);
__d("MSiteMessengerDiodeLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FAST_APP_SWITCH_ATTEMPT:"fast_app_switch_attempt",FAST_APP_SWITCH_FAIL:"fast_app_switch_fail",DIODE_ROADBLOCK_QP_LOAD_FAIL:"diode_roadblock_qp_load_fail",DIODE_ROADBLOCK_QP_LOAD_SUCCESS:"diode_roadblock_qp_load_success"})}),null);
__d("MessengerLiteDiodeEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PLAY_STORE_INSTALL_CLICK:"play_click",SIDELOAD_INSTALL_CLICK:"sideload_click",FAST_SWITCH_ATTEMPT:"fastswitch_attempt",FAST_SWITCH_FAIL:"fastswitch_fail"})}),null);
__d("MessengerLiteDiodeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:MessengerLiteDiodeLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:MessengerLiteDiodeLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:MessengerLiteDiodeLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setMsiteDiodePromotableApp=function(a){this.$1.msite_diode_promotable_app=a;return this};a.prototype.setMsiteDiodeStateFromClient=function(a){this.$1.msite_diode_state_from_client=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};b={event:!0,msite_diode_promotable_app:!0,msite_diode_state_from_client:!0,source:!0,vc:!0};e.exports=a}),null);
__d("XMSiteDiodeMessengerLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/log/",{log:{type:"Bool",defaultValue:!1}})}),null);
__d("MessagesJewelNativeAppRedirect",["MessengerLiteDiodeEvent","MessengerLiteDiodeTypedLogger","MHistory","MJewels","MRequest","MSiteDiodeSourceGroup","MSiteMessengerDiodeLoggerEvent","MSiteMessengerDiodeTypedLogger","Stratcom","URI","XMSiteDiodeMessengerLoggingController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();a={registerOpenURIStringForIOS:function(a,b){__p&&__p();function c(event){__p&&__p();if(event.getData().jewel==="messages"){var c=q.getURIBuilder().setBool("log",!0).getURI();c=new k(c);c.listen("done",function(c){if(b){c=new p(a);c.go()}});c.listen("error",function(c){if(b){c=new p(a);c.go()}});c.send()}}o.listen("m:jewel:flyout:open",null,c)},registerRedirect:function(a,b,c,d,e,f,r){__p&&__p();function s(event){__p&&__p();if(event.getData().jewel==="messages"){var o=q.getURIBuilder().setBool("log",!0).getURI();new k(o).send();if(c){r===l.MLITE?new h().setEvent(g.FAST_SWITCH_ATTEMPT).setMsiteDiodeStateFromClient(d).setMsiteDiodePromotableApp(f).log():new n().setEvent(m.FAST_APP_SWITCH_ATTEMPT).setMessagingEntryPoint(b).setMsiteDiodeStateFromClient(d).log();o=new p(a);o.go();e&&i.popSoftState(j.MESSAGES)}}}o.listen("m:jewel:flyout:open",null,s)}};e.exports=a}),null);
__d("MessengerRedirectOnClick",["MessengerLiteDiodeEvent","MessengerLiteDiodeTypedLogger","MRequest","MSiteDiodeSourceGroup","MSiteMessengerDiodeLoggerEvent","MSiteMessengerDiodeTypedLogger","URI","XMSiteDiodeMessengerLoggingController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();a={register:function(a,b,c,d,e,f,o){__p&&__p();b.onclick=function(){__p&&__p();var b=n.getURIBuilder().setBool("log",!0).getURI();new i(b).send();if(d&&o===j.MLITE){new h().setEvent(g.FAST_SWITCH_ATTEMPT).setMsiteDiodeStateFromClient(e).setMsiteDiodePromotableApp(f).log();b=new m(a);b.go()}else if(d){new l().setEvent(k.FAST_APP_SWITCH_ATTEMPT).setMessagingEntryPoint(c).setMsiteDiodeStateFromClient(e).log();b=new m(a);b.go()}}}};e.exports=a}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("MNotificationsPushInstall",["Promise","BanzaiLogger","KaiOSController","MobileAppDetect","MRequest","PushRegistration","Stratcom","XBrowserPushXOutController","XPushRegisterServiceWorkerController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();function p(event,a,b){a={event:event,appid:a,surface:b};h.log("BrowserPushLoggerConfig",a)}a={installHandler:function(a,b){__p&&__p();p("turn_on",a.appID,b);var c;j.is_kaios?c=a.registerPushOnKaiOS(o,k,i):(l.pushPermissionIsPending()&&m.invoke("m:notifications:push:install:showCurtain"),c=a.registerPush(o,k,function(){},!0));return new g(function(d,e){__p&&__p();c.then(function(){m.invoke("m:notifications:push:install:hideCurtain");p("install",a.appID,b);d(!0);m.invoke("m:notifications:push:install:installed");return})["catch"](function(c){m.invoke("m:notifications:push:install:hideCurtain");window.Notification&&window.Notification.permission==="denied"?p("deny",a.appID,b):p("install_ignore",a.appID,b);m.invoke("m:notifications:push:install:notInstalled");e(c);return})})},xoutHandler:function(a,b){return new g(function(c,d){p("xout",a.appID,b);var e=n.getURIBuilder().getURI();e=new k(e);e.setMethod("POST");e.listen("finally",c);e.listen("fail",d);e.send()})}};e.exports=a}),null);
__d("MNotificationsPushInstallCurtain",["CSS","DOM","MViewport","Stratcom","cx"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="upsell_curtain",m="curtain_with_context",n=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),o=null;function p(){if(o instanceof HTMLElement){var a=r(o);a&&g.show(o)}j.listen("click",l,q)}function q(){o instanceof HTMLElement&&g.hide(o)}a={startListening:function(a){o=a,j.listen("m:notifications:push:install:showCurtain",null,p),j.listen("m:notifications:push:install:hideCurtain",null,q)}};function r(a){__p&&__p();if(a.id!==m)return!0;var b=i.getHeaderElement();if(i.getHeight()*window.devicePixelRatio<400||i.isLandscape()||!a||!b||!b.parentNode||!b.parentNode.parentNode||b.parentNode.parentNode.id!=="page")return!1;s(a);u(a);var c=h.create("div",{position:"relative"});c.appendChild(a);h.insertAfter(b.parentNode,c);return!0}function s(a){if(t()){a=a.getElementsByClassName("_1t9n")[0];a&&g.addClass(a,"_u6u")}}function t(){var a=h.create("div");a.setAttribute("style","position: fixed; bottom: 0; height: 100vh;");h.appendContent(document.body,a);var b=a.offsetHeight>window.innerHeight&&a.offsetTop<0;h.remove(a);return b}function u(a){var b=navigator.language||" ";if(n.has(b.substring(0,2))||n.has(b.substring(0,3))){b=a.getElementsByClassName("_1f0e")[0];b&&(b.className="_1f0f")}}e.exports=a}),null);
__d("BrowserPushRegistrationStages",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION_NOT_NOW:"action_not_now",ACTION_TURN_ON:"action_turn_on",ASSIST_DIALOG_CLOSED_BY_ACTION:"assist_dialog_closed",ENTERED_SITE_SETTINGS:"entered_site_settings",IMPRESSION:"impression",INSTALL_SUCCESS:"install_success",LEFT_SITE_SETTINGS:"left_site_settings",NOTIFICATION_PERMISSIONS_ENABLED:"notification_permissions_enabled",PERMISSION_ASSIST_SHOWN:"permission_assist_shown",PERMISSIONS_BLOCKED:"permissions_blocked",PERMISSIONS_UNBLOCKED:"permissions_unblocked",QP_RENDER:"qp_render",SYSTEM_DIALOG_DENY:"system_dialog_deny",SYSTEM_DIALOG_IGNORE:"system_dialog_ignore",TRY_INSTALL:"try_install",ERROR_PERMISSIONS_BLOCKED:"error_permissions_blocked"})}),null);
__d("MNotificationsPushUpsellFunnelLogger",["BanzaiLogger"],(function(a,b,c,d,e,f,g){a={log:function(a,b,c,d){a={attemptid:a,stage:b,appid:c,surface:d};g.log("BrowserPushRegistrationFlowLoggerConfig",a)}};e.exports=a}),null);
__d("MToastAction",["CSS","DOM","FbtResultBase","cx"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k={showToast:function(a,b){var c=h.create("div",null,a);h.appendContent(document.body,c);setTimeout(function(){return g.addClass(c,"_4zke")},b);setTimeout(function(){return h.remove(c)},b+1e3)},showDefaultToast:function(a,b){a=h.create("div",{className:"_3fcy"},a);a=h.create("div",{className:"_2jow _3fc-"},a);k.showToast(a,b)}};e.exports=k}),null);
__d("QPEventHandling",["Stratcom","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a={registerClickListener:function(a,b,c){if(h("AT4xA1q4wpGis6oWeQkyPCT0krps2vBvkpL9O5fFgRArA2wG3cTYxYm4n1qjpDHhQaO7G_GJI8jxRWvsTmGFbhdqPkgcOkbugP0Ms5PDyT_J8Q")){b="m:qp:"+a.id+":"+b+":sigil";g.addSigil(a,b);g.listen("click",b,c)}else a.addEventListener("click",c)}};e.exports=a}),null);
__d("QPRenderer",["CSS","FBLogger","Parent","QPEventHandling","XAsyncRequest","XQuickPromotionSimpleLoggingController","csx","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();function o(a,event,b){a=l.getURIBuilder().setInt("qp_id",a).setString("qp_event",event).setStringToStringMap("qp_instance_log_data",b).getURI();new k(a).send()}function a(a,b,c){a=l.getURIBuilder().setInt("qp_id",a).setEnum("qp_action",b).setStringToStringMap("qp_instance_log_data",c).getURI();new k(a).send()}function b(a,b,c,d,e,f){d=n(d);d!==null?p(a,c,d,f,function(){e&&g.hide(b)}):h("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,c)}function c(a,b,c,d,e){p(a,b,c,e,function(){if(d){var a=i.bySelector(c,"._5jmm");a instanceof HTMLElement&&g.hide(a)}})}function d(a,b,c){b.show();o(a,"view",{});b.subscribe("cancel",function(){o(a,"dialog_cancel",{})});for(var d=0;d<c.length;d++){var e=c[d],f=n(e.element_id);f!==null?(p(a,e.action,f,e.extra_log_data,e.should_close?function(){b.hide()}:function(){}),e.action=="primary"&&f.focus()):h("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,e.action)}}function p(a,b,c,d,e){j.registerClickListener(c,b,function(){var c=l.getURIBuilder().setInt("qp_id",a).setEnum("qp_action",b).setStringToStringMap("qp_instance_log_data",d).getURI();new k(c).send();e()})}f.setAction=b;f.setComponentActionForFeedUnitQP=c;f.setDialogActionsAndShow=d;f.logAction=a;f.logEvent=o}),null);
__d("MNotificationsPushUpsellInstaller",["BrowserPushRegistrationStages","MJewels","MNotificationsPushInstall","MNotificationsPushUpsellFunnelLogger","MToastAction","PushRegistration","QE2Logger","QPRenderer","Stratcom","fbt","isVisible"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=null,s=null,t=null,u=null;!1;var v=function(a){u&&u(a)},w=function(a,b,c,d,e,f){__p&&__p();if(l.pushPermissionIsDenied())return!1;if(e){m.logExposureForUser(e);if(f)return!1}u=function(a){j.log(c,a,b,d)};s=d;r=l.get(a,b);return!0},x=function(){if(r===null||s===null)return;v(g.TRY_INSTALL);i.installHandler(r,s).then(function(){v(g.INSTALL_SUCCESS),k.showDefaultToast(p._("Facebook notifications on"),3e3)})["catch"](function(){r!==null&&s!==null&&(l.pushPermissionIsDenied()?(v(g.SYSTEM_DIALOG_DENY),i.xoutHandler(r,s)):v(g.SYSTEM_DIALOG_IGNORE))})};(function(){t&&(clearInterval(t),t=null)});var y=function(a){v(g.IMPRESSION),n.logEvent(a,"view",{}),v(l.pushPermissionIsDenied()?g.PERMISSIONS_BLOCKED:g.PERMISSIONS_UNBLOCKED)},z="m:qp:push-notifications:log-impression",A={invokeImpressionEvent:function(){o.invoke(z)},installOnUpsellClick:function(a,b,c,d,e,f,i,j,k,m){__p&&__p();if(!w(a,b,e,f,k,m))return!1;q(j)?y(i):(o.listen(z,null,function(){o.removeCurrentListener(),y(i)}),o.listen("m:jewel:flyout:open",null,function(event){event.getData().jewel===h.NOTIFICATIONS&&(o.removeCurrentListener(),A.invokeImpressionEvent())}));o.listen("click",c,function(){v(g.ACTION_TURN_ON),l.pushPermissionIsDenied()?v(g.ERROR_PERMISSIONS_BLOCKED):x()});o.listen("click",d,function(){v(g.ACTION_NOT_NOW)});return!0},installDirectFromUpsell:function(a,b,c,d,e,f,g){w(a,b,d,e,f,g)&&(A.invokeImpressionEvent(),n.logEvent(c,"view",{}),x())},install:function(a){if(l.pushPermissionIsDenied())return;a.isInControlGroup||(a.promotionContainerNode.style.display="block");A.installOnUpsellClick(a.path,a.appID,a.installButtonSigil,a.notNowButtonSigil,a.installAttemptID,a.surface,a.promotionID,a.promotionContainerNode,a.qeUniverseName,a.isInControlGroup)}};e.exports=A}),null);
__d("MNotificationsDirectPrompt",["MNotificationsPushInstall","MNotificationsPushInstallCurtain","MNotificationsPushUpsellInstaller","MobileAppDetect","MRequest","PushRegistration","XBrowserPushDisabledController","XPushRegisterServiceWorkerController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();a={installPush:function(a){__p&&__p();a.curtain&&h.startListening(a.curtain);var b=l.get(a.path,a.appID);if(j.is_kaios){!a.isInstalled&&!a.wasXOuted&&g.installHandler(b,"prompt");return}a.wasXOuted&&a.upsell&&i.installDirectFromUpsell(a.path,a.appID,a.upsell.promotionID,a.upsell.installAttemptID,a.upsell.surface,a.upsell.qeUniverseName,a.upsell.isInControlGroup);b.isPushRegistered(a.isInstalled,n,m,k,a.registerAnyway,function(){},!0).then(function(c){!c&&!a.wasXOuted&&g.installHandler(b,"prompt")["catch"](function(){g.xoutHandler(b,"prompt")})})["catch"](function(){})}};e.exports=a}),null);
__d("MQuickPromotion",["DOM","Stratcom"],(function(a,b,c,d,e,f,g,h){"use strict";var i=!1;e.exports={main:function(){if(i)return;i=!0;h.listen("click","m-promo-close",function(event){var a=event.getNode("m-promo"),b=event.getNode("m-megaphone");g.hide(a,b)})}}}),null);
__d("MQuickPromotionEmbeddedInterstitial",["DOM","MRequest","Stratcom","XQuickPromotionSimpleLoggingController"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=!1;a=function(a,b,c){__p&&__p();if(k)return;k=!0;function d(event){i.removeCurrentListener();var b=event.getNode(a.promo);g.hide(b);b=g.find(event.getNode(a.jewel),"div",a.sibling);g.show(b);i.invoke("m:qp:embedded-interstitial:close")}function e(event){if(event.getData().jewel==a.jewel){i.removeCurrentListener();var d=j.getURIBuilder().setInt("qp_id",b).setStringToStringMap("qp_instance_log_data",c).setString("qp_event","view").getURI();d=new h(d);d.send()}}i.listen("click",a.close,d);i.listen("m:jewel:flyout:open",null,e)};f.main=a}),null);
__d("MQuickPromotionNotificationJewel",["MJewels","QPRenderer","Stratcom"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=!1;a=function(a){function b(event){!j&&event.getData().jewel===g.NOTIFICATIONS&&(h.logEvent(a.promotionID,"view",{}),j=!0)}i.listen("m:jewel:flyout:open",null,b)};f.registerForLogging=a}),null);